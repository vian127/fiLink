;(function(factory, window, document, undefined) {if (typeof define === "function" && (define.amd || define.cmd)) {    define(function(){        return factory(window, document, undefined);    });}else {    window.Q = factory(window, document, undefined);}})(function(t,i,e){"use strict";function n(t,i,e){if(t.hasChildren()){var r=t._fy||t.getChildren();if(r){r=r._j7||r;for(var s=0,o=r.length;o>s;s++)if(i.call(e,r[s])===!1||n(r[s],i,e)===!1)return!1;return!0}}}function r(t){if(!t.hasChildren())return t instanceof Fh?t:null;for(var i,e=t._fy._j7,n=e.length-1;n>=0;){if(i=e[n],i=r(i))return i;n--}return null}function s(t,i,e,n){return n?o(t,i,e):a(t,i,e)}function o(t,i,e){t=t._j7||t;for(var n,r=0,s=t.length;s>r;r++)if(n=t[r],n.hasChildren()&&!o(n.children,i,e)||i.call(e,n)===!1)return!1;return!0}function a(t,i,e){t=t._j7||t;for(var n,r=0,s=t.length;s>r;r++)if(n=t[r],i.call(e,n)===!1||n.hasChildren()&&!a(n.children,i,e))return!1;return!0}function h(t,i,e,n){return n?l(t,i,e):_(t,i,e)}function l(t,i,e){t=t._j7||t;for(var n,r=t.length,s=r-1;s>=0;s--)if(n=t[s],n.hasChildren()&&!l(n.children,i,e)||i.call(e,n)===!1)return!1;return!0}function _(t,i,e){t=t._j7||t;for(var n,r=t.length,s=r-1;s>=0;s--)if(n=t[s],i.call(e,n)===!1||n.hasChildren()&&!_(n.children,i,e))return!1;return!0}function u(t,i,e){for(var n,r=(t._j7||t).slice(0);r.length;){n=r[0],r=r.splice(1);var s=i.call(e,n);if(s===!1)return!1;if(n.hasChildren()){var o=n.children;o=o._j7||o,r=r.concat(o)}}return!0}function f(t,i,e){for(var n,r=(t._j7||t).slice(0);r.length;){n=r[r.length-1],r=r.splice(0,r.length-1);var s=i.call(e,n);if(s===!1)return!1;if(n.hasChildren()){var o=n.children;o=o._j7||o,r=r.concat(o)}}return!0}function c(t,i){function e(t,e){for(var n=t.length,r=e.length,s=n+r,o=new Array(s),a=0,h=0,l=0;s>l;)o[l++]=a===n?e[h++]:h===r||i(t[a],e[h])<=0?t[a++]:e[h++];return o}function n(t){var i=t.length,r=Math.ceil(i/2);return 1>=i?t:e(n(t.slice(0,r)),n(t.slice(r)))}return n(t)}function d(t,i,e,n){t instanceof lo&&(t=t._j7);for(var r=0,s=(t._j7||t).length;s>r;r++){var o=i.call(e,t[r],r,n);if(o===!1)return!1}return!0}function v(t,i,e){for(var n=t instanceof lo,r=t._j7||t,s=0,o=r.length;o>s;s++){var a=r[s];i.call(e,a)&&(n?t.remove(a):t.splice(s,1),s--,o--)}}function g(t,i,e,n){t instanceof lo&&(t=t._j7);for(var r=(t._j7||t).length-1;r>=0;r--){var s=i.call(e,t[r],r,n);if(s===!1)return!1}return!0}function E(t){if(t.clone instanceof Function)return t.clone(!0);var i,e=[];return d(t,function(t){i=t&&t.clone instanceof Function?t.clone():t,e.push(i)},this),e}function p(t,i,n){n===e||0>n?t.push(i):t.splice(n,0,i)}function y(t,i){var e=t.indexOf(i);return 0>e||e>=t.length?!1:t.splice(e,1)}function T(t,i){var e=!1;return d(t,function(t){return i==t?(e=!0,!1):void 0}),e}function m(t,i){var e=t;for(var n in i)if(i.__lookupGetter__){var r=i.__lookupGetter__(n),s=i.__lookupSetter__(n);r||s?(r&&e.__defineGetter__(n,r),s&&e.__defineSetter__(n,s)):e[n]=i[n]}else e[n]=i[n];return e}function w(t,i,e){if(!(t instanceof Function))throw new Error("subclass must be type of Function");var n=null;"object"==typeof i&&(n=i,i=t,t=function(){i.apply(this,arguments)});var r=t.prototype,s=function(){};return s.prototype=i.prototype,t.prototype=new s,t.superclass=i.prototype,t.superclass.constructor=i,m(t.prototype,r),n&&m(t.prototype,n),e&&m(t.prototype,e),t.prototype.class=t,t}function x(t,i,e){return O(t,i,"constructor",e)}function O(t,i,e,n){var r=i.superclass;if(r){var s=r[e];return s?s.apply(t,n):void 0}}function A(t,i,e,n){if("constructor"==e)return b(t,i,n);if(i.super_ instanceof Function){var r=i.super_.prototype[e];return r instanceof Function?r.apply(t,n):void 0}}function b(t,i,e){return i.super_ instanceof Function?i.super_.apply(t,e):void 0}function L(t,i){return t.super_=i,t.prototype=Object.create(i.prototype,{super_:{value:i,enumerable:!1},constructor:{value:t,enumerable:!1}}),t}function S(t,i,e){if(!(t instanceof Function)&&t instanceof Object){i=t.super;var n;return t.hasOwnProperty("constructor")?(n=t.constructor,delete t.constructor):n=i?function(){i.apply(this,arguments)}:function(){},S(n,i,t)}if(i&&!(i instanceof Function)&&i instanceof Object)return S(t,i.super,i);if(i&&L(t,i),e){var r=t.prototype;for(var s in e)r[s]=e[s]}return t}function I(t,i,n,r,s){if(r)return void Object.defineProperty(t,i,{value:n,enumerable:!0});var o={configurable:!0,enumerable:!0},a="$"+i;n!==e&&(t[a]=n),o.get=function(){return this[a]},o.set=function(t){var e=this[a];if(e==t)return!1;var n=new Io(this,i,t,e);return this.beforeEvent(n)?(this[a]=t,s&&s.call(this,t,e),this.onEvent(n),!0):!1},Object.defineProperty(t,i,o)}function D(t,i){for(var e=0,n=i.length;n>e;e++){var r=i[e];I(t,r.name||r,r.defaultValue||r.value,r.readOnly,r.onSetting)}}function C(t,i,e){return i instanceof Object?t=t.bind(i):i&&!e&&(e=parseInt(i)),i&&!e&&(e=parseInt(i)),e?setTimeout(t,e):setTimeout(t)}function R(i,e){return e&&(i=i.bind(e)),t.requestAnimationFrame(i)}function P(t,i){return t.className=i,t}function N(t,i){if(!t.hasOwnProperty("classList")){var e=t.getAttribute("class");if(!e)return P(t,i);for(var n=e.split(" "),r=0,s=n.length;s>r;r++)if(n[r]==i)return;return e+=" "+i,P(t,e)}t.classList.add(i)}function k(t,i){if(!t.hasOwnProperty("classList")){var e=t.getAttribute("class");if(!e||!e.indexOf(i))return;for(var n="",r=e.split(" "),s=0,o=r.length;o>s;s++)r[s]!=i&&(n+=r[s]+" ");return P(t,n)}t.classList.remove(i)}function M(t){return!isNaN(t)&&t instanceof Number||"number"==typeof t}function B(t){return t!==e&&(t instanceof String||"string"==typeof t)}function z(t){return t!==e&&(t instanceof Boolean||"boolean"==typeof t)}function G(t){return Array.isArray(t)}function F(i){i||(i=t.event),i.preventDefault?i.preventDefault():i.returnValue=!1}function $(i){i||(i=t.event),i.stopPropagation?i.stopPropagation():i.cancelBubble||(i.cancelBubble=!0)}function j(t){F(t),$(t)}function Y(t){return Math.floor(Math.random()*t)}function H(){return Math.random()>=.5}function U(t){var i=!0;for(var e in t){i=!1;break}return i}function W(t){if(t&&t>0&&1>t){var i=Math.floor(16777215*Math.random());return"rgba("+(i>>16&255)+","+(i>>8&255)+","+(255&i)+","+t.toFixed(2)+")"}return q(Math.floor(16777215*Math.random()))}function V(t){return t>0?Math.floor(t):Math.ceil(t)}function X(t){return t>0?Math.ceil(t):Math.floor(t)}function q(t){return 16777216>t?"#"+("000000"+t.toString(16)).slice(-6):"rgba("+(t>>16&255)+","+(t>>8&255)+","+(255&t)+","+((t>>24&255)/255).toFixed(2)+")"}function K(t,i,e){"object"!=typeof e||e.hasOwnProperty("enumerable")||(e.enumerable=!0),Object.defineProperty(t,i,e)}function Z(t,i){for(var e in i)if("_"!=e[0]){var n=i[e];"object"!=typeof n||n.hasOwnProperty("enumerable")||(n.enumerable=!0)}Object.defineProperties(t,i)}function J(i,e){e||(e=t);for(var n=i.split("."),r=0,s=n.length;s>r;r++){var o=n[r];e=e[o]}return e}function Q(t){return t instanceof MouseEvent||t instanceof Object&&t.touches!==e}function ti(){t.console&&console.log.apply(console,arguments)}function ii(i){t.console&&console.trace(i)}function ei(i){t.console&&console.error(i)}function ni(t,i,e){var n,r,s;0==t._lw?(n=-1,s=0,r=i):0==t._lz?(n=0,s=1,r=e):(n=-1/t._lw,r=(t._lw-n)*i+t._lx,s=1);var o=new vo;return o._lw=n,o._lx=r,o._lz=s,o._lt=i,o._ls=e,o._kk=Math.atan2(n,s),o._lzos=Math.cos(o._kk),o._sin=Math.sin(o._kk),o}function ri(t,i,e,n,r){var s,o;i>n?s=-1:n>i&&(s=1),e>r?o=-1:r>e&&(o=1);var a,h;if(!s)return h=0>o?t.y:t.bottom,{x:i,y:h};if(!o)return a=0>s?t.x:t.right,{x:a,y:e};var l=(e-r)/(i-n),_=e-l*i,u=0>s?i-t.x:i-t.right,f=0>o?e-t.y:e-t.bottom;return Math.abs(l)>=Math.abs(f/u)?(h=0>o?t.y:t.bottom,a=(h-_)/l):(a=0>s?t.x:t.right,h=l*a+_),{x:a,y:h}}function si(t,i,e,n,r,s,o,a){return 0>=o||0>=a||0>=e||0>=n?!1:(o+=r,a+=s,e+=t,n+=i,(r>o||o>t)&&(s>a||a>i)&&(t>e||e>r)&&(i>n||n>s))}function oi(t,i,e,n,r,s){return r>=t&&t+e>=r&&s>=i&&i+n>=s}function ai(t,i,e,n,r,s,o,a,h){return h&&(t-=h,i-=h,e+=h+h,n+=h+h),r>=t&&s>=i&&t+e>=r+o&&i+n>=s+a}function hi(t,i,e,n,r,s,o,a){var h=t;h+=e;var l=i;l+=n;var _=r;_+=o;var u=s;return u+=a,r>t&&(t=r),s>i&&(i=s),h>_&&(h=_),l>u&&(l=u),h-=t,l-=i,0>h||0>l?null:new Eo(t,i,h,l)}function li(t){return"x"in t&&"y"in t}function _i(t,i){var e=ui(t,i.width,i.height);return e.x+=i.x||0,e.y+=i.y||0,e}function ui(t,i,n){if(!t)return{x:0,y:0};if(B(t)&&(t=yo.fromString(t)),t instanceof yo){var r,s,o=t.horizontalPosition,a=t.verticalPosition;switch(o){case To:r=0;break;case wo:r=i;break;default:r=i/2}switch(a){case xo:s=0;break;case Ao:s=n;break;default:s=n/2}return{x:r,y:s}}if(t.x!==e)return t.byPercent?{x:t.x*i,y:t.y*n}:{x:t.x,y:t.y};throw new Error("Position not be supported - "+t)}function fi(t,i,e){t.children.add(i,e),t.onChildAdd(i,e)}function ci(t,i){t._fy&&(t._fy.remove(i),t.onChildRemove(i))}function di(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,i){return i.toUpperCase()})}function vi(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function gi(t,i){var e=t.style;if(!e)return!1;var n,r;for(n in i)i.hasOwnProperty(n)&&(r=Uo(n))&&(e[r]=i[n]);return t}function Ei(t){var i,e,n="";for(i in t)t.hasOwnProperty(i)&&(e=Uo(i))&&(n+=vi(e)+":"+t[i]+";");return n?n.substring(0,n.length-1):n}function pi(t,i,e){(i=Uo(i))&&(t.style[i]=e)}function yi(t,i){return Yo?(i&&!B(i)&&(i=Ei(i)),Yo.insertRule?void Yo.insertRule(t+"{"+i+"}",0):void(Yo.addRule&&Yo.addRule(t,i,0))):!1}function Ti(t,i){var e=t.clientWidth;return e?(i=i||t.getBoundingClientRect(),i.width/e):1}function mi(i,e){i.touches&&(i=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i.touches[0]);var n=e.getBoundingClientRect(),r=i.clientX||0,s=i.clientY||0;so&&to&&(t.pageXOffset&&r==i.pageX&&(r-=t.pageXOffset),t.pageYOffset&&s==i.pageY&&(s-=t.pageYOffset)),r-=n.left,s-=n.top;var o=Ti(e,n);return o&&1!==o&&(r/=o,s/=o),{x:r,y:s}}function wi(t,i){var e,n;t.touches?(e=t.cx,n=t.cy):(e=t.clientX,n=t.clientY);var r=Ti(i);return r&&1!==r&&(e/=r,n/=r),{timeStamp:t.timeStamp,x:e,y:n}}function xi(t,i,e){this._l5=t,this._scope=e,this._handler=i,this._dragPoints=new Ai,this._install()}function Oi(t){return io&&t.metaKey||!io&&t.ctrlKey}function Ai(){this.points=[]}function bi(t,i,e,n,r){Si(t,function(n){if(i){var r=n.responseXML;if(!r)return void(e||wa)("'"+t+"' XML format error.");i(r)}},e,n,r)}function Li(t,i,e,n,r){Si(t,function(n){if(i){var r,s=n.responseText;if(!s)return(e||wa)("'"+t+"' JSON format error."),r=new Error("'"+t+"' JSON format error."),i(s,r);try{s=JSON.parse(s)}catch(o){(e||wa)(o),r=o}i(s,r)}},e,n,r)}function Si(t,i,e,n,r){(e===!1||n===!1)&&(r=!1);try{var s=new XMLHttpRequest,o=encodeURI(t);if(r!==!1){var a;a=o.indexOf("?")>0?"&":"?",o+=a+"__time="+Date.now()}s.open("GET",o),s.onreadystatechange=function(){return 4==s.readyState?s.status&&200!=s.status?void(e||wa)("'"+t+"' load error"):void(i&&i(s)):void 0},s.send(n)}catch(h){(e||wa)("'"+t+"' load error",h)}}function si(t,i,e,n,r,s,o,a){return 0>=o||0>=a||0>=e||0>=n?!1:(o+=r,a+=s,e+=t,n+=i,(r>o||o>t)&&(s>a||a>i)&&(t>e||e>r)&&(i>n||n>s))}function ai(t,i,e,n,r,s,o,a){return r>=t&&s>=i&&t+e>=r+o&&i+n>=s+a}function Ii(t,i,e){return t instanceof Object&&t.x?Ci(t,i,0,0):Di(t,i,e,0,0)}function Di(t,i,e,n,r){var s=Math.sin(e),o=Math.cos(e),a=t-n,h=i-r;return t=a*o-h*s+n,i=a*s+h*o+r,new fo(t,i,e)}function Ci(t,i,e,n){e=e||0,n=n||0;var r=Math.sin(i),s=Math.cos(i),o=t.x-e,a=t.y-n;return t.x=o*s-a*r+e,t.y=o*r+a*s+n,t}function Ri(t,i,e){return Pi(t,i,e,0,0)}function Pi(t,i,e,n,r){var s=Di(t.x,t.y,i,n,r),o=Di(t.x+t.width,t.y,i,n,r),a=Di(t.x+t.width,t.y+t.height,i,n,r),h=Di(t.x,t.y+t.height,i,n,r);return e?e.clear():e=new Eo,e.addPoint(s),e.addPoint(o),e.addPoint(a),e.addPoint(h),e}function Ni(t,i){var e=this.ratio||1;this.style.width=t+"px",this.style.height=i+"px",this.width=t*e,this.height=i*e}function ki(t){var i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Aa/i}function Mi(t,e,n){var r=i.createElement("canvas");if(r.g=r.getContext("2d"),t!==!0&&!n)return t&&e&&(r.width=t,r.height=e),r;var s=r.g;return s.ratio=r.ratio=ki(s),r.setSize=Ni,s._kc=function(){this.canvas.width=this.canvas.width},t&&e&&r.setSize(t,e),r}function Bi(t,i){return ba||(ba=Mi()),t&&i&&(ba.width=t,ba.height=i),ba.g}function zi(t,i,e){return(e||ho.FONT_STYLE)+" "+(i||ho.FONT_SIZE)+"px "+(t||ho.FONT_FAMILY)}function Gi(t,i,e,n,r,s,o,a,h,l){if(t.save(),t.translate(e,n),La&&Sa>o){var _=o/Sa;t.scale(_,_),o=Sa,l=null}h||(h=ho.LINE_HEIGHT),o||(o=ho.FONT_SIZE),h*=o,t.font=l||zi(s,o,a),t.textAlign=r,t.textBaseline="middle";for(var u=h/2,f=i.split("\n"),c=0,d=f.length;d>c;c++){var v=f[c];t.fillText(v,0,u),u+=h}t.restore()}function Fi(t,i,e,n,r,s){if(!t)return{width:0,height:0};if(i||(i=ho.FONT_SIZE),La&&Sa>i){var o=i/Sa,a=Fi(t,Sa,e,n,r);return a.width*=o,a.height*=o,a}var h=Bi();h.font=s||zi(e,i,n),r||(r=ho.LINE_HEIGHT);for(var l=i*r,_=0,u=0,f=t.split("\n"),c=0,d=f.length;d>c;c++){var v=f[c];_=Math.max(h.measureText(v).width,_),u+=l}return{width:_,height:u}}function $i(t,i,e,n,r){var s;try{s=t.getImageData(i,e,n,r)}catch(o){}return s}function ji(t){return Math.log(t+Math.sqrt(t*t+1))}function Yi(t,i){i=i||t(1);var e=1/i,n=.5*e,r=Math.min(1,i/100);return function(s){if(0>=s)return 0;if(s>=i)return 1;for(var o=s*e,a=0;a++<10;){var h=t(o),l=s-h;if(Math.abs(l)<=r)return o;o+=l*n}return o}}function Hi(t,i,e){var n=1-t,r=n*n*i[0]+2*n*t*i[2]+t*t*i[4],s=n*n*i[1]+2*n*t*i[3]+t*t*i[5];if(e){var o=(i[0]+i[4]-2*i[2])*t+i[2]-i[0],a=(i[1]+i[5]-2*i[3])*t+i[3]-i[1];return{x:r,y:s,rotate:Math.atan2(a,o)}}return{t:t,x:r,y:s}}function Ui(t,i,e){var n=t-2*i+e;return 0!=n?(t-i)/n:-1}function Wi(t,i){i.add(t[4],t[5]);var e=Ui(t[0],t[2],t[4]);if(e>0&&1>e){var n=Hi(e,t);i.add(n.x,n.y)}var r=Ui(t[1],t[3],t[5]);if(r>0&&1>r){var n=Hi(r,t);i.add(n.x,n.y)}return i}function Vi(t,i){return Math.abs(t-i)<1e-7}function Xi(t,i){return Vi(t[0],i[0])&&Vi(t[1],i[1])}function qi(t){if(Xi([t[0],t[1]],[t[2],t[3]])){var i=t[0],e=t[1],n=t[4],r=t[5],s=Math.sqrt(Ia(i,e,n,r));return function(t){return s*t}}if(Xi([t[0],t[1]],[t[4],t[5]])||Xi([t[2],t[3]],[t[4],t[5]])){var i=t[0],e=t[1],n=t[2],r=t[3],s=Math.sqrt(Ia(i,e,n,r));return function(t){return s*t}}var o=t[0],a=t[2],h=t[4],l=o-2*a+h,_=2*a-2*o;o=t[1],a=t[3],h=t[5];var u=o-2*a+h,f=2*a-2*o,c=4*(l*l+u*u),d=4*(l*_+u*f),v=_*_+f*f,s=4*c*v-d*d;if(1e-5>s&&s>-1e-5){var g=co(t[0],t[1],t[2],t[3]),E=co(t[2],t[3],t[4],t[5]);return function(t){return(2*g+(E-g)*t)*t}}var p=1/s,y=.125*Math.pow(c,-1.5),T=2*Math.sqrt(c),m=(s*ji(d/Math.sqrt(s))+2*Math.sqrt(c)*d*Math.sqrt(v))*y;return function(t){var i=d+2*t*c,e=i/Math.sqrt(s),n=i*i*p;return(s*Math.log(e+Math.sqrt(n+1))+T*i*Math.sqrt(v+t*d+t*t*c))*y-m}}function Ki(t,i,e){var n=1-t,r=i[0],s=i[2],o=i[4],a=i[6],h=r*n*n*n+3*s*t*n*n+3*o*t*t*n+a*t*t*t;if(e)var l=3*t*t*a+(6*t-9*t*t)*o+(9*t*t-12*t+3)*s+(-3*t*t+6*t-3)*r;r=i[1],s=i[3],o=i[5],a=i[7];var _=r*n*n*n+3*s*t*n*n+3*o*t*t*n+a*t*t*t;if(e){var u=3*t*t*a+(6*t-9*t*t)*o+(9*t*t-12*t+3)*s+(-3*t*t+6*t-3)*r;return{x:h,y:_,rotate:Math.atan2(u,l)}}return{x:h,y:_}}function Zi(t,i,e,n){var r=-t+3*i-3*e+n;if(0==r)return[(t-i)/(2*e-4*i+2*t)];var s=2*t-4*i+2*e,o=i-t,a=s*s-4*r*o;return 0>a?void 0:0==a?[-s/(2*r)]:(a=Math.sqrt(a),[(a-s)/(2*r),(-a-s)/(2*r)])}function Ji(t,i){i.add(t[6],t[7]);var e=Zi(t[0],t[2],t[4],t[6]);if(e)for(var n=0;n<e.length;n++){var r=e[n];if(!(0>=r||r>=1)){var s=Ki(r,t);i.add(s.x,s.y)}}if(e=Zi(t[1],t[3],t[5],t[7]))for(var n=0;n<e.length;n++){var r=e[n];if(!(0>=r||r>=1)){var s=Ki(r,t);i.add(s.x,s.y)}}}function Qi(t){var i={x:t[0],y:t[1]},e={x:t[2],y:t[3]},n={x:t[4],y:t[5]},r={x:t[6],y:t[7]},s=i.x-0,o=i.y-0,a=e.x-0,h=e.y-0,l=n.x-0,_=n.y-0,u=r.x-0,f=r.y-0,c=3*(-s+3*a-3*l+u),d=6*(s-2*a+l),v=3*(-s+a),g=3*(-o+3*h-3*_+f),E=6*(o-2*h+_),p=3*(-o+h),y=function(t){var i=c*t*t+d*t+v,e=g*t*t+E*t+p;return Math.sqrt(i*i+e*e)},T=(y(0)+4*y(.5)+y(1))/6;return T}function te(t,i){function e(t,i,e,n){var r=-t+3*i-3*e+n,s=2*t-4*i+2*e,o=i-t;return function(t){return 3*(r*t*t+s*t+o)}}function n(t,i){var e=r(t),n=s(t);return Math.sqrt(e*e+n*n)*i}var r=e(t[0],t[2],t[4],t[6]),s=e(t[1],t[3],t[5],t[7]);i=i||100;var o=1/i;return function(t){if(!t)return 0;for(var i,e=0,r=0;;){if(i=e+o,i>=t)return r+=n(e,i-e);r+=n(e,o),e=i}}}function ie(t,i,e){return Ia(i,e,t.cx,t.cy)<=t._squareR+Da}function ee(t,i,e,n){return e=e||ne(t,i),new re((t.x+i.x)/2,(t.y+i.y)/2,e/2,t,i,null,n)}function ne(t,i){return co(t.x,t.y,i.x,i.y)}function re(t,i,e,n,r,s,o){this.cx=t,this.cy=i,this.r=e,this._squareR=e*e,this.p1=n,this.p2=r,this.p3=s,this._otherPoint=o}function se(t,i,e,n){this.cx=t,this.cy=i,this.width=e,this.height=n}function oe(t){var i=t[0],e=t[1],n=t[2],r=re._lzreateCircle(i,e,n);return he(t,i,e,n,r)}function ae(t,i){i=i||le(t);for(var e,n=i.width/i.height,r=[],s=t.length,o=0;s>o;o++)e=t[o],r.push({x:e.x,y:e.y*n});var a=oe(r);return a?new se(a.cx,a.cy/n,2*a.r,2*a.r/n):void 0}function he(t,i,e,n,r){for(var s,o,a=t.length,h=r._squareR,l=0;a>l;l++)if(s=t[l],s!=i&&s!=e&&s!=n){var _=Ia(r.cx,r.cy,s.x,s.y);_-Da>h&&(h=_,o=s)}if(!o)return r;var u,f=re._lzreateCircle(o,i,e),c=re._lzreateCircle(o,i,n),d=re._lzreateCircle(o,n,e);return ie(f,n.x,n.y)&&(u=f),ie(c,e.x,e.y)&&(!u||u.r>c.r)&&(u=c),ie(d,i.x,i.y)&&(!u||u.r>d.r)&&(u=d),i=u.p1,e=u.p2,n=u.p3||u._otherPoint,he(t,i,e,n,u)}function le(t){for(var i,e=t.length,n=new Eo,r=0;e>r;r++)i=t[r],n.add(i.x,i.y);return n}function _e(t,i,e,n,r){this._66&&this.validate();var s=r?this.getBounds(r):this.bounds,o=e/s.width,a=t-o*s.x,h=n/s.height,l=i-h*s.y,_=this._f9,u=[];return d(_,function(t){var i=t.clone(),e=i.points;if(e&&e.length){for(var n=e.length,r=[],s=0;n>s;s++){var _=e[s];s++;var f=e[s];_=o*_+a,f=h*f+l,r.push(_),r.push(f)}i.points=r}u.push(i)},this),new ah(u)}function ue(t,i,e,n,r,s){if(r=r||0,e=e||0,!r&&!s)return!1;if(!n){var o=this.getBounds(r);if(!o.intersectsPoint(t,i,e))return!1}var a=Math.round(2*e)||1,h=Bi(a,a),l=(h.canvas,-t+e),_=-i+e;if(h.setTransform(1,0,0,1,l,_),!h.isPointInStroke){this._ks(h),r&&h.stroke(),s&&h.fill();var u=$i(h,0,0,a,a);if(!u)return!1;u=u.data;for(var f=u.length/4;f>0;){if(u[4*f-1]>oh)return!0;--f}return!1}return h.lineWidth=(r||0)+2*e,this._ks(h),r&&h.isPointInStroke(e,e)?!0:s?h.isPointInPath(e,e):!1}function fe(t,i,e){if(!this._ir)return null;var n=this._f9;if(n.length<2)return null;e===!1&&(t+=this._ir);var r=n[0];if(0>=t)return Fr(r.points[0],r.points[1],n[1].points[0],n[1].points[1],t,i);if(t>=this._ir){r=n[n.length-1];var s,o,a=r.points,h=a.length,l=a[h-2],_=a[h-1];if(h>=4)s=a[h-4],o=a[h-3];else{r=n[n.length-2];var u=r.lastPoint;s=u.x,o=u.y}return Fr(l,_,l+l-s,_+_-o,t-this._ir,i)}for(var f,c=0,d=1,h=n.length;h>d;d++)if(f=n[d],f._ir){if(!(c+f._ir<t)){var v,u=r.lastPoint;if(f.type==nh){var g=f.points;v=ce(t-c,f,u.x,u.y,g[0],g[1],g[2],g[3],f._r)}else{if(!f._lf)return Fr(u.x,u.y,f.points[0],f.points[1],t-c,i);var E=Yi(f._lf,f._ir)(t-c),g=f.points;v=f.type==eh&&6==g.length?Ki(E,[u.x,u.y].concat(g),!0):Hi(E,[u.x,u.y].concat(g),!0),v.t=E}return i&&(v.x-=i*Math.sin(v.rotate||0),v.y+=i*Math.cos(v.rotate||0)),v}c+=f._ir,r=f}else r=f}function ce(t,i,e,n,r,s,o,a){if(t<=i._l1)return Fr(e,n,r,s,t,t);if(t>=i._ir)return t-=i._ir,Fr(i._p2x,i._p2y,o,a,t,t);if(t-=i._l1,i._o){var h=t/i._r;i._CCW&&(h=-h);var l=Di(i._p1x,i._p1y,h,i._o.x,i._o.y);return l.rotate+=i._lw1||0,l.rotate+=Math.PI,l}return Fr(i._p1x,i._p1y,i._p2x,i._p2y,t,t)}function ni(t,i,e){var n,r,s;0==t._lw?(n=-1,s=0,r=i):0==t._lz?(n=0,s=1,r=e):(n=-1/t._lw,r=(t._lw-n)*i+t._lx,s=1);var o=new vo;return o._lw=n,o._lx=r,o._lz=s,o._lt=i,o._ls=e,o}function de(t){return t%=2*Math.PI,0>t&&(t+=2*Math.PI),t}function ve(t,i,e,n,r,s,o,a){var h=co(i,e,n,r),l=co(n,r,s,o);if(!h||!l)return t._d=0,t._r=0,t._l1=h,t._l2=l,t._ir=0;var _=Ee(n,r,i,e),u=Ee(n,r,s,o);t._lw1=_,t._lw2=u;var f=_-u;f=de(f),f>Math.PI&&(f=2*Math.PI-f,t._CCW=!0);var c=Math.PI-f,d=Math.tan(f/2),v=a/d,g=Math.min(h,l);v>g&&(v=g,a=d*v);var E,p=n+Math.cos(_)*v,y=r+Math.sin(_)*v,T=n+Math.cos(u)*v,m=r+Math.sin(u)*v,w=new vo(i,e,n,r),x=new vo(n,r,s,o),O=ni(w,p,y),A=ni(x,T,m),b=O._3a(A),L=Math.atan2(y-b.y,p-b.x),S=Math.atan2(m-b.y,T-b.x);E=t._CCW?S:L;for(var I,D=0;4>D;){var C=D*_o;if(de(C-E)<=c){var R,P;if(I?I++:I=1,0==D?(R=b.x+a,P=b.y):1==D?(R=b.x,P=b.y+a):2==D?(R=b.x-a,P=b.y):(R=b.x,P=b.y-a),t["$boundaryPoint"+I]={x:R,y:P},2==I)break}D++}return t._p1x=p,t._p1y=y,t._p2x=T,t._p2y=m,t._o=b,t._d=v,t._r=a,t._l1=h-v,t._l2=l-v,t._ir=t._l1+c*a}function ge(t,i,e,n,r,s,o){var a=Ee(e,n,t,i),h=Ee(e,n,r,s),l=a-h;return o?l:(0>l&&(l=-l),l>Math.PI&&(l-=Math.PI),l)}function Ee(t,i,e,n){return Math.atan2(n-i,e-t)}function pe(t,i){for(var e=t.getImageData(0,0,i.width,i.height).data,n=!1,r=3,s=e.length;s>r;r+=4)if(e[r]<255){n=!0;break}return n}function ye(t){return t=me(t),/^png/i.test(t)||/^gif/i.test(t)}function Te(t,i,e,n,r){if(i&&e){t.lineWidth=.5,t.strokeStyle="#CCC",t.strokeRect(0,0,i,e),n&&(t.fillStyle=n,t.fillRect(0,0,i,e));var s=2,o=40,a=28,h=10,l=Math.min(i/(o+h),e/(a+h));t.save(),t.globalAlpha=.6,t.translate(i/2,e/2),t.scale(l,l),t.translate(-o/2,-a/2),t.beginPath(),t.rect(0,0,o,a),t.clip(),t.fillStyle="#f0f1f2",t.fill(),t.globalAlpha=1,t.moveTo(0,21),t.lineTo(12,12),t.lineTo(26,28),t.moveTo(18,18),t.lineTo(28,8),t.lineTo(40,18),t.lineWidth=s,t.strokeStyle="#dbdcde",t.stroke(),r&&(t.beginPath(),t.moveTo(26,-4),t.lineTo(17,11),t.lineTo(23,17),t.lineTo(14,32),t.lineWidth=5,t.strokeStyle=n||"#FFF",t.stroke()),t.restore()}}function me(t){var i=Ra.exec(t);if(i)return i[1];var e=t.lastIndexOf(".");return e>=0&&e<t.length-1?t.substring(e+1):void 0}function we(t){if(!t)return null;if(t instanceof ah)return Ga;if(t.draw instanceof Function)return za;if(B(t)){var i=me(t);if(i){if(!Vs&&Pa.test(i))return Ba;if(Na.test(i))return Ma}return ka}}function xe(t,i,e){if(this._kq=we(t),!this._kq)throw new Error("the image format is not supported",t);this._l0=t,this._lwj=i,this._8z=e,this.width=i||ho.IMAGE_WIDTH,this.height=e||ho.IMAGE_HEIGHT,this._iw={}}function Oe(t,i,e,n){return i?(Ya[t]=new xe(i,e,n),t):void delete Ya[t]}function Ae(t){if(t._k3)return t._k3;var i=B(t);if(!i&&!t.name)return t._k3=new xe(t);var e=t.name||t;return e in Ya?Ya[e]:Ya[e]=new xe(t)}function be(t){return t in Ya}function Le(t,i,e){e=e||{};var n=t.getBounds(e.lineWidth);if(!n.width||!n.height)return!1;var r=i.getContext("2d"),s=i.ratio||1,o=e.scaleMode||"full.uniform",a=/full/i.test(o),h=/uniform/i.test(o),l=1,_=1;if(a){var u=i.width,f=i.height,c=e.padding,d=0,v=0;if(c){var g,E,p,y;M(c)?g=E=p=y=c:(g=c.top||0,E=c.bottom||0,p=c.left||0,y=c.right||0),u-=p+y,f-=g+E,d+=p,v+=g}l=u/n.width,_=f/n.height,h&&(l>_?(d+=(u-_*n.width)/2,l=_):_>l&&(v+=(f-l*n.height)/2,_=l)),(d||v)&&r.translate(d,v)}r.translate(-n.x*l,-n.y*_),t.draw(r,s,e,l,_,!0)}function Se(t,i,e){var n=Ae(t);return n?(n.validate(),(n._kq==Ba||n._69())&&n._lwg(function(t){t.source&&(this.width=this.width,Le(t.source,this,e))},i),void Le(n,i,e)):(xa.error("draw image error - "+t),!1)}function Ie(t,i,e,n){var r=t.length;if(r&&!(0>r)){n=n||1;for(var s,o,a=0;a++<r;)if(s=t.getLocation(a,0),s&&(o=co(i,e,s.x,s.y),!(o>n))){for(var h=0;h++<n;)if(s=t.getLocation(a+h,0)){var l=co(i,e,s.x,s.y);if(l>=o){a+=h;break}o=l}for(var _=a,u=t.length-1,f=0,a=0,c=t._f9.length;c>a;a++)if(f+=t._f9[a]._ir||0,f>_){u=a;break}return s.length=_,s.index=u,s}}}function De(t,i,e){return{x:t.x+(i.x-t.x)*e,y:t.y+(i.y-t.y)*e}}function Ce(t,i,e,n,r){n=n||ho.ADD_SEGMENT_TYPE;var s=Ie(t,i,e,r);if(s){i=s.x,e=s.y;var o=t._f9,a=s.index,h=a==o.length-1,l=o[a],_=o.slice(0);if(l.type==th||l.type==rh)if("line"==n)_.splice(a,0,new sh(th,[s.x,s.y]));else{var u=o[a-1].lastPoint,f=l.firstPoint,c=co(u.x,u.y,i,e)/co(u.x,u.y,f.x,f.y),d=De(u,s,c),v=De(s,f,c);_.splice(a,1,new sh(ih,[d.x,d.y,i,e]),new sh(ih,l.invalidTerminal?[v.x,v.y]:[v.x,v.y,f.x,f.y]))}else if("t"in s&&"line"!=n){var c=s.t;if(l.type==eh){var u=o[a-1].lastPoint,f={x:l.points[0],y:l.points[1]},g={x:l.points[2],y:l.points[3]},E={x:l.points[4],y:l.points[5]},d=De(u,f,c),v=De(f,g,c),p=De(g,E,c),y=De(d,v,c),T=De(v,p,c);_.splice(a,1,new sh(eh,[d.x,d.y,y.x,y.y,i,e]),new sh(eh,l.invalidTerminal?[T.x,T.y,p.x,p.y]:[T.x,T.y,p.x,p.y,E.x,E.y]))}else if(l.type==ih){var u=o[a-1].lastPoint,f={x:l.points[0],y:l.points[1]},g={x:l.points[2],y:l.points[3]},d=De(u,f,c),v=De(f,g,c);_.splice(a,1,new sh(ih,[d.x,d.y,i,e]),new sh(ih,l.invalidTerminal?[v.x,v.y]:[v.x,v.y,g.x,g.y]))}}else{var f=l.lastPoint;_.splice(a,1,new sh(th,[i,e]),new sh(th,[f.x,f.y]))}return{atEnd:h,index:a,isCurve:"line"!==n,segments:_}}}function Re(t){var i=t.width,e=t.height,n=$i(t.g,0,0,i,e);return n?Ne(n.data,i,e):void 0}function Pe(t,i,e){this._$y(t,i,e)}function Ne(t,i,e){return new Pe(t,i,e)}function ke(t){if("#"==t[0]){if(t=t.substring(1),3==t.length)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!=t.length)return;return t=parseInt(t,16),[t>>16&255,t>>8&255,255&t]}if(/^rgb/i.test(t)){var i=t.indexOf("("),e=t.indexOf(")");if(0>i||i>e)return;if(t=t.substring(i+1,e),t=t.split(","),t.length<3)return;var n=parseInt(t[0]),r=parseInt(t[1]),s=parseInt(t[2]),o=3==t.length?255:parseInt(t[3]);return[n,r,s,o]}xa.error("color format error, ["+t+"]")}function Me(t,i,e){return e||(e=ho.BLEND_MODE),e==Oa.BLEND_MODE_MULTIPLY?t*i:e==Oa.BLEND_MODE_DARKEN?Math.min(t,i):e==Oa.BLEND_MODE_COLOR_BURN?1-(1-i)/t:e==Oa.BLEND_MODE_LINEAR_BURN?t+i-1:e==Oa.BLEND_MODE_LIGHTEN?Math.max(t,i):e==Oa.BLEND_MODE_SCREEN?t+i-t*i:i}function Be(t,i,e){var n=$i(t.g,0,0,t.width,t.height);if(n){var r=n.data;if(e instanceof Function)r=e(t,r,i)||r;else{var s=i[0]/255,o=i[1]/255,a=i[2]/255;if(e==Oa.BLEND_MODE_GRAY)for(var h=0,l=r.length;l>h;h+=4){var _=77*r[h]+151*r[h+1]+28*r[h+2]>>8;r[h]=_*s|0,r[h+1]=_*o|0,r[h+2]=_*a|0}else for(var h=0,l=r.length;l>h;h+=4)r[h]=255*Me(s,r[h]/255,e)|0,r[h+1]=255*Me(o,r[h+1]/255,e)|0,r[h+2]=255*Me(a,r[h+2]/255,e)|0}var t=Mi(t.width,t.height);return t.g.putImageData(n,0,0),t}}function ze(t,i,e,n){return 1>e&&(e=1),Ge(t-e,i-e,2*e,2*e,n)}function Ge(t,i,e,n,r){e=Math.round(e)||1,n=Math.round(n)||1;var s=Bi(e,n);s.setTransform(1,0,0,1,-t,-i),r.draw(s);var o=$i(s,0,0,e,n);if(!o)return!1;o=o.data;for(var a=o.length/4;a-->0;)if(o[4*a-1]>oh)return!0;return!1}function Fe(t,i,e,n,r,s){t-=r.$x,i-=r.$y;var o=r._fl.intersection(t,i,e,n);if(!o)return!1;t=o.x*s,i=o.y*s,e=o.width*s,n=o.height*s,e=Math.round(e)||1,n=Math.round(n)||1;var a=Bi(),h=a.canvas;h.width<e||h.height<n?(h.width=e,h.height=n):(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,e,n)),a.setTransform(1,0,0,1,-t-r.$x*s,-i-r.$y*s),a.scale(s,s),r._jb(a,1);var l=$i(a,0,0,e,n);if(!l)return!1;l=l.data;for(var _=l.length/4;_-->0;)if(l[4*_-1]>oh)return!0;return!1}function $e(t,i,e,n,r,s,o,a,h){if(oi(t,i,e,n,a,h))return null;var l,_,u,f=new sh(th,[t+e-r,i]),c=new sh(ih,[t+e,i,t+e,i+s]),d=new sh(th,[t+e,i+n-s]),v=new sh(ih,[t+e,i+n,t+e-r,i+n]),g=new sh(th,[t+r,i+n]),E=new sh(ih,[t,i+n,t,i+n-s]),p=new sh(th,[t,i+s]),y=new sh(ih,[t,i,t+r,i]),T=(new sh(rh),[f,c,d,v,g,E,p,y]),m=new Eo(t+r,i+s,e-r-r,n-s-s);t>a?(l=To,u=5):a>t+e?(l=wo,u=1):(l=mo,u=0),i>h?(_=xo,l==To&&(u=7)):h>i+n?(_=Ao,l==wo?u=3:l==mo&&(u=4)):(_=Oo,l==To?u=6:l==wo&&(u=2));var w=Ve(u,t,i,e,n,r,s,o,a,h,m),x=w[0],O=w[1],A=new ah,b=A._f9;b.push(new sh(Qa,[x.x,x.y])),b.push(new sh(th,[a,h])),b.push(new sh(th,[O.x,O.y])),O._l3&&(b.push(O._l3),O._l3NO++);for(var L=O._l3NO%8,S=x._l3NO;;)if(b.push(T[L]),++L,L%=8,L==S)break;return x._l3&&b.push(x._l3),A.closePath(),A}function je(t,i,n,r,s,o,a,h,l,_,u,f,c,d){var v=new vo(f,c,n,r),g=new vo(i[0],i[1],i[4],i[5]),E=g._3a(v,u),p=E[0],y=E[1];if(p._rest!==e){p._l3NO=(t-1)%8,y._l3NO=(t+1)%8;var T=p._rest;7==t?(p.y=o+_+Math.min(d.height,T),y.x=s+l+Math.min(d.width,T)):5==t?(p.x=s+l+Math.min(d.width,T),y.y=o+h-_-Math.min(d.height,T)):3==t?(p.y=o+h-_-Math.min(d.height,T),y.x=s+a-l-Math.min(d.width,T)):1==t&&(p.x=s+a-l-Math.min(d.width,T),y.y=o+_+Math.min(d.height,T))}else{v._lm(v._lt,v._ls,p.x,p.y),p=v._$b(i),v._lm(v._lt,v._ls,y.x,y.y),y=v._$b(i);var m=Xe(i,[p,y]),w=m[0],x=m[2];p._l3NO=t,y._l3NO=t,p._l3=new sh(ih,w.slice(2)),y._l3=new sh(ih,x.slice(2))}return[p,y]}function Ye(t,i,e,n,r,s,o,a,h,l){var _,u;if(h-a>=i+s)_={y:e,x:h-a},_._l3NO=0;else{_={y:e+o,x:Math.max(i,h-a)};var f=[i,e+o,i,e,i+s,e],c=new vo(h,l,_.x,_.y);if(_=c._$b(f)){G(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var d=Xe(f,[_]);d=d[0],d&&(_._l3=new sh(ih,d.slice(2))),_._l3NO=7}else _={y:e,x:i+s},_._l3NO=0}if(i+n-s>=h+a)u={y:e,x:h+a},u._l3NO=0;else{u={y:e+o,x:Math.min(i+n,h+a)};var v=[i+n-s,e,i+n,e,i+n,e+o],c=new vo(h,l,u.x,u.y);if(u=c._$b(v)){G(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var d=Xe(v,[u]);d&&d[d.length-1]&&(u._l3=new sh(ih,d[d.length-1].slice(2))),u._l3NO=1}else u={y:e,x:i+n-s},u._l3NO=0}return[_,u]}function He(t,i,e,n,r,s,o,a,h,l){var _,u;if(l-a>=e+o)_={x:i+n,y:l-a},_._l3NO=2;else{_={x:i+n-s,y:Math.max(e,l-a)};var f=[i+n-s,e,i+n,e,i+n,e+o],c=new vo(h,l,_.x,_.y);if(_=c._$b(f)){G(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var d=Xe(f,[_]);d=d[0],d&&(_._l3=new sh(ih,d.slice(2))),_._l3NO=1}else _={x:i+n,y:e+o},_._l3NO=2}if(e+r-o>=l+a)u={x:i+n,y:l+a},u._l3NO=2;else{u={x:i+n-s,y:Math.min(e+r,l+a)};var v=[i+n,e+r-o,i+n,e+r,i+n-s,e+r],c=new vo(h,l,u.x,u.y);if(u=c._$b(v)){G(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var d=Xe(v,[u]);d[1]&&(u._l3=new sh(ih,d[1].slice(2))),u._l3NO=3}else u={x:i+n,y:e+r-o},u._l3NO=2}return[_,u]}function Ue(t,i,e,n,r,s,o,a,h,l){var _,u;if(h-a>=i+s)u={y:e+r,x:h-a},u._l3NO=4;else{u={y:e+r-o,x:Math.max(i,h-a)};var f=[i+s,e+r,i,e+r,i,e+r-o],c=new vo(h,l,u.x,u.y);if(u=c._$b(f)){G(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var d=Xe(f,[u]);d=d[d.length-1],d&&(u._l3=new sh(ih,d.slice(2))),u._l3NO=5}else u={y:e+r,x:i+s},u._l3NO=4}if(i+n-s>=h+a)_={y:e+r,x:h+a},_._l3NO=4;else{_={y:e+r-o,x:Math.min(i+n,h+a)};var v=[i+n,e+r-o,i+n,e+r,i+n-s,e+r],c=new vo(h,l,_.x,_.y);if(_=c._$b(v)){G(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var d=Xe(v,[_]);d[0]&&(_._l3=new sh(ih,d[0].slice(2))),_._l3NO=3}else _={y:e+r,x:i+n-s},_._l3NO=4}return[_,u]}function We(t,i,e,n,r,s,o,a,h,l){var _,u;if(l-a>=e+o)u={x:i,y:l-a},u._l3NO=6;else{u={x:i+s,y:Math.max(e,l-a)};var f=[i,e+o,i,e,i+s,e],c=new vo(h,l,u.x,u.y);if(u=c._$b(f)){G(u)&&(u=u[0].t<u[1].t?u[0]:u[1]);var d=Xe(f,[u]);d=d[d.length-1],d&&(u._l3=new sh(ih,d.slice(2)))}else u={x:i,y:e+o};u._l3NO=7}if(e+r-o>=l+a)_={x:i,y:l+a},_._l3NO=6;else{_={x:i+s,y:Math.min(e+r,l+a)};var v=[i+s,e+r,i,e+r,i,e+r-o],c=new vo(h,l,_.x,_.y);if(_=c._$b(v)){G(_)&&(_=_[0].t>_[1].t?_[0]:_[1]);var d=Xe(v,[_]);d[0]&&(_._l3=new sh(ih,d[0].slice(2))),_._l3NO=5}else _={x:i,y:e+r-o},_._l3NO=6}return[_,u]}function Ve(t,i,e,n,r,s,o,a,h,l,_){var u=a/2;switch(s=s||1e-4,o=o||1e-4,t){case 7:var f=[i,e+o,i,e,i+s,e],c=i+s,d=e+o;return je(t,f,c,d,i,e,n,r,s,o,a,h,l,_);case 5:return f=[i+s,e+r,i,e+r,i,e+r-o],c=i+s,d=e+r-o,je(t,f,c,d,i,e,n,r,s,o,a,h,l,_);case 3:return f=[i+n,e+r-o,i+n,e+r,i+n-s,e+r],c=i+n-s,d=e+r-o,je(t,f,c,d,i,e,n,r,s,o,a,h,l,_);case 1:return f=[i+n-s,e,i+n,e,i+n,e+o],c=i+n-s,d=e+o,je(t,f,c,d,i,e,n,r,s,o,a,h,l,_);case 0:return Ye(t,i,e,n,r,s,o,u,h,l,_);case 2:return He(t,i,e,n,r,s,o,u,h,l,_);case 4:return Ue(t,i,e,n,r,s,o,u,h,l,_);case 6:return We(t,i,e,n,r,s,o,u,h,l,_)}}function Xe(t,i){for(var n,r,s,o,a,h,l=t[0],_=t[1],u=t[2],f=t[3],c=t[4],d=t[5],v=[],g=0;g<i.length;g++)a=i[g],h=a.t,0!=h&&1!=h?(n=l+(u-l)*h,r=_+(f-_)*h,s=u+(c-u)*h,o=f+(d-f)*h,v.push([l,_,n,r,a.x,a.y]),l=a.x,_=a.y,u=s,f=o):v.push(null);return s!==e&&v.push([a.x,a.y,s,o,c,d]),v}function qe(t){return this.$layoutByAnchorPoint&&this._lx5&&(t.x-=this._lx5.x,t.y-=this._lx5.y),this.$rotate&&Ci(t,this.$rotate),t.x+=this.$offsetX||0,t.y+=this.$offsetY||0,this.$rotatable&&this.$_hostRotate?Ci(t,this.$_hostRotate):t}function Ke(t){return this.$rotatable&&this.$_hostRotate&&Ci(t,-this.$_hostRotate),t.x-=this.$offsetX||0,t.y-=this.$offsetY||0,this.$rotate&&Ci(t,-this.$rotate),this.$layoutByAnchorPoint&&this._lx5&&(t.x+=this._lx5.x,t.y+=this._lx5.y),t}function Ze(){var t=this.$invalidateSize;this.$invalidateSize&&(this.$invalidateSize=!1,this.$invalidateAnchorPoint=!0,this._7u.setByRect(this._ja),this.$padding&&this._7u.grow(this.$padding),this.$border&&this._7u.grow(this.$border));var i=this._$p();if(i)var e=this.showPointer&&this.$pointerWidth;return this.$invalidateAnchorPoint&&this.$layoutByAnchorPoint&&(this.$invalidateAnchorPoint=!1,e&&(t=!0),this._lx5=ui(this.$anchorPosition,this._7u.width,this._7u.height),this._lx5.x+=this._7u.x,this._lx5.y+=this._7u.y),i?(t&&(this._lxackgroundGradientInvalidateFlag=!0,Je.call(this,e)),this._lxackgroundGradientInvalidateFlag&&(this._lxackgroundGradientInvalidateFlag=!1,this._lxackgroundGradient=this.backgroundGradient&&this._l1Shape&&this._l1Shape.bounds?Ha.prototype.generatorGradient.call(this.backgroundGradient,this._l1Shape.bounds):null),t):(this.__l6Pointer=!1,t)
}function Je(t){var i=this._7u.x+this.$border/2,e=this._7u.y+this.$border/2,n=this._7u.width-this.$border,r=this._7u.height-this.$border,s=0,o=0;if(this.$borderRadius&&(M(this.$borderRadius)?s=o=this.$borderRadius:(s=this.$borderRadius.x||0,o=this.$borderRadius.y||0),s=Math.min(s,n/2),o=Math.min(o,r/2)),t&&(this._pointerX=this._lx5.x-this.$offsetX+this.$pointerX,this._pointerY=this._lx5.y-this.$offsetY+this.$pointerY,!this._7u.intersectsPoint(this._pointerX,this._pointerY))){var a=new lh(i,e,n,r,s,o,this.$pointerWidth,this._pointerX,this._pointerY);return this._l1Shape=a._l3,this._l1Shape.bounds.set(i,e,n,r),void(this.__l6Pointer=!0)}this._l1Shape&&this._l1Shape.clear(),this._l1Shape=jh.getRect(i,e,n,r,s,o,this._l1Shape),this._l1Shape.bounds.set(i,e,n,r)}function Qe(t,i,e,n){return n&&(t.width<0||t.height<0)?(t.x=i,t.y=e,void(t.width=t.height=0)):(i<t.x?(t.width+=t.x-i,t.x=i):i>t.x+t.width&&(t.width=i-t.x),void(e<t.y?(t.height+=t.y-e,t.y=e):e>t.y+t.height&&(t.height=e-t.y)))}function tn(t,i,n){var r,s=t.position,o=t.layoutByPath===e?this.layoutByPath:t.layoutByPath;return this.$data instanceof ah&&o?(r=Ca._lxg(s,this.$data,this.lineWidth,i,n),r.x*=this._jk,r.y*=this._jl):(r=ui(s,this._7u.width,this._7u.height),r.x+=this._7u.x,r.y+=this._7u.y),qe.call(this,r)}function en(t,i){if(i)if(i._7u.isEmpty())t.$x=i.$x,t.$y=i.$y;else{var e=tn.call(i,t);t.$x=e.x,t.$y=e.y,t._hostRotate=e.rotate}else t.$x=0,t.$y=0;t.$invalidateRotate&&fh.call(t)}function nn(t){if(t.lineDash===e){var i,n;if(t.setLineDash)i=t.getLineDash,n=t.setLineDash;else{var r;if(t.mozDash!==e)r="mozDash";else{if(t.webkitLineDash===e)return!1;r="webkitLineDash"}n=function(t){this[r]=t},i=function(){return this[r]}}K(t,"lineDash",{get:function(){return i.call(this)},set:function(t){n.call(this,t)}})}if(t.lineDashOffset===e){var s;if(t.mozDashOffset!==e)s="mozDashOffset";else{if(t.webkitLineDashOffset===e)return;s="webkitLineDashOffset"}K(t,"lineDashOffset",{get:function(){return this[s]},set:function(t){this[s]=t}})}}function rn(t,i,e,n,r){var s,o,a,h,l,_,u,f,c=function(t){return function(i){t(i)}},d=function(){o=null,a=null,h=l,l=null,_=null},v=function(t){s=t,u||(u=Mi()),u.width=s.width,u.height=s.height,i.width=s.width,i.height=s.height},g=function(t){E(),d(),o=t.transparencyGiven?t.transparencyIndex:null,a=10*t.delayTime,l=t.disposalMethod},E=function(){if(_){var t=_.getImageData(0,0,s.width,s.height),e={data:t,_pixels:Ne(t.data,s.width,s.height),delay:a};r.call(i,e)}},p=function(t){_||(_=u.getContext("2d"));var i=t.lctFlag?t.lct:s.gct,e=_.getImageData(t.leftPos,t.topPos,t.width,t.height);t.pixels.forEach(function(t,n){o!==t?(e.data[4*n+0]=i[t][0],e.data[4*n+1]=i[t][1],e.data[4*n+2]=i[t][2],e.data[4*n+3]=255):(2===h||3===h)&&(e.data[4*n+3]=0)}),_.putImageData(e,t.leftPos,t.topPos)},y=function(){},T={hdr:c(v),gce:c(g),com:c(y),app:{NETSCAPE:c(y)},img:c(p,!0),eof:function(){E(),e.call(i)}},m=new XMLHttpRequest;Vs||m.overrideMimeType("text/plain; charset=x-user-defined"),m.onload=function(){f=new Eh(m.responseText);try{yh(f,T)}catch(t){n.call(i,"parse")}},m.onerror=function(){n.call(i,"xhr")},m.open("GET",t,!0),m.send()}function sn(t){var i=Mi(!0);return nn(i.g),i.onselectstart=function(){return!1},t.appendChild(i),i.className=wh,i}function c(t,i){function e(t,e){for(var n=t.length,r=e.length,s=n+r,o=new Array(s),a=0,h=0,l=0;s>l;)o[l++]=a===n?e[h++]:h===r||i(t[a],e[h])<=0?t[a++]:e[h++];return o}function n(t){var i=t.length,r=Math.ceil(i/2);return 1>=i?t:e(n(t.slice(0,r)),n(t.slice(r)))}return n(t)}function on(t){t.width=t.width}function an(t){Sh||(Sh="imageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"imageSmoothingEnabled":"imageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"imageSmoothingEnabled":"msImageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"msImageSmoothingEnabled":"webkitImageSmoothingEnabled"in CanvasRenderingContext2D.prototype?"webkitImageSmoothingEnabled":"imageSmoothingEnabled"),t[Sh]=!1}function hn(t,i,e,n,r){n=X(i+n)-(i=V(i)),r=X(e+r)-(e=V(e)),t.clearRect(i,e,n,r),t.rect(i,e,n,r)}function V(t){return Math.floor(t)}function X(t){return Math.ceil(t)}function ln(t){var i=[];return t.forEach(function(t){i.push(-t)}),i}function _n(t){return t%=Rh,0>t&&(t+=Rh),t}function un(t,i,e,n,r,s,o,a){var h=((t*n-i*e)*(r-o)-(t-e)*(r*a-s*o))/((t-e)*(s-a)-(i-n)*(r-o)),l=((t*n-i*e)*(s-a)-(i-n)*(r*a-s*o))/((t-e)*(s-a)-(i-n)*(r-o));if(isNaN(h)||isNaN(l))return!1;if(t>=e){if(!(h>=e&&t>=h))return!1}else if(!(h>=t&&e>=h))return!1;if(i>=n){if(!(l>=n&&i>=l))return!1}else if(!(l>=i&&n>=l))return!1;if(r>=o){if(!(h>=o&&r>=h))return!1}else if(!(h>=r&&o>=h))return!1;if(s>=a){if(!(l>=a&&s>=l))return!1}else if(!(l>=s&&a>=l))return!1;return!0}function fn(t,i){for(var e=0,n=t.length;n>e;){for(var r=t[e],s=t[(e+1)%n],o=0;4>o;){var a=i[o],h=i[(o+1)%n];if(un(r[0],r[1],s[0],s[1],a[0],a[1],h[0],h[1]))return!0;o++}e++}return!1}function cn(t,i,e,n){return[t*n-i*e,t*e+i*n]}function dn(t){return t.parent?(t=t.parent,t._dx?t._dx:t instanceof Yh&&t._gg===!1?t:null):null}function vn(t,i,e){if(e=e||i.toAgent,e==t)return!1;var n=t.getEdgeBundle(e);return n||(n=new s_(t,e),t._linkedNodes[e.id]=n),n._ik(i,t)}function gn(t,i,e){if(e=e||i.toAgent,e==t)return!1;var n=t.getEdgeBundle(e);return n?n._lz8(i,t):void 0}function En(t,i,n){return n===e&&(n=i.toAgent),n!=t?(t._81||(t._81=new lo),t._81.add(i)===!1?!1:void t._9k++):void 0}function pn(t,i,e){return t._81&&t._81.remove(i)!==!1?(t._9k--,void gn(t,i,e)):!1}function yn(t,i){return i.fromAgent!=t?(t._9d||(t._9d=new lo),t._9d.add(i)===!1?!1:void t._lwz++):void 0}function Tn(t,i){return t._9d&&t._9d.remove(i)!==!1?(t._lwz--,void gn(i.fromAgent,i,t)):!1}function mn(t,i){if(i===e&&(i=t instanceof Gh),i){if(t.isInvalid())return null;var n=mn(t.from,!1);if(t.isLooped())return n;for(var r=mn(t.to,!1);null!=n&&null!=r;){if(n==r)return n;if(n.isDescendantOf(r))return r;if(r.isDescendantOf(n))return n;n=mn(n,!1),r=mn(r,!1)}return null}for(var s=t.parent;null!=s;){if(s._ht())return s;s=s.parent}return null}function wn(t,i,e){t._ht()&&t.hasChildren()&&t.children.forEach(function(t){t instanceof Fh&&i.add(t)&&wn(t,i,e)},this),t.hasFollowers()&&t._e1.forEach(function(t){(null==e||e.accept(t))&&i.add(t)&&wn(t,i,e)})}function xn(t,i){i.parent?i.parent.setChildIndex(i,i.parent.childrenCount-1):t.roots.setIndex(i,t.roots.length-1)}function On(t,i){i.parent?i.parent.setChildIndex(i,0):t.roots.setIndex(i,0)}function An(t,i){if(i instanceof Gh)return void(i.isInvalid()||Ln(t,i));for(xn(t,i);i=i.parent;)xn(t,i)}function bn(t,i){if(i instanceof Gh)return void(i.isInvalid()||Sn(t,i));for(On(t,i);i=i.parent;)On(t,i)}function Ln(t,i){var e=i.fromAgent;if(i.isLooped())xn(t,e);else{var n=i.toAgent;xn(t,e),xn(t,n)}}function Sn(t,i){var e=i.fromAgent;if(i.isLooped())On(t,e);else{var n=i.toAgent;On(t,e),On(t,n)}}function In(t,i){return t._9k++,t._fc?(i._i7=t._hy,t._hy._i6=i,void(t._hy=i)):(t._fc=i,void(t._hy=i))}function Dn(t,i){t._9k--,t._hy==i&&(t._hy=i._i7),i._i7?i._i7._i6=i._i6:t._fc=i._i6,i._i6&&(i._i6._i7=i._i7),i._i7=null,i._i6=null,gn(t,i,i.$to)}function Cn(t,i){return t._lwz++,t._hz?(i._ip=t._j9,t._j9._it=i,void(t._j9=i)):(t._hz=i,void(t._j9=i))}function Rn(t,i){t._lwz--,t._j9==i&&(t._j9=i._ip),i._ip?i._ip._it=i._it:t._hz=i._it,i._it&&(i._it._ip=i._ip),i._ip=null,i._it=null}function Pn(t,i){return i=i||new lo,t.forEachEdge(function(t){i.add({id:t.id,edge:t,fromAgent:t.$from._dx,toAgent:t.$to._dx})}),t.forEachChild(function(t){t instanceof Fh&&Pn(t,i)}),i}function Nn(t,i,e){return Mn(t,i,e)===!1?!1:kn(t,i,e)}function kn(t,i,e){if(t._fc)for(var n=t._fc;n;){if(i.call(e,n)===!1)return!1;n=n._i6}}function Mn(t,i,e){if(t._hz)for(var n=t._hz;n;){if(i.call(e,n)===!1)return!1;n=n._it}}function Bn(t,i,n,r,s,o,a){return o||a?(o=o||0,a=a===e?o:a||0,o=Math.min(o,r/2),a=Math.min(a,s/2),t.moveTo(i+o,n),t.lineTo(i+r-o,n),t.quadTo(i+r,n,i+r,n+a),t.lineTo(i+r,n+s-a),t.quadTo(i+r,n+s,i+r-o,n+s),t.lineTo(i+o,n+s),t.quadTo(i,n+s,i,n+s-a),t.lineTo(i,n+a),t.quadTo(i,n,i+o,n),t.closePath(),t):(t.moveTo(i,n),t.lineTo(i+r,n),t.lineTo(i+r,n+s),t.lineTo(i,n+s),t.closePath(),t)}function zn(t,i){var e=i.r||1,n=i.cx||0,r=i.cy||0,s=e*Math.tan(Math.PI/8),o=e*Math.sin(Math.PI/4);t.moveTo(n+e,r),t.quadTo(n+e,r+s,n+o,r+o),t.quadTo(n+s,r+e,n,r+e),t.quadTo(n-s,r+e,n-o,r+o),t.quadTo(n-e,r+s,n-e,r),t.quadTo(n-e,r-s,n-o,r-o),t.quadTo(n-s,r-e,n,r-e),t.quadTo(n+s,r-e,n+o,r-o),t.quadTo(n+e,r-s,n+e,r)}function Gn(t,i,e,n,r){i instanceof se&&(n=i.width,r=i.height,e=i.cy-r/2,i=i.cx-n/2);var s=.5522848,o=n/2*s,a=r/2*s,h=i+n,l=e+r,_=i+n/2,u=e+r/2;return t.moveTo(i,u),t.curveTo(i,u-a,_-o,e,_,e),t.curveTo(_+o,e,h,u-a,h,u),t.curveTo(h,u+a,_+o,l,_,l),t.curveTo(_-o,l,i,u+a,i,u),t}function Fn(t,i,e,n,r){var s=2*n,o=2*r,a=i+n/2,h=e+r/2;return t.moveTo(a-s/4,h-o/12),t.lineTo(i+.306*n,e+.579*r),t.lineTo(a-s/6,h+o/4),t.lineTo(i+n/2,e+.733*r),t.lineTo(a+s/6,h+o/4),t.lineTo(i+.693*n,e+.579*r),t.lineTo(a+s/4,h-o/12),t.lineTo(i+.611*n,e+.332*r),t.lineTo(a+0,h-o/4),t.lineTo(i+.388*n,e+.332*r),t.closePath(),t}function $n(t,i,e,n,r){return t.moveTo(i,e),t.lineTo(i+n,e+r/2),t.lineTo(i,e+r),t.closePath(),t}function jn(t,i,e,n,r){return t.moveTo(i,e+r/2),t.lineTo(i+n/2,e),t.lineTo(i+n,e+r/2),t.lineTo(i+n/2,e+r),t.closePath(),t}function Yn(t,i,e,n,r,s){return t.moveTo(i,e),t.lineTo(i+n,e+r/2),t.lineTo(i,e+r),s||(t.lineTo(i+.25*n,e+r/2),t.closePath()),t}function Hn(t,i,e,n,r){if(!t||3>t)throw new Error("edge number must greater than 2");t=0|t,n=n||50,r=r||0,i=i||0,e=e||0;for(var s,o,a=0,h=2*Math.PI/t,l=new ah;t>a;)s=i+n*Math.cos(r),o=e+n*Math.sin(r),a?l.lineTo(s,o):l.moveTo(s,o),++a,r+=h;return l.closePath(),l}function Un(){var t=new ah;return t.moveTo(75,40),t.curveTo(75,37,70,25,50,25),t.curveTo(20,25,20,62.5,20,62.5),t.curveTo(20,80,40,102,75,120),t.curveTo(110,102,130,80,130,62.5),t.curveTo(130,62.5,130,25,100,25),t.curveTo(85,25,75,37,75,40),t}function Wn(){var t=new ah;return t.moveTo(20,0),t.lineTo(80,0),t.lineTo(100,100),t.lineTo(0,100),t.closePath(),t}function Vn(){var t=new ah;return t.moveTo(100,0),t.lineTo(100,80),t.lineTo(0,100),t.lineTo(0,20),t.closePath(),t}function Xn(){var t=new ah;return t.moveTo(20,0),t.lineTo(100,0),t.lineTo(80,100),t.lineTo(0,100),t.closePath(),t}function qn(){var t=new ah;return t.moveTo(43,23),t.lineTo(28,10),t.lineTo(37,2),t.lineTo(63,31),t.lineTo(37,59),t.lineTo(28,52),t.lineTo(44,38),t.lineTo(3,38),t.lineTo(3,23),t.closePath(),t}function Kn(){var t=new ah;return t.moveTo(1,8),t.lineTo(7,2),t.lineTo(32,26),t.lineTo(7,50),t.lineTo(1,44),t.lineTo(18,26),t.closePath(),t.moveTo(27,8),t.lineTo(33,2),t.lineTo(57,26),t.lineTo(33,50),t.lineTo(27,44),t.lineTo(44,26),t.closePath(),t}function Zn(){var t=new ah;return t.moveTo(0,15),t.lineTo(23,15),t.lineTo(23,1),t.lineTo(47,23),t.lineTo(23,43),t.lineTo(23,29),t.lineTo(0,29),t.closePath(),t}function Jn(){var t=new ah;return t.moveTo(0,21),t.lineTo(30,21),t.lineTo(19,0),t.lineTo(25,0),t.lineTo(47,25),t.lineTo(25,48),t.lineTo(19,48),t.lineTo(30,28),t.lineTo(0,28),t.closePath(),t}function Qn(){var t=new ah;return t.moveTo(0,0),t.lineTo(34,24),t.lineTo(0,48),t.lineTo(14,24),t.closePath(),t}function tr(){var t=new ah;return t.moveTo(20,0),t.lineTo(34,14),t.lineTo(20,28),t.lineTo(22,18),t.lineTo(1,25),t.lineTo(10,14),t.lineTo(1,3),t.lineTo(22,10),t.closePath(),t}function ir(){var t=new ah;return t.moveTo(4,18),t.lineTo(45,18),t.lineTo(37,4),t.lineTo(83,25),t.lineTo(37,46),t.lineTo(45,32),t.lineTo(4,32),t.closePath(),t}function er(){var t=new ah;return t.moveTo(17,11),t.lineTo(27,11),t.lineTo(42,27),t.lineTo(27,42),t.lineTo(17,42),t.lineTo(28,30),t.lineTo(4,30),t.lineTo(4,23),t.lineTo(28,23),t.closePath(),t}function nr(){jh.register(Oa.SHAPE_CIRCLE,Gn(new ah,0,0,100,100)),jh.register(Oa.SHAPE_RECT,Bn(new ah,0,0,100,100)),jh.register(Oa.SHAPE_ROUNDRECT,Bn(new ah,0,0,100,100,20,20)),jh.register(Oa.SHAPE_STAR,Fn(new ah,0,0,100,100)),jh.register(Oa.SHAPE_TRIANGLE,$n(new ah,0,0,100,100)),jh.register(Oa.SHAPE_PENTAGON,Hn(5)),jh.register(Oa.SHAPE_HEXAGON,Hn(6)),jh.register(Oa.SHAPE_DIAMOND,jn(new ah,0,0,100,100)),jh.register(Oa.SHAPE_HEART,Un()),jh.register(Oa.SHAPE_TRAPEZIUM,Wn()),jh.register(Oa.SHAPE_RHOMBUS,Vn()),jh.register(Oa.SHAPE_PARALLELOGRAM,Xn());var t=new ah;t.moveTo(20,0),t.lineTo(40,0),t.lineTo(40,20),t.lineTo(60,20),t.lineTo(60,40),t.lineTo(40,40),t.lineTo(40,60),t.lineTo(20,60),t.lineTo(20,40),t.lineTo(0,40),t.lineTo(0,20),t.lineTo(20,20),t.closePath(),jh.register(Oa.SHAPE_CROSS,t),jh.register(Oa.SHAPE_ARROW_STANDARD,Yn(new ah,0,0,100,100)),jh.register(Oa.SHAPE_ARROW_1,qn()),jh.register(Oa.SHAPE_ARROW_2,Kn()),jh.register(Oa.SHAPE_ARROW_3,Zn()),jh.register(Oa.SHAPE_ARROW_4,Jn()),jh.register(Oa.SHAPE_ARROW_5,Qn()),jh.register(Oa.SHAPE_ARROW_6,tr()),jh.register(Oa.SHAPE_ARROW_7,ir()),jh.register(Oa.SHAPE_ARROW_8,er()),jh.register(Oa.SHAPE_ARROW_OPEN,Yn(new ah,0,0,100,100,!0))}function rr(){x(this,rr,arguments),this.busLayout=!0}function sr(){x(this,sr),this._$m=new ko}function or(){if(this._gg===!0){var t=this._81,i=this._9d;if(t)for(t=t._j7;t.length;){var e=t[0];pn(this,e,e.toAgent)}if(i)for(i=i._j7;i.length;){var e=i[0];Tn(this,e,e.fromAgent)}return void this.forEachChild(function(t){t._ht()&&or.call(t)})}var n=Pn(this);n.forEach(function(t){t=t.edge;var i=t.$from,e=t.$to,n=i.isDescendantOf(this),r=e.isDescendantOf(this);n&&!r?(En(this,t),vn(this,t)):r&&!n&&(yn(this,t),vn(t.fromAgent,t,this))},this)}function ar(){x(this,ar,arguments),this.$image=null}function hr(t,i,e,n){return t[i]=e,n?{get:function(){return this[i]},set:function(t){if(t!==this[i]){this[i]=t,!this._lwo,this._1a=!0;for(var e=n.length;--e>=0;)this[n[e]]=!0}}}:{get:function(){return this[i]},set:function(t){t!==this[i]&&(this[i]=t)}}}function lr(t,i){var e={},n={};for(var r in i){var s=i[r];s.validateFlags&&s.validateFlags.forEach(function(t,i,e){e[i]="$invalidate"+t,n[t]=!0}),e[r]=hr(t,"$"+r,s.value,s.validateFlags)}for(var o in n)t["$invalidate"+o]=!0;Object.defineProperties(t,e)}function _r(t,i,e,n){if(Array.isArray(i))for(var r=i.length;--r>=0;)_r(t,i[r],e,n);else{var s=i.target;if(s){if(s instanceof Hh||(s=t[s]),!s)return}else s=t;if(n||(n=t.getProperty(i.property,e)),i.bindingProperty&&(s[i.bindingProperty]=n),i.callback){var o=i.callback;o instanceof Function||(o=t[o]),o instanceof Function&&o.call(t,n,s)}}}function ur(){Uh.forEach(function(t){this[t]={}},this)}function fr(t,i,e,n){return n==Oa.PROPERTY_TYPE_ACCESSOR?void(t[e]=i):n==Oa.PROPERTY_TYPE_CLIENT?void t.set(e,i):n==Oa.PROPERTY_TYPE_STYLE?void t.setStyle(e,i):!1}function cr(){x(this,cr,arguments)}function dr(){x(this,dr,arguments)}function vr(t,i,e,n,r,s){var o=gr(t,i,e,n),a=[];return Tr(t)?Er(o,i,e,a,n.getStyle(Wh.EDGE_EXTEND),r,s):Dr(t,i,e,a,o,n,r,s),a}function gr(t,i,e){if(null!=t){if(t==Oa.EDGE_TYPE_ELBOW_HORIZONTAL||t==Oa.EDGE_TYPE_ORTHOGONAL_HORIZONTAL||t==Oa.EDGE_TYPE_HORIZONTAL_VERTICAL||t==Oa.EDGE_TYPE_EXTEND_LEFT||t==Oa.EDGE_TYPE_EXTEND_RIGHT)return!0;if(t==Oa.EDGE_TYPE_ELBOW_VERTICAL||t==Oa.EDGE_TYPE_ORTHOGONAL_VERTICAL||t==Oa.EDGE_TYPE_VERTICAL_HORIZONTAL||t==Oa.EDGE_TYPE_EXTEND_TOP||t==Oa.EDGE_TYPE_EXTEND_BOTTOM)return!1}var n=xr(i,e),r=Or(i,e);return n>=r}function Er(t,i,e,n,r){t?kr(i,e,n,r):Mr(i,e,n,r)}function pr(t,i){return i.getStyle(Wh.EDGE_SPLIT_BY_PERCENT)}function yr(t){return null!=t&&(t==Oa.EDGE_TYPE_EXTEND_TOP||t==Oa.EDGE_TYPE_EXTEND_LEFT||t==Oa.EDGE_TYPE_EXTEND_BOTTOM||t==Oa.EDGE_TYPE_EXTEND_RIGHT)}function Tr(t){return t&&(t==Oa.EDGE_TYPE_ELBOW||t==Oa.EDGE_TYPE_ELBOW_HORIZONTAL||t==Oa.EDGE_TYPE_ELBOW_VERTICAL)}function mr(t,i,e,n,r,s,o){if(t==Oa.EDGE_TYPE_HORIZONTAL_VERTICAL)return{x:o.x,y:s.y};if(t==Oa.EDGE_TYPE_VERTICAL_HORIZONTAL)return{x:s.x,y:o.y};var a;if(yr(t)){var h=Math.min(e.y,n.y),l=Math.min(e.x,n.x),_=Math.max(e.bottom,n.bottom),u=Math.max(e.right,n.right);if(a=r.getStyle(Wh.EDGE_EXTEND),t==Oa.EDGE_TYPE_EXTEND_TOP)return new fo((l+u)/2,h-a);if(t==Oa.EDGE_TYPE_EXTEND_LEFT)return new fo(l-a,(h+_)/2);if(t==Oa.EDGE_TYPE_EXTEND_BOTTOM)return new fo((l+u)/2,_+a);if(t==Oa.EDGE_TYPE_EXTEND_RIGHT)return new fo(u+a,(h+_)/2)}var f=pr(t,r);if(a=f?Ar(t,i,e,n,r.getStyle(Wh.EDGE_SPLIT_PERCENT)):r.getStyle(Wh.EDGE_SPLIT_VALUE),a==Number.NEGATIVE_INFINITY||a==Number.POSITIVE_INFINITY)return new fo(n.x+n.width/2,n.y+n.height/2);if(0==a)return new fo(e.x+e.width/2,e.y+e.height/2);if(i){var c=e.x+e.right<n.x+n.right;return new fo(Sr(c,a,e.x,e.width),e.y+e.height/2)}var d=e.y+e.bottom<n.y+n.bottom;return new fo(e.x+e.width/2,Sr(d,a,e.y,e.height))}function wr(t,i,e,n){var r=Math.max(i,n)-Math.min(t,e);return r-(i-t+n-e)}function xr(t,i){var e=Math.max(t.x+(t.width||0),i.x+(i.width||0))-Math.min(t.x,i.x);return e-(t.width||0)-(i.width||0)}function Or(t,i){var e=Math.max(t.y+(t.height||0),i.y+(i.height||0))-Math.min(t.y,i.y);return e-(t.height||0)-(i.height||0)}function Ar(t,i,e,n,r){var s=br(r,i,e,n,null);return s*r}function br(t,i,e,n){return i?Lr(t,e.x,e.right,n.x,n.right):Lr(t,e.y,e.bottom,n.y,n.bottom)}function Lr(t,i,e,n,r){var s=wr(i,e,n,r),o=n+r>i+e;if(s>0){if(1==t)return s+(r-n)/2;if(t>=0&&1>t)return s;if(0>t)return o?n-i:e-r}return Math.abs(o&&t>0||!o&&0>t?e-r:i-n)}function Sr(t,i,e,n){return t==i>0?e+n+Math.abs(i):e-Math.abs(i)}function Ir(t,i){var e=t.length;if(!(3>e)){var n=i.getStyle(Wh.EDGE_CORNER);if(n!=Oa.EDGE_CORNER_NONE){var r=i.getStyle(Wh.EDGE_CORNER_RADIUS),s=0,o=0;r&&(M(r)?s=o=r:(s=r.x||0,o=r.y||0));for(var a,h,l,_,u=t[0],f=t[1],c=null,d=2;e>d;d++){var v=t[d],g=f.x-u.x,E=f.y-u.y,T=v.x-f.x,m=v.y-f.y,w=!g||g>-Da&&Da>g,x=!E||E>-Da&&Da>E,O=!T||T>-Da&&Da>T,A=!m||m>-Da&&Da>m,b=x;(w&&A||x&&O)&&(b?(a=Math.min(2==d?Math.abs(g):Math.abs(g)/2,s),h=Math.min(d==e-1?Math.abs(m):Math.abs(m)/2,o),l=new fo(f.x-(g>0?a:-a),f.y),_=new fo(f.x,f.y+(m>0?h:-h))):(a=Math.min(d==e-1?Math.abs(T):Math.abs(T)/2,s),h=Math.min(2==d?Math.abs(E):Math.abs(E)/2,o),l=new fo(f.x,f.y-(E>0?h:-h)),_=new fo(f.x+(T>0?a:-a),f.y)),y(t,f),d--,e--,(l.x!=u.x||l.y!=u.y)&&(p(t,l,d),d++,e++),n==Oa.EDGE_CORNER_BEVEL?(p(t,_,d),d++,e++):n==Oa.EDGE_CORNER_ROUND&&(p(t,[f,_],d),d++,e++)),u=f,f=v}null!=c&&_.x==f.x&&_.y==f.y&&y(t,f)}}}function Dr(t,i,e,n,r,s,o,a){var h=s.getStyle(Wh.EDGE_CONTROL_POINT),l=null==h;if(null!=h){var _=(new Eo).union(i).union(e);_.intersects(h)||(r=Cr(h.x,h.y,_.y,_.x,_.bottom,_.right))}else h=mr(t,r,i,e,s,o,a);r?Nr(i,e,h,n,l,o,a):Pr(i,e,h,n,l,o,a)}function Cr(t,i,e,n,r,s){return e>i&&e-i>n-t&&e-i>t-s||i>r&&i-r>n-t&&i-r>t-s?!1:!0}function Rr(t,i,e){return i>=t.x&&i<=t.right&&e>=t.y&&e<=t.bottom}function Pr(t,i,e,n,r,s,o){var a=Math.max(t.y,i.y),h=Math.min(t.y+t.height,i.y+i.height),l=null!=e?e.y:h+(a-h)/2,_=s?s.x:t.x+t.width/2,u=o?o.x:i.x+i.width/2;if(0==r&&null!=e&&(e.x>=t.x&&e.x<=t.x+t.width&&(_=e.x),e.x>=i.x&&e.x<=i.x+i.width&&(u=e.x)),Rr(i,_,l)||Rr(t,_,l)||n.push(new fo(_,l)),Rr(i,u,l)||Rr(t,u,l)||n.push(new fo(u,l)),0==n.length)if(null!=e)Rr(i,e.x,l)||Rr(t,e.x,l)||n.push(new fo(e.x,l));else{var f=Math.max(t.x,i.x),c=Math.min(t.x+t.width,i.x+i.width);n.push(new fo(f+(c-f)/2,l))}}function Nr(t,i,e,n,r,s,o){var a=Math.max(t.x,i.x),h=Math.min(t.x+t.width,i.x+i.width),l=null!=e?e.x:h+(a-h)/2,_=s?s.y:t.y+t.height/2,u=o?o.y:i.y+i.height/2;if(0==r&&null!=e&&(e.y>=t.y&&e.y<=t.y+t.height&&(_=e.y),e.y>=i.y&&e.y<=i.y+i.height&&(u=e.y)),Rr(i,l,_)||Rr(t,l,_)||n.push(new fo(l,_)),Rr(i,l,u)||Rr(t,l,u)||n.push(new fo(l,u)),0==n.length)if(null!=e)Rr(i,l,e.y)||Rr(t,l,e.y)||n.push(new fo(l,e.y));else{var f=Math.max(t.y,i.y),c=Math.min(t.y+t.height,i.y+i.height);n.push(new fo(l,f+(c-f)/2))}}function kr(t,i,e,n){var r=i.x+i.width<t.x,s=t.x+t.width<i.x,o=r?t.x:t.x+t.width,a=t.y+t.height/2,h=s?i.x:i.x+i.width,l=i.y+i.height/2,_=n,u=r?-_:_,f=new fo(o+u,a);u=s?-_:_;var c=new fo(h+u,l);if(r==s){var d=r?Math.min(o,h)-n:Math.max(o,h)+n;e.push(new fo(d,a)),e.push(new fo(d,l))}else if(f.x<c.x==r){var v=a+(l-a)/2;e.push(f),e.push(new fo(f.x,v)),e.push(new fo(c.x,v)),e.push(c)}else e.push(f),e.push(c)}function Mr(t,i,e,n){var r=i.y+i.height<t.y,s=t.y+t.height<i.y,o=t.x+t.width/2,a=r?t.y:t.y+t.height,h=i.x+i.width/2,l=s?i.y:i.y+i.height,_=n,u=r?-_:_,f=new fo(o,a+u);u=s?-_:_;var c=new fo(h,l+u);if(r==s){var d=r?Math.min(a,l)-n:Math.max(a,l)+n;e.push(new fo(o,d)),e.push(new fo(h,d))}else if(f.y<c.y==r){var v=o+(h-o)/2;e.push(f),e.push(new fo(v,f.y)),e.push(new fo(v,c.y)),e.push(c)}else e.push(f),e.push(c)}function Br(t){return t==Oa.EDGE_TYPE_ORTHOGONAL||t==Oa.EDGE_TYPE_ORTHOGONAL_HORIZONTAL||t==Oa.EDGE_TYPE_HORIZONTAL_VERTICAL||t==Oa.EDGE_TYPE_ORTHOGONAL_VERTICAL||t==Oa.EDGE_TYPE_VERTICAL_HORIZONTAL||t==Oa.EDGE_TYPE_EXTEND_TOP||t==Oa.EDGE_TYPE_EXTEND_LEFT||t==Oa.EDGE_TYPE_EXTEND_BOTTOM||t==Oa.EDGE_TYPE_EXTEND_RIGHT||t==Oa.EDGE_TYPE_ELBOW||t==Oa.EDGE_TYPE_ELBOW_HORIZONTAL||t==Oa.EDGE_TYPE_ELBOW_VERTICAL}function zr(t,i){var e,n;i&&i.width&&i.height?(e=i.width,n=i.height):e=n=isNaN(i)?ho.ARROW_SIZE:i;var r=jh.getShape(t,-e,-n/2,e,n);return r||(r=new ah,r.moveTo(-e,-n/2),r.lineTo(0,0),r.lineTo(-e,n/2)),r}function Gr(t,i){var e=Math.sin(i),n=Math.cos(i),r=t.x,s=t.y;return t.x=r*n-s*e,t.y=r*e+s*n,t}function Fr(t,i,e,n,r,s){var o=Math.atan2(n-i,e-t),a=new fo(r,s);return a.rotate=o,Gr(a,o),a.x+=t,a.y+=i,a}function $r(t,i,n,r,s,o){i=ri(r,i.x,i.y,n.x,n.y),n=ri(s,n.x,n.y,i.x,i.y);var a=Math.PI/2+Math.atan2(n.y-i.y,n.x-i.x),h=t*Math.cos(a),l=t*Math.sin(a);i.x+=h,i.y+=l,n.x+=h,n.y+=l;var _=n.x-i.x,u=n.y-i.y;if(o==Oa.EDGE_BUNDLE_TYPE_PARALLEL){var f=Math.sqrt(_*_+u*u),c=5;return f>2*c&&(a=Math.atan2(n.y-i.y,n.x-i.x),_=c*Math.cos(a),u=c*Math.sin(a),i.x+=_,i.y+=u,n.x-=_,n.y-=u),[new sh(th,[i.x,i.y]),new sh(th,[n.x,n.y])]}return[new sh(eh,[i.x+.25*_,i.y+.25*u,i.x+.75*_,i.y+.75*u,e,e])]}function jr(t,i,n){if(p(t,new sh(Qa,[i.x,i.y]),0),n){if(t.length>1){var r=t[t.length-1];if(ih==r.type&&(r.invalidTerminal||r.points[2]===e||null===r.points[2]))return r.points[2]=n.x,r.points[3]=n.y,void(r.invalidTerminal=!0);if(eh==r.type&&(r.invalidTerminal||r.points[4]===e||null===r.points[4]))return r.points[4]=n.x,r.points[5]=n.y,void(r.invalidTerminal=!0)}t.push(new sh(th,[n.x,n.y]))}}function Yr(t,i,e){var n=i.getPortPoint(t.getStyle(Wh.EDGE_FROM_PORT),e),r=t.getStyle(Wh.EDGE_FROM_OFFSET);return r&&(n.x+=r.x||0,n.y+=r.y||0),n}function Hr(t,i,e){var n=i.getPortPoint(t.getStyle(Wh.EDGE_TO_PORT),e),r=t.getStyle(Wh.EDGE_TO_OFFSET);return r&&(n.x+=r.x||0,n.y+=r.y||0),n}function Ur(t,i,e,n,r){var s=n==r,o=t.graph.getUI(n),a=s?o:t.graph.getUI(r);if(o&&a){var h=i.edgeType,l=t.getEndPointBounds(o),_=s?l:t.getEndPointBounds(a),u=i.hasPathSegments();if(s&&!u)return t.drawLoopedEdge(t.path,o,h,l);var f=Yr(t,o,l),c=Hr(t,a,_);if(!s&&!h&&!u){var d=n.busLayout,v=r.busLayout;if(d!=v){var g,E,p,y,T=i.angle;d?(g=o,E=l,p=a,y=_):(g=a,E=_,p=o,y=l);var m=Zr(E,g,d,p,y,T);if(m&&2==m.length){var w=m[0],x=m[1];return e.moveTo(w.x,w.y),x.x==w.x&&x.y==w.y&&(x.y+=.01),e.lineTo(x.x,x.y),void(e._66=!0)}}}t._3l(i,e,o,a,h,l,_,f,c),(!s||u)&&Wr(t,i,e,o,a,h,l,_,f,c),e._66=!0}}function Wr(t,i,n,r,s,o,a,h,l,_){var u=t.fromAtEdge,f=t.toAtEdge;if(!u&&!f)return void jr(n._f9,l,_);var c=n._f9;if(c.length){if(u){var d=c[0],v=d.firstPoint;Vr(r,a,v,l,e,e)}if(f){var g,E=c[c.length-1],p=E.lastPoint,y=E.points.length,T=E.invalidTerminal||p.x===e||p.y===e;y>=4&&(T||h.contains(p.x,p.y))&&(T||(_=p),g=!0,p={x:E.points[y-4],y:E.points[y-3]},h.contains(p.x,p.y)&&(_=p,y>=6?(p={x:E.points[y-6],y:E.points[y-5]},E.points=E.points.slice(0,4),E.type=ih):1==c.length?(p={x:l.x,y:l.y},E.points=E.points.slice(0,2),E.type=th):(E=c[c.length-2],p=E.lastPoint))),Vr(s,h,p,_,e,e),g&&(y=E.points.length,E.points[y-2]=_.x,E.points[y-1]=_.y,_=null)}}else{var m=Math.atan2(_.y-l.y,_.x-l.x),w=Math.cos(m),x=Math.sin(m);u&&Vr(r,a,_,l,w,x),f&&Vr(s,h,l,_,-w,-x)}jr(n._f9,l,_)}function Vr(t,i,n,r,s,o){if(s===e){var a=Math.atan2(n.y-r.y,n.x-r.x);s=Math.cos(a),o=Math.sin(a)}for(n={x:n.x,y:n.y},i.contains(n.x,n.y)||(n=ri(i,r.x,r.y,n.x,n.y));;){if(!i.contains(n.x,n.y))return r;if(t.hitTest(n.x-s,n.y-o,ho.LOOKING_EDGE_ENDPOINT_TOLERANCE)){r.x=n.x-s/2,r.y=n.y-o/2;break}n.x-=s,n.y-=o}return r}function Xr(t,i,e,n,r,s,o,a){if(i.hasPathSegments())return i._8x;var h=i.edgeType;if(Br(h)){var l=vr(h,e,n,t,o,a);if(!l||!l.length)return null;p(l,o,0),l.push(a),h!=Oa.EDGE_TYPE_ELBOW&&Ir(l,t);for(var _=[],u=l.length,f=1;u-1>f;f++){var c=l[f];_.push(G(c)?new sh(ih,[c[0].x,c[0].y,c[1].x,c[1].y]):new sh(th,[c.x,c.y]))}return _}if(i.$bundleEnabled){var d=t._1z();if(!d)return;return $r(d,o,a,e,n,t.getStyle(Wh.EDGE_BUNDLE_TYPE))}}function qr(t,i,e){var n=t.getStyle(Wh.EDGE_LOOPED_EXTAND),r=t._1z(),s=n+.2*r,o=i.x+i.width-s,a=i.y,h=i.x+i.width,l=i.y+s;n+=r;var _=.707,u=-.707,f=i.x+i.width,c=i.y,d=f+_*n,v=c+u*n,g={x:o,y:a},E={x:d,y:v},p={x:h,y:l},y=g.x,T=E.x,m=p.x,w=g.y,x=E.y,O=p.y,A=((O-w)*(x*x-w*w+T*T-y*y)+(x-w)*(w*w-O*O+y*y-m*m))/(2*(T-y)*(O-w)-2*(m-y)*(x-w)),b=((m-y)*(T*T-y*y+x*x-w*w)+(T-y)*(y*y-m*m+w*w-O*O))/(2*(x-w)*(m-y)-2*(O-w)*(T-y)),s=Math.sqrt((y-A)*(y-A)+(w-b)*(w-b)),L=Math.atan2(g.y-b,g.x-A),S=Math.atan2(p.y-b,p.x-A),I=S-L;return 0>I&&(I+=2*Math.PI),Kr(A,b,L,I,s,s,!0,e)}function Kr(t,i,e,n,r,s,o,a){var h,l,_,u,f,c,d,v,g,E,p;if(Math.abs(n)>2*Math.PI&&(n=2*Math.PI),f=Math.ceil(Math.abs(n)/(Math.PI/4)),h=n/f,l=h,_=e,f>0){c=t+Math.cos(_)*r,d=i+Math.sin(_)*s,moveTo?a.moveTo(c,d):a.lineTo(c,d);for(var y=0;f>y;y++)_+=l,u=_-l/2,v=t+Math.cos(_)*r,g=i+Math.sin(_)*s,E=t+Math.cos(u)*(r/Math.cos(l/2)),p=i+Math.sin(u)*(s/Math.cos(l/2)),a.quadTo(E,p,v,g)}}function Zr(t,i,e,n,r,s){var o=r.cx,a=r.cy,h=Math.cos(s),l=Math.sin(s),_=Qr(i,t,{x:o,y:a},-h,-l);if(!_){var u=o<t.x,f=o>t.right,c=a<t.y,d=a>t.bottom,v=t.cx,g=t.cy,E=u||f,p=c||d;s=Math.atan2(a-g,o-v),E||p||(s+=Math.PI),h=Math.cos(s),l=Math.sin(s),_=Qr(i,t,{x:o,y:a},-h,-l)||{x:v,y:g}}var y=Qr(n,r,{x:_.x,y:_.y},-_.perX||h,-_.perY||l,!1)||{x:o,y:a};return e?[_,y]:[y,_]}function Jr(t,i,e,n,r,s){var o=i<t.x,a=i>t.right,h=e<t.y,l=e>t.bottom;if(o&&n>0){var _=t.x-i,u=e+_*r/n;if(u>=t.y&&u<=t.bottom)return{x:t.x,y:u,perX:n,perY:r}}if(a&&0>n){var _=t.right-i,u=e+_*r/n;if(u>=t.y&&u<=t.bottom)return{x:t.right,y:u,perX:n,perY:r}}if(h&&r>0){var f=t.y-e,c=i+f*n/r;if(c>=t.x&&c<=t.right)return{x:c,y:t.y,perX:n,perY:r}}if(l&&0>r){var f=t.bottom-e,c=i+f*n/r;if(c>=t.x&&c<=t.right)return{x:c,y:t.bottom,perX:n,perY:r}}return s!==!1?Jr(t,i,e,-n,-r,!1):void 0}function Qr(t,i,e,n,r,s){if(!i.contains(e.x,e.y)){if(e=Jr(i,e.x,e.y,n,r,s),!e)return;return ts(t,i,e,e.perX,e.perY)}return s===!1?ts(t,i,e,n,r):ts(t,i,{x:e.x,y:e.y,perX:n,perY:r},n,r)||ts(t,i,e,-n,-r)}function ts(t,i,e,n,r){for(;;){if(!i.contains(e.x,e.y))return;if(t.hitTest(e.x+n,e.y+r))break;e.x+=n,e.y+=r}return e}function is(t){return be(t)?t:t.match(/.(gif|jpg|jpeg|png)$/gi)||/^data:image\/(\w+\+?\w+);base64,/i.test(t)?t:(t=J(t),t instanceof Object&&t.draw?t:void 0)}function es(t){for(var i=t.parent;i;){if(i.enableSubNetwork)return i;i=i.parent}return null}function ns(){x(this,ns,arguments)}function rs(t,e,n,r,s,o,a){var h=i.createElement("div");h.className="Q-Graph-Nav-Button",gi(h,_l),e&&gi(h,e);var l=i.createElement("img");return o&&(so&&(l.ontouchstart=o),Jo||(l.onclick=o)),l.name=a,l.src=n,gi(l,ul),s&&gi(l,s),r&&pi(l,"transform","rotate(180deg)"),h._img=l,h.appendChild(l),t.appendChild(h),h}function ss(t,e){this._navPane=i.createElement("div"),this._navPane.className="Q-Graph-Nav",gi(this._navPane,{"background-color":"rgba(0, 0, 0, 0)",overflow:"hidden","user-select":"none",position:"relative"}),this._top=rs(this._navPane,{width:"100%"},ho.NAVIGATION_IMAGE_TOP,!1,null,e,"top"),this._left=rs(this._navPane,{height:"100%"},ho.NAVIGATION_IMAGE_LEFT,!1,fl,e,"left"),this._right=rs(this._navPane,{height:"100%",right:"0px"},ho.NAVIGATION_IMAGE_LEFT,!0,fl,e,"right"),this._lxottom=rs(this._navPane,{width:"100%",bottom:"0px"},ho.NAVIGATION_IMAGE_TOP,!0,null,e,"bottom"),t.appendChild(this._navPane)}function os(t,i){if(!ho.NAVIGATION_IMAGE_LEFT){var e=Mi(20,40),n=e.g;n.scale(n.ratio,n.ratio),n.moveTo(16,4),n.lineTo(4,20),n.lineTo(16,36),n.lineWidth=3,n.lineCap="round",n.lineJoin="round",n.strokeStyle="#FFF",n.shadowColor="#888",n.shadowBlur=5,n.stroke(),ho.NAVIGATION_IMAGE_LEFT=e.toDataURL();var r=Mi(e.height,e.width,!1);r.g.translate(r.width,0),r.g.rotate(Math.PI/2),r.g.drawImage(e,0,0),ho.NAVIGATION_IMAGE_TOP=r.toDataURL()}this._lxaseCanvas=t;var s=function(i){j(i);var e,n,r=i.target,s=r.name;if("left"==s)e=1;else if("right"==s)e=-1;else if("top"==s)n=1;else{if("bottom"!=s)return;n=-1}so&&(r.className="hover",setTimeout(function(){r.className=""},100)),j(i),t._k1._91(e,n)};ss.call(this,i,s),this._35(i.clientWidth,i.clientHeight)}function as(t,i){this._lxaseCanvas=t,this.init(i,t)}function hs(){x(this,hs,arguments)}function ls(t,i){this._lxaseCanvas=t,this._io=sn(i),this.g=this._io.g,this._9o=new lo}function _s(t){var i=t.selectionModel,e=[];return t.graphModel.forEach(function(i){t.isVisible(i)&&t.isSelectable(i)&&e.push(i)}),i.set(e)}function us(t,i,e,n){var r=t.bounds;e=e||r,i=i||1;var s=null;s&&e.width*e.height*i*i>s&&(i=Math.sqrt(s/e.width/e.height));var o=Mi();nn(o.g),o.width=e.width*i,o.height=e.height*i,t._7y._fv(o.g,i,e);var a=null;try{a=o.toDataURL(n||"image/png")}catch(h){xa.error(h)}return{canvas:o,data:a,width:o.width,height:o.height}}function fs(t){this.graph=t,this.topCanvas=t.topCanvas}function cs(t,i){this.interactions=t,this.defaultCursor=i||"default"}function ds(){x(this,ds,arguments)}function vs(t,i){if(!t)return i;var n={};for(var r in t)n[r]=t[r];for(var r in i)n[r]===e&&(n[r]=i[r]);return n}function gs(){x(this,gs,arguments)}function Es(t,i,e,n){var r;return t.forEachReverseVisibleUI(function(s){var o=s.data;return o instanceof xa.Node&&(!n||n(o)!==!1)&&s.uiBounds.intersectsPoint(i-s.x,e-s.y)&&s.hitTest(i,e,ho.SELECTION_TOLERANCE/t.scale)?(r=o,!1):void 0}),r}function ps(t){this.rect=t.getBounds(),this.points=t.getPortPoints(),this.defaultPoint=t.getDefaultPortPoint()}function ys(){x(this,ys,arguments)}function Ts(){x(this,Ts,arguments)}function ms(){x(this,ms,arguments)}function ws(i,e,n){i+=t.pageXOffset,e+=t.pageYOffset;var r=n.getBoundingClientRect();return{x:i+r.left,y:e+r.top}}function xs(t,i,e){var n=t.offsetWidth,r=t.offsetHeight;t.style.left=i-n/2+"px",t.style.top=e-r/2+"px"}function Os(t){var e=i.createElement("canvas"),n=e.getContext("2d"),r=getComputedStyle(t,null),s=r.font;s||(s=r.fontStyle+" "+r.fontSize+" "+r.fontFamily),n.font=s;var o=t.value,a=o.split("\n"),h=parseInt(r.fontSize),l=0,_=0;return xa.forEach(a,function(t){var i=n.measureText(t).width;i>l&&(l=i),_+=1.2*h}),{width:l,height:_}}function As(t,e){if("number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd){var n=t.value,r=t.selectionStart;t.value=n.slice(0,r)+e+n.slice(t.selectionEnd),t.selectionEnd=t.selectionStart=r+e.length}else if("undefined"!=typeof i.selection){var s=i.selection.createRange();s.text=e,s.collapse(!1),s.select()}}function bs(i){if(Vs){var e=t.scrollX||t.pageXOffset,n=t.scrollY||t.pageYOffset;return i.select(),void t.scrollTo(e,n)}i.select()}function Ls(){}function Ss(){x(this,Ss,arguments),this.handlerSize=so?8:5}function Is(t){return t.type==ih||t.type==eh}function Ds(){x(this,Ds,arguments),this.handlerSize=so?8:4,this._rotateHandleLength=so?30:20}function Cs(t,i){var e=new Eo;return e.addPoint(qe.call(t,{x:i.x,y:i.y})),e.addPoint(qe.call(t,{x:i.x+i.width,y:i.y})),e.addPoint(qe.call(t,{x:i.x+i.width,y:i.y+i.height})),e.addPoint(qe.call(t,{x:i.x,y:i.y+i.height})),e}function Rs(t){t%=2*Math.PI;var i=Math.round(t/vl);return 0==i||4==i?"ew-resize":1==i||5==i?"nwse-resize":2==i||6==i?"ns-resize":"nesw-resize"}function Ps(){}function Ns(e,n,r){var s=i.documentElement,o=new Eo(t.pageXOffset,t.pageYOffset,s.clientWidth-2,s.clientHeight-2),a=e.offsetWidth,h=e.offsetHeight;n+a>o.x+o.width&&(n=o.x+o.width-a),r+h>o.y+o.height&&(r=o.y+o.height-h),n<o.x&&(n=o.x),r<o.y&&(r=o.y),e.style.left=n+"px",e.style.top=r+"px"}function ks(t){this._lwction=t,this.action=function(t){return this._k6&&(this._isFrameTimer?(cancelAnimationFrame(this._k6),this._isFrameTimer=null):clearTimeout(this._k6),this._k6=null),t===!0||t===!1?void this._lwction():t?void(this._k6=setTimeout(function(){this._lwction(),this._k6=null}.bind(this),t)):(this._isFrameTimer=!0,void(this._k6=requestAnimationFrame(function(){this._lwction(),this._k6=null,this._isFrameTimer=null
}.bind(this))))}}function Ms(t,i,e,n,r){this.source=t,this.type="interaction",this.kind=i,this.event=e,this.data=n,this.datas=r}function Bs(t){this._4m={},this._k1=t,this._k1._1p.addListener(this._97,this),this.currentMode=Oa.INTERACTION_MODE_DEFAULT}function zs(t){return t>=100&&200>t}function Gs(t){return t==Cl||t==Gl||t==zl||t==Nl||t==jl||t==Yl}function Fs(){var t,i,e={},n=[],r=0,s={},o=0;this.graph.forEach(function(a){if(this.isLayoutable(a))if(a instanceof Fh){var h={node:a,id:a.id,x:a.x,y:a.y};for(this.appendNodeInfo&&this.appendNodeInfo(a,h),e[a.id]=h,n.push(h),r++,i=a.parent;i instanceof Yh;){t||(t={});var l=t[i.id];l||(l=t[i.id]={id:i.id,children:[]}),l.children.push(h),i=i.parent}}else if(a instanceof Gh&&!a.isLooped()&&a.fromAgent&&a.toAgent){var h={edge:a};s[a.id]=h,o++}},this);var a={};for(var h in s){var l=s[h],_=l.edge,u=_.fromAgent,f=_.toAgent,c=u.id+"-"+f.id,d=f.id+"-"+u.id;if(e[u.id]&&e[f.id]&&!a[c]&&!a[d]){var v=e[u.id],g=e[f.id];l.from=v,l.to=g,a[c]=l,this.appendEdgeInfo&&this.appendEdgeInfo(_,l)}else delete s[h],o--}return{groups:t,nodesArray:n,nodes:e,nodeCount:r,edges:s,edgeCount:o,minEnergy:this.minEnergyFunction(r,o)}}function $s(t){this.graph=t,this.currentMovingNodes={}}function js(){x(this,js,arguments)}function Ys(t,i,e,n,r){n?t.forEachEdge(function(n){var s=n.otherNode(t);s!=e&&s._marker!=r&&i(s,t)},this,!0):t.forEachOutEdge(function(n){var s=n.toAgent;s!=e&&s._marker!=r&&i(s,t)})}var Hs=0;if(t.navigator){{var Us=navigator.userAgent,Ws=/opera/i.test(Us),Vs=!Ws&&/msie/i.test(Us),Xs=/rv:11.0/i.test(Us),qs=/MSIE 10./i.test(Us);/Edge/i.test(Us)}if(Xs&&(Vs=!0),/msie\s[6,7,8]/i.test(Us))throw new Error("your browser is not supported");var Ks=/webkit|khtml/i.test(Us),Zs=!Ks&&/gecko/i.test(Us),Js=/firefox\//i.test(Us),Qs=/Chrome\//i.test(Us),to=!Qs&&/Safari\//i.test(Us),io=/Macintosh;/i.test(Us),eo=/(iPad|iPhone|iPod)/g.test(Us),no=/Android/g.test(Us),ro=/Windows Phone/g.test(Us),so=(eo||no||ro)&&"ontouchstart"in t,oo=Us.match(/AppleWebKit\/([0-9\.]*)/);if(oo&&oo.length>1)var ao=parseFloat(oo[1]);if(no){{parseFloat(Us.match(/Android\s([0-9\.]*)/)[1])}if(ao&&534.3>=ao);}}t.requestAnimationFrame||(t.requestAnimationFrame=t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){return t.setTimeout(function(){i()},1e3/60)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||function(i){return t.clearTimeout(i)});var ho={SELECTION_TOLERANCE:so?7:4,LABEL_COLOR:"#333"};Z(ho,{FONT_STYLE:{get:function(){return this._fontStyle||(this._fontStyle="normal")},set:function(t){this._fontStyle!=t&&(this._fontStyle=t,this._fontChanged=!0)}},FONT_SIZE:{get:function(){return this._fontSize||(this._fontSize=12)},set:function(t){this._fontSize!=t&&(this._fontSize=t,this._fontChanged=!0)}},FONT_FAMILY:{get:function(){return this._fontFamily||(this._fontFamily="Verdana,helvetica,arial,sans-serif")},set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this._fontChanged=!0)}},FONT:{get:function(){return(this._fontChanged||this._fontChanged===e)&&(this._fontChanged=!1,this._font=this.FONT_STYLE+" "+this.FONT_SIZE+"px "+this.FONT_FAMILY),this._font}}});var lo=function(t){this._j7=[],this._ku={},t&&this.add(t)};lo.prototype={_j7:null,_ku:null,get:function(t){return this.getByIndex(t)},getById:function(t){return this._ku[t]},getByIndex:function(t){return this._j7[t]},forEach:function(t,i,e){return d(this._j7,t,i,e)},forEachReverse:function(t,i,e){return g(this._j7,t,i,e)},size:function(){return this._j7.length},contains:function(t){return this.containsById(t.id)},containsById:function(t){return this._ku.hasOwnProperty(t)},setIndex:function(t,i){var e=this._j7.indexOf(t);if(0>e)throw new Error("'"+t.id+"' not exist");return e==i?!1:(this._j7.splice(e,1),this._j7.splice(i,0,t),!0)},setIndexAfter:function(t,i){var e=this._j7.indexOf(t);if(0>e)throw new Error("'"+t.id+"' not exist");return e==i?i:e==i+1?i+1:(e>i&&(i+=1),this._j7.splice(e,1),this._j7.splice(i,0,t),i)},setIndexBefore:function(t,i){var e=this._j7.indexOf(t);if(0>e)throw new Error("'"+t.id+"' not exist");return e==i?i:e==i-1?i-1:(i>e&&(i-=1),this._j7.splice(e,1),this._j7.splice(i,0,t),i)},indexOf:function(t){return this._j7.indexOf(t)},getIndexById:function(t){var i=this.getById(t);return i?this._j7.indexOf(i):-1},add:function(t,i){return G(t)?this._g0(t,i):this._k0(t,i)},addFirst:function(t){return this.add(t,0)},_g0:function(t,i){if(0==t.length)return!1;var n=!1,r=i>=0;t=t._j7||t;for(var s=0,o=t.length;o>s;s++){var a=t[s];null!==a&&a!==e&&this._k0(a,i,!0)&&(n=!0,r&&i++)}return n},_k0:function(t,i){var n=t.id;return n===e||this.containsById(n)?!1:(p(this._j7,t,i),this._ku[n]=t,t)},remove:function(t){return G(t)?this._lxc(t):t.id?this._fp(t.id,t):this.removeById(t)},_lxc:function(t){if(0==t.length)return!1;var i=!1;t=t._j7||t;for(var n=0,r=t.length;r>n;n++){var s=t[n];if(null!==s&&s!==e){s.id===e&&(s=this._ku[s]);var o=s.id;this._fp(o,s,!0)&&(i=!0)}}return i},_fp:function(t,i){return t!==e&&this.containsById(t)?((null===i||i===e)&&(i=this.getById(t)),delete this._ku[t],y(this._j7,i),!0):!1},removeById:function(t){var i=this._ku[t];return i?this._fp(t,i):!1},set:function(t){if(!t||0==t)return this.clear();if(this.isEmpty()||!G(t))return this.clear(),this.add(t);var i=[],e={},n=0;if(d(t,function(t){this._ku[t.id]?(e[t.id]=t,n++):i.push(t)},this),n!=this.length){var r=[];this.forEach(function(t){e[t.id]||r.push(t)},this),r.length&&this._lxc(r)}return i.length&&this._g0(i),!0},clear:function(){return this.isEmpty()?!1:(this._j7.length=0,this._ku={},!0)},toDatas:function(){return this._j7.slice(0)},isEmpty:function(){return 0==this._j7.length},valueOf:function(){return this._j7.length},clone:function(t){var i=new lo;return i.add(t?E(this._j7):this.toDatas()),i}},Z(lo.prototype,{datas:{get:function(){return this._j7}},random:{get:function(){return this._j7&&this._j7.length?this._j7[Y(this._j7.length)]:null}},length:{get:function(){return this._j7?this._j7.length:0}}});var _o=(2*Math.PI,.5*Math.PI),uo=function(t,i){i=i.toUpperCase();for(var e=Vs?t.firstChild:t.firstElementChild;e&&(1!=e.nodeType||e.tagName&&e.tagName.toUpperCase()!=i);)e=Vs?e.nextSibling:e.nextElementSibling;return e&&1==e.nodeType&&e.tagName&&e.tagName.toUpperCase()==i?e:null},fo=function(t,i,e){t instanceof fo&&(i=t.y,t=t.x,e=t.rotate),this.set(t,i,e)},co=function(t,i,e,n){var r=t-e,s=i-n;return Math.sqrt(r*r+s*s)};fo.prototype={x:0,y:0,rotate:e,set:function(t,i,e){this.x=t||0,this.y=i||0,this.rotate=e||0},negate:function(){this.x=-this.x,this.y=-this.y},offset:function(t,i){this.x+=t,this.y+=i},equals:function(t){return this.x==t.x&&this.y==t.y},distanceTo:function(t){return co(this.x,this.y,t.x,t.y)},toString:function(){return"Point("+this.x+", "+this.y+")"},clone:function(){return new fo(this.x,this.y)}},Object.defineProperty(fo.prototype,"distance",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}});var vo=function(t,i,n,r){t!==e&&this._lm(t,i,n,r)};vo.prototype={_lt:null,_ls:null,_lu:null,_lq:null,_lw:null,_lx:null,_lz:1,_lm:function(t,i,e,n){this._lt=t,this._ls=i,this._lu=e,this._lq=n,t==e?(this._lw=-1,this._lz=0,this._lx=t):(this._lw=(i-n)/(t-e),this._lx=i-this._lw*t,this._lz=1),this._kk=Math.atan2(this._lq-this._ls,this._lu-this._lt),this._lzos=Math.cos(this._kk),this._sin=Math.sin(this._kk)},_lza:function(t){return 0==this._lz?Number.NaN:this._lw*t+this._lx},_lz4:function(t){return 0==this._lw?Number.NaN:(t-this._lx)/this._lw},_$b:function(t){var i,e,n,r,s,o=t[0],a=t[2],h=t[4],l=t[1],_=t[3],u=t[5],f=this._lw,c=this._lx,d=this._lz;if(0==d?(n=Math.sqrt((-f*f*o-f*c)*h+f*f*a*a+2*f*c*a-f*c*o),r=-f*a+f*o,s=f*h-2*f*a+f*o):(n=Math.sqrt((-l+f*o+c)*u+_*_+(-2*f*a-2*c)*_+(f*h+c)*l+(-f*f*o-f*c)*h+f*f*a*a+2*f*c*a-f*c*o),r=-_+l+f*a-f*o,s=u-2*_+l-f*h+2*f*a-f*o),0!=s){i=(n+r)/s,e=(-n+r)/s;var v,g;return i>=0&&1>=i&&(v=Hi(i,t)),e>=0&&1>=e&&(g=Hi(e,t)),v&&g?[v,g]:v?v:g?g:void 0}},_3a:function(t,i,e){if(this._lw==t._lw||0==this._lz&&0==t._lz)return null;var n,r;if(n=0==this._lz?this._lx:0==t._lz?t._lx:(t._lx-this._lx)/(this._lw-t._lw),r=0==this._lw?this._lx:0==t._lw?t._lx:this._lz?this._lw*n+this._lx:t._lw*n+t._lx,!i)return{x:n,y:r};var s,o,a;if(e)s=-i/2,o=-s;else{s=-co(this._lt,this._ls,n,r),o=co(this._lu,this._lq,n,r);var h=-s+o;if(h>i){var l=i/h;s*=l,o*=l}else a=(i-h)/2}var _=this._7c(n,r,s),u=this._7c(n,r,o);return a&&(_._rest=a,u._rest=a),[_,u]},_7c:function(t,i,e){return 0==this._lz?{x:t,y:i+e}:{x:t+e*this._lzos,y:i+e*this._sin}}};var go=function(t,i){this.width=t,this.height=i};go.prototype={width:0,height:0,isEmpty:function(){return this.width<=0||this.height<=0},clone:function(){return new go(this.width,this.height)},toString:function(){return"Size("+this.width+", "+this.height+")"}};var Eo=function(t,i,n,r){t instanceof Object&&!M(t)&&(i=t.y,n=t.width,r=t.height,t=t.x),n===e&&(n=-1),r===e&&(r=-1),this.x=t||0,this.y=i||0,this.width=n,this.height=r};Eo.prototype={x:0,y:0,width:-1,height:-1,setByRect:function(t){this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0},set:function(t,i,e,n){this.x=t||0,this.y=i||0,this.width=e||0,this.height=n||0},offset:function(t,i){return this.x+=t,this.y+=i,this},contains:function(t,i,e,n){if(1==arguments.length){if("object"==typeof t&&li(t))return this.contains(t.x,t.y,t.width,t.height);throw{message:"arguments error"}}return 2==arguments.length?t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height:ai(this.x,this.y,this.width,this.height,t,i,e||0,n||0)},intersectsPoint:function(t,i,e){return this.width<=0&&this.height<=0?!1:e?this.intersectsRect(t-e,i-e,2*e,2*e):t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},intersectsRect:function(t,i,e,n){return si(this.x,this.y,this.width,this.height,t,i,e,n)},intersects:function(t,i){return M(t.width)?this.intersectsRect(t.x,t.y,t.width,t.height):this.intersectsPoint(t,i)},intersection:function(t,i,e,n){var r=this.x,s=this.y,o=r;o+=this.width;var a=s;a+=this.height;var h=t;h+=e;var l=i;return l+=n,t>r&&(r=t),i>s&&(s=i),o>h&&(o=h),a>l&&(a=l),o-=r,a-=s,0>o||0>a?null:new Eo(r,s,o,a)},addPoint:function(t){this.add(t.x,t.y)},add:function(t,i){if(M(t.width))return this.addRect(t.x,t.y,t.width,t.height);if(M(t.x)&&(i=t.y,t=t.x),this.width<0||this.height<0)return this.x=t,this.y=i,void(this.width=this.height=0);var e=this.x,n=this.y,r=this.width,s=this.height;r+=e,s+=n,e>t&&(e=t),n>i&&(n=i),t>r&&(r=t),i>s&&(s=i),r-=e,s-=n,r>Number.MAX_VALUE&&(r=Number.MAX_VALUE),s>Number.MAX_VALUE&&(s=Number.MAX_VALUE),this.set(e,n,r,s)},addRect:function(t,i,e,n){var r=this.width,s=this.height;(0>r||0>s)&&this.set(t,i,e,n);var o=e,a=n;if(!(0>o||0>a)){var h=this.x,l=this.y;r+=h,s+=l;var _=t,u=i;o+=_,a+=u,h>_&&(h=_),l>u&&(l=u),o>r&&(r=o),a>s&&(s=a),r-=h,s-=l,r>Number.MAX_VALUE&&(r=Number.MAX_VALUE),s>Number.MAX_VALUE&&(s=Number.MAX_VALUE),this.set(h,l,r,s)}},shrink:function(t,i,e,n){return M(t)?1==arguments.length?n=i=e=t||0:2==arguments.length?(e=t||0,n=i||0):(t=t||0,i=i||0,e=e||0,n=n||0):(i=t.left||0,e=t.bottom||0,n=t.right||0,t=t.top||0),this.x+=i,this.y+=t,this.width-=i+n,this.height-=t+e,this},grow:function(t,i,e,n){return M(t)?1==arguments.length?n=i=e=t||0:2==arguments.length?(e=t||0,n=i||0):(t=t||0,i=i||0,e=e||0,n=n||0):(i=t.left||0,e=t.bottom||0,n=t.right||0,t=t.top||0),this.x-=i,this.y-=t,this.width+=i+n,this.height+=t+e,this},scale:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this},isEmpty:function(){return this.width<=0&&this.height<=0},toString:function(){return this.x+" , "+this.y+" , "+this.width+" , "+this.height},union:function(t){var i=this.width,e=this.height;if(0>i||0>e)return new Eo(t.x,t.y,t.width,t.height);var n=t.width,r=t.height;if(0>n||0>r)return new Eo(this.x,this.y,this.width,this.height);var s=this.x,o=this.y;i+=s,e+=o;var a=t.x,h=t.y;return n+=a,r+=h,s>a&&(s=a),o>h&&(o=h),n>i&&(i=n),r>e&&(e=r),i-=s,e-=o,i>Number.MAX_VALUE&&(i=Number.MAX_VALUE),e>Number.MAX_VALUE&&(e=Number.MAX_VALUE),new Eo(s,o,i,e)},clear:function(){this.set(0,0,-1,-1)},equals:function(t){return t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},clone:function(t,i){return new Eo(this.x+(t||0),this.y+(i||0),this.width,this.height)},toArray:function(){return[this.x,this.y,this.width,this.height]},getIntersectionPoint:function(t,i,e,n){return ri(this,t,i,e,n)}},w(Eo,go),Eo.equals=function(t,i){return t==i||t&&i&&t.x==i.x&&t.y==i.y&&t.width==i.width&&t.height==i.height},Z(Eo.prototype,{left:{get:function(){return this.x}},top:{get:function(){return this.y}},bottom:{get:function(){return this.y+this.height}},right:{get:function(){return this.x+this.width}},cx:{get:function(){return this.x+this.width/2}},cy:{get:function(){return this.y+this.height/2}},center:{get:function(){return new fo(this.cx,this.cy)}}}),Eo.intersects=si,Eo.intersection=hi,Eo.intersectsPoint=oi;var po=function(t,i,e,n){1==arguments.length?i=e=n=t:2==arguments.length&&(e=t,n=i),this.set(t,i,e,n)};po.prototype={top:0,bottom:0,left:0,right:0,set:function(t,i,e,n){this.top=t||0,this.left=i||0,this.bottom=e||0,this.right=n||0},clone:function(){return new po(this.top,this.left,this.bottom,this.right)},equals:function(t){return t&&this.top==t.top&&this.bottom==t.bottom&&this.left==t.left&&this.right==t.right}};var yo=function(t,i){this.horizontalPosition=t,this.verticalPosition=i};yo.prototype={verticalPosition:!1,horizontalPosition:!1,toString:function(){return(this.horizontalPosition||"")+(this.verticalPosition||"")}},K(yo.prototype,"sortName",{get:function(){return(this.horizontalPosition||"")+(this.verticalPosition||"")}});var To="l",mo="c",wo="r",xo="t",Oo="m",Ao="b";yo.LEFT_TOP=new yo(To,xo),yo.LEFT_MIDDLE=new yo(To,Oo),yo.LEFT_BOTTOM=new yo(To,Ao),yo.CENTER_TOP=new yo(mo,xo),yo.CENTER_MIDDLE=new yo(mo,Oo),yo.CENTER_BOTTOM=new yo(mo,Ao),yo.RIGHT_TOP=new yo(wo,xo),yo.RIGHT_MIDDLE=new yo(wo,Oo),yo.RIGHT_BOTTOM=new yo(wo,Ao);var bo=[yo.LEFT_TOP,yo.LEFT_MIDDLE,yo.LEFT_BOTTOM,yo.CENTER_TOP,yo.CENTER_MIDDLE,yo.CENTER_BOTTOM,yo.RIGHT_TOP,yo.RIGHT_MIDDLE,yo.RIGHT_BOTTOM];K(yo,"random",{get:function(){return bo[Y(bo.length)]}}),yo.fromString=function(t){for(var i in yo){var e=yo[i];if(e&&"random"!=i&&e instanceof yo&&e.toString()==t)return e}throw new Error("Position not be supported - "+t)};var Lo=function(t,i,e,n,r){this.set(t,i,e,n),this.radius=r};Lo.prototype={radius:0,classify:function(t,i,e,n){return i>t?0:i+n>t?1:e-n>t?2:e>t?3:4},intersectsRect:function(t,i,e,n){if(O(this,Lo,"intersectsRect",arguments)===!1)return!1;var r=this.x,s=this.y,o=r+this.width,a=s+this.height,h=2*radius,l=2*radius,_=Math.min(this.width,Math.abs(h))/2,u=Math.min(this.height,Math.abs(l))/2,f=this.classify(t,r,o,_),c=this.classify(t+e,r,o,_),d=this.classify(i,s,a,u),v=this.classify(i+n,s,a,u);return 2==f||2==c||2==d||2==v?!0:2>f&&c>2||2>d&&v>2?!0:(t=1==c?t=t+e-(r+_):t-=o-_,i=1==v?i=i+n-(s+u):i-=a-u,t/=_,i/=u,1>=t*t+i*i)},intersectsPoint:function(t,i){if(O(this,Lo,"intersectsPoint",arguments)===!1)return!1;var e=this.x,n=this.y,r=e+this.width,s=n+this.height;if(e>t||n>i||t>=r||i>=s)return!1;var o=2*radius,a=2*radius,h=Math.min(this.width,Math.abs(o))/2,l=Math.min(this.height,Math.abs(a))/2;return t>=(e+=h)&&t<(e=r-h)?!0:i>=(n+=l)&&i<(n=s-l)?!0:(t=(t-e)/h,i=(i-n)/l,1>=t*t+i*i)},clone:function(){return new Lo(this.x,this.y,this.width,this.height,this.radius)}},w(Lo,Eo);var So=function(t,i,e,n){this.source=t,this.type=i,this.kind=e,this.value=n};So.prototype={source:null,type:null,kind:null,value:null,toString:function(){return"source: "+this.source+", type: "+this.type+", kind: "+this.kind}};var Io=function(t,i,e,n,r){this.source=t,this.kind=i,this.oldValue=n,this.value=e,this.propertyType=r};Io.prototype={type:"property.change",propertyType:null,toString:function(){return"source: "+this.source+", type: "+this.type+", propertyName: "+this.kind+", oldValue: "+this.oldValue+", value: "+this.value}},w(Io,So),K(Io.prototype,"propertyName",{get:function(){return this.kind},set:function(t){this.kind=t}});var Do=function(t,i,e){this.source=t,this.oldValue=t.parent,this.value=i,this.newIndex=e,this.oldValue&&(this.oldIndex=this.oldValue.getChildIndex(t))};Do.prototype={kind:"parent"},w(Do,Io);var Co=function(t,i){this.source=t,this.value=i};Co.prototype.kind="child.add",w(Co,Io);var Ro=function(t,i){this.source=t,this.value=i};Ro.prototype.kind="child.remove",w(Ro,Io);var Po=function(t,i,e,n){this.source=i,this.oldValue=e,this.value=n,this.parent=t,this.child=i,this.oldIndex=e,this.newIndex=n};Po.prototype.kind="child.index",w(Po,Io);var No=function(){};No.prototype={listener:null,beforeEvent:function(t){return null!=this.listener&&this.listener.beforeEvent?this.listener.beforeEvent(t):!0},onEvent:function(t){null!=this.listener&&this.listener.onEvent&&this.listener.onEvent(t)}};var ko=function(){x(this,ko,arguments),this.events={},this.listeners=[]},Mo=function(t,i){this.listener=t,this.scope=i,t instanceof Function?this.onEvent=t:(this.onEvent=t.onEvent,this.beforeEvent=t.beforeEvent),this.equals=function(t){return t&&this.listener==t.listener&&this.scope==t.scope}};Mo.prototype={equals:function(t){return t&&this.listener==t.listener&&this.scope==t.scope},destroy:function(){delete this.scope,delete this.listener}},ko.prototype={listeners:null,_lxl:function(){return this.listeners&&this.listeners.length>0},_77:function(t,i){return t instanceof ko?t:new Mo(t,i)},_9z:function(t,i){if(t instanceof ko)return this.listeners.indexOf(t);for(var e=this.listeners,n=0,r=e.length;r>n;n++){var s=e[n];if(s.listener==t&&s.scope==i)return n}return-1},contains:function(t,i){return this._9z(t,i)>=0},addListener:function(t,i){return this.contains(t,i)?!1:void this.listeners.push(this._77(t,i))},removeListener:function(t,i){var e=this._9z(t,i);e>=0&&this.listeners.splice(e,1)},on:function(t,i){this.addListener(t,i)},un:function(t,i,e){this.removeListener(t,i,e)},onEvent:function(t){return this.listeners?void d(this.listeners,function(i){i.onEvent&&(i.scope?i.onEvent.call(i.scope,t):i.onEvent(t))},this):!1},beforeEvent:function(t){return this.listeners?d(this.listeners,function(i){return i.beforeEvent?i.scope?i.beforeEvent.call(i.scope,t):i.beforeEvent(t):!0},this):!0},_dp:function(t){return this.beforeEvent(t)===!1?!1:(this.onEvent(t),!0)},clear:function(){this.listeners=[]},destroy:function(){this.clear()}},w(ko,No);var Bo={onEvent:function(){},beforeEvent:function(){}},zo=function(t,i,e,n,r){this.source=t,this.type="list",this.kind=i,this.data=e,this.index=n,this.oldIndex=r};zo.prototype={index:-1,oldIndex:-1,toString:function(){return"source: "+this.source+", type: "+this.type+", kind: "+this.kind+", data: "+this.data+", index: "+this.index+", oldIndex: "+this.oldIndex}},w(zo,So),zo.KIND_ADD="add",zo.KIND_REMOVE="remove",zo.KIND_CLEAR="clear",zo.KIND_INDEX_CHANGE="index.change";var Go=function(){this.id=++Hs,this._lz0={}};Go.prototype={_lz0:null,id:null,get:function(t){return this._lz0[t]},set:function(t,i){var e=this.get(t);if(e===i)return!1;var n=new Io(this,t,i,e);return n.propertyType=Oa.PROPERTY_TYPE_CLIENT,this._lx8(t,i,n,this._lz0)},_lx8:function(t,i,n,r){return this.beforeEvent(n)===!1?!1:(r||(r=this._lz0),i===e?delete r[t]:r[t]=i,this.onEvent(n),!0)},remove:function(t){this.set(t,null)},valueOf:function(){return this.id},toString:function(){return this.id},_dr:function(t,i){if(i===e&&(i=-1),this==t||t==this._jm)return!1;if(t&&this==t._jm&&!t._dr(null))return!1;var n=new Do(this,t,i);if(!this.beforeEvent(n))return!1;var r,s,o=this._jm;return t&&(r=new Co(t,this),!t.beforeEvent(r))?!1:null==o||(s=new Ro(o,this),o.beforeEvent(s))?(this._jm=t,null!=t&&fi(t,this,i),null!=o&&ci(o,this),this.onEvent(n),null!=t&&t.onEvent(r),null!=o&&o.onEvent(s),this.onParentChanged(o,t),!0):!1},addChild:function(t,i){var e=t._dr(this,i);return e&&this.onChildAdd(t,i),e},removeChild:function(t){if(!this._fy||!this._fy.contains(t))return!1;var i=t._dr(null);return this.onChildRemove(t),i},toChildren:function(){return this._fy?this._fy.toDatas():null},clearChildren:function(){if(this._fy&&this._fy.length){var t=this.toChildren();d(t,function(t){t._dr(null)},this),this.onChildrenClear(t)}},forEachChild:function(t,i){return this.hasChildren()?this._fy.forEach(t,i):!1},onChildAdd:function(){},onChildRemove:function(){},onChildrenClear:function(){},onParentChanged:function(){},getChildIndex:function(t){return this._fy&&this._fy.length?this._fy.indexOf(t):-1},setChildIndex:function(t,i){if(!this._fy||!this._fy.length)return!1;var e=this._fy.indexOf(t);if(0>e||e==i)return!1;var n=new Po(this,t,e,i);return this.beforeEvent(n)===!1?!1:(this._fy.remove(t)&&this._fy.add(t,i),this.onEvent(n),!0)},hasChildren:function(){return this._fy&&this._fy.length>0},getChildAt:function(t){return null==this._fy?null:this._fy._j7[t]},isDescendantOf:function(t){if(!t.hasChildren())return!1;for(var i=this.parent;null!=i;){if(t==i)return!0;i=i.parent}return!1},firePropertyChangeEvent:function(t,i,e,n){this.onEvent(new Io(this,t,i,e,n))}},w(Go,No),Z(Go.prototype,{childrenCount:{get:function(){return this._fy?this._fy.length:0}},children:{get:function(){return this._fy||(this._fy=new lo),this._fy}},parent:{get:function(){return this._jm},set:function(t){this._dr(t,-1)}},properties:{get:function(){return this._lz0},set:function(t){this._lz0!=t&&(this._lz0=t)}}});var Fo=function(){this._j7=[],this._ku={},this._1p=new ko};Fo.prototype={beforeEvent:function(t){return null!=this._1p&&this._1p.beforeEvent?this._1p.beforeEvent(t):!0},onEvent:function(t){return this._1p instanceof Function?void this._1p(t):void(null!=this._1p&&this._1p.onEvent&&this._1p.onEvent(t))},_1p:null,setIndex:function(t,i){if(!this.contains(t))throw new Error("'"+t.getId()+"' not exist");var e=this.indexOf(t);if(e==i)return!1;var n=new zo(this,zo.KIND_INDEX_CHANGE,t,i,e);return this.beforeEvent(n)===!1?!1:(this._j7.remove(t)>=0&&this._j7.add(i,t),this.onEvent(n),!0)},_g0:function(t,i){if(0==t.length)return!1;var n=!1,r=i>=0,s=new zo(this,zo.KIND_ADD,t,i);if(this.beforeEvent(s)===!1)return!1;var o=[];t=t._j7||t;for(var a=0,h=t.length;h>a;a++){var l=t[a];null!==l&&l!==e&&this._k0(l,i,!0)&&(o.push(l),n=!0,r&&i++)}return s.data=o,this.onEvent(s),n},_k0:function(t,i,e){if(this.accept(t)===!1)return!1;if(e)return O(this,Fo,"_k0",arguments);var n=new zo(this,zo.KIND_ADD,t,i);return this.beforeEvent(n)===!1?!1:O(this,Fo,"_k0",arguments)?(this._kj(t,n),t):!1},_kj:function(t,i){this.onEvent(i)},_lxc:function(t){if(0==t.length)return!1;var i=new zo(this,zo.KIND_REMOVE,t);if(this.beforeEvent(i)===!1)return!1;var n=[],r=!1;t=t._j7||t;for(var s=0,o=t.length;o>s;s++){var a=t[s];if(null!==a&&a!==e){var h=a.id||a;a.id===e&&(a=null),this._fp(h,a,!0)&&(n.push(a),r=!0)}}return i.data=n,this.onEvent(i),r},_fp:function(t,i,e){if(e)return O(this,Fo,"_fp",arguments);var n=new zo(this,zo.KIND_REMOVE,i);return this.beforeEvent(n)===!1?!1:O(this,Fo,"_fp",arguments)?(this.onEvent(n),!0):!1},clear:function(){if(this.isEmpty())return!1;var t=new zo(this,zo.KIND_CLEAR,this.toDatas());return this.beforeEvent(t)===!1?!1:O(this,Fo,"clear")?(this.onEvent(t),!0):!1},accept:function(t){return this.filter&&this.filter(t)===!1?!1:!0}},w(Fo,lo),K(Fo.prototype,"listChangeDispatcher",{get:function(){return this._1p}});var $o=function(){x(this,$o,arguments),this.selectionChangeDispatcher=new ko,this._selectionModel=new jo(this),this._selectionModel._1p=this.selectionChangeDispatcher,this.dataChangeDispatcher=new ko,this.dataChangeDispatcher.addListener({beforeEvent:this.beforeDataPropertyChange,onEvent:this.onDataPropertyChanged},this),this.parentChangeDispatcher=new ko,this.childIndexChangeDispatcher=new ko,this.$roots=new lo;var t=this;this.$roots.setIndex=function(i,e){if(!t.$roots.contains(i))throw new Error("'"+i.id+"' not exist");var n=t.$roots._j7.indexOf(i);if(n==e)return!1;t.$roots._j7.splice(n,1),t.$roots._j7.splice(e,0,i),t._lzvIndexFlag=!0;var r=new Po(t,i,n,e);return t._25(r),!0}};$o.prototype={selectionModel:null,selectionChangeDispatcher:null,dataChangeDispatcher:null,parentChangeDispatcher:null,roots:null,_kj:function(t,i){t.listener=this.dataChangeDispatcher,t.parent||this.$roots.add(t),this.onEvent(i)},_fp:function(t,i){if(O(this,$o,"_fp",arguments)){if(i instanceof Gh)i.disconnect();else if(i instanceof Fh){var e=i.getEdges();this.remove(e)}var n=i.parent;return null==n?this.$roots.remove(i):(n.removeChild(i),n.__66=!0),i.hasChildren()&&this.remove(i.toChildren()),i.listener=null,!0}return!1},_5l:function(t){var i=t.source;this.contains(i)&&(null==i.parent?this.$roots.add(i):null==t.oldValue&&this.$roots.remove(i),this.parentChangeDispatcher.onEvent(t))},_25:function(t){this.childIndexChangeDispatcher.onEvent(t)},beforeDataPropertyChange:function(t){return t instanceof Do?this.parentChangeDispatcher.beforeEvent(t):!0},onDataPropertyChanged:function(t){return t instanceof Do?(this._lzvIndexFlag=!0,t.source._lzvIndexFlag=!0,void this._5l(t)):void(t instanceof Po&&(this._lzvIndexFlag=!0,t.source._lzvIndexFlag=!0,this._25(t)))},toRoots:function(){return this.$roots.toDatas()},_gq:function(t){var i,e=t._jm;i=e?e._fy:this.$roots;var n=i.indexOf(t);if(0>n)throw new Error("data '"+t+"' not exist in the box");return 0==n?e:i.getByIndex(n-1)},_gz:function(t){var i,e=t._jm;i=e?e._fy:this.$roots;var n=i.indexOf(t);if(0>n)throw new Error("data '"+t+"' not exist in the box");return n==i.length-1?e?this._gz(e):null:i.getByIndex(n+1)},forEachByDepthFirst:function(t,i,e){return this.$roots.length?s(this.$roots,t,i,e):!1},forEachByDepthFirstReverse:function(t,i,e){return this.$roots.length?h(this.$roots,t,i,e):!1},forEachByBreadthFirst:function(t,i){return this.$roots.length?u(this.$roots,t,i):!1},forEachByBreadthFirstReverse:function(t,i){return this.$roots.length?f(this.$roots,t,i):!1},clear:function(){return O(this,$o,"clear")?(this.$roots.clear(),this.selectionModel.clear(),!0):!1}},w($o,Fo),Z($o.prototype,{selectionModel:{get:function(){return this._selectionModel}},roots:{get:function(){return this.$roots}}});var jo=function(t){x(this,jo),this.box=t,this._lxoxChangeListener={onEvent:function(t){zo.KIND_REMOVE==t.kind?null!=t.data?this.remove(t.data):null!=t.datas&&this.remove(t.datas):zo.KIND_CLEAR==t.kind&&this.clear()}},this.box.listChangeDispatcher.addListener(this._lxoxChangeListener,this)};jo.prototype={box:null,isSelected:function(t){return this.containsById(t.id||t)},select:function(t){return this.add(t)},unselect:function(t){return this.remove(t)},reverseSelect:function(t){return this.contains(t)?this.remove(t):this.add(t)},accept:function(t){return this.box.contains(t)}},w(jo,Fo);var Yo=null,Ho=null,Uo=function(){if(!i.createElement)return function(t){return t};var t=i.createElement("div"),n=t.style,r={};return function(t){if(r[t])return r[t];var i=di(t);return n[i]!==e||Ho&&n[i=di(Ho+i)]!==e?(r[t]=i,i):t}}(),Wo={};!function(){if(!i.head)return!1;for(var n=i.head,r="Webkit Moz O ms Khtml".split(" "),s=0;s<r.length;s++)if(n.style[r[s]+"Transform"]!==e){Ho="-"+r[s].toLowerCase()+"-";break}var o=i.createElement("style");t.createPopup||o.appendChild(i.createTextNode("")),o.type="text/css",o.id="qunee-styles",n.appendChild(o),Yo=o.sheet;var a,h;for(var l in Wo){var _=Wo[l];a=l,h="";for(var u in _)h+=Uo(u)+":"+_[u]+";\n";yi(a,h)}}();var Vo=function(t,i,e,n,r){if(r){var s=function(t){s.handle.call(s.scope,t)};return s.scope=r,s.handle=e,t.addEventListener(i,s,n),s}return t.addEventListener(i,e,n),e},Xo=function(t,i,e){t.removeEventListener(i,e)};if(ho.DOUBLE_CLICK_INTERVAL_TIME=200,ho.LONG_PRESS_INTERVAL=800,ho.DELAY_CLICK=!0,t.navigator&&navigator.userAgent){var qo,Ko=/mobile|tablet|ip(ad|hone|od)|android/i,Zo="ontouchstart"in t,Jo=Zo&&Ko.test(navigator.userAgent);if(Jo)qo="touchstart,touchmove,touchend,touchcancel";else{var Qo="onmousewheel"in t?"mousewheel":"DOMMouseScroll";qo="contextmenu,mousedown,mouseup,click,dblclick,mousemove,keydown,keyup,"+Qo,Zo&&(qo+=",touchstart,touchmove,touchend,touchcancel")}qo=qo.split(/[\s,]+/);var ta=function(i){return t.TouchEvent&&i instanceof t.TouchEvent},ia=function(){return ho.DOUBLE_CLICK_INTERVAL_TIME},ea=function(){return ho.LONG_PRESS_INTERVAL},F=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},$=function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},j=function(t){F(t),$(t)},na=function(t){return t.defaultPrevented||t.returnValue===!1},ra=function(t){la._lzurrentItem&&la._lzurrentItem._onWindowMouseMove(t)},sa=function(t){if(la._lzurrentItem){var i=la._lzurrentItem;i._onWindowMouseUp(t),oa(null)}},oa=function(t){la._lzurrentItem!=t&&(la._lzurrentItem&&(la._lzurrentItem.__dragging=!1),la._lzurrentItem=t)},aa=function(i,e){qo.forEach(function(t){i.addEventListener(t,e,!1)}),so||la._lwo||(la._lwo=!0,t.addEventListener("mousemove",ra,!0),t.addEventListener("mouseup",sa,!0))},ha=function(t,i){qo.forEach(function(e){t.removeEventListener(e,i,!1)})};xi.prototype={_install:function(){this.__lwction||(this.__lwction=function(t){this._lwction(t)}.bind(this),aa(this._l5,this.__lwction))},_uninstall:function(){this.__lwction&&ha(this._l5,this.__lwction)},_lwction:function(t){t=this._toQEvent(t);var i=t.type;this._handleEvent(t,i)===!1&&this._onEvent(t,"on"+i)},_lzancelLongPressTimer:function(){this.__longPressTimer&&(clearTimeout(this.__longPressTimer),this.__longPressTimer=null)},__k7LongPress:function(t){this.__onLongPressFunction||(this.__onLongPressFunction=function(){this._k7Event&&(this.__lzancelClick=!0,this._k7Event.button?this._onEvent(this._k7Event,"onlongpress2"):this._onEvent(this._k7Event,"onlongpress"))}.bind(this)),this._lzancelLongPressTimer(),this.__longPressTimer=setTimeout(this.__onLongPressFunction,ea(t))},__fixTouchEvent:function(t){for(var i,e,n=0,r=0,s=t.touches.length,o=0;s>o;){var a=t.touches[o++],h=a.clientX,l=a.clientY;if(2==o){var _=e[0]-h,u=e[1]-l;i=Math.sqrt(_*_+u*u)}e=[h,l],n+=h,r+=l}t.cx=n/s,t.cy=r/s,t.center={x:t.cx,y:t.cy,clientX:t.cx,clientY:t.cy},t.distance=i},__touchCountChange:function(t){this._dragPoints.clear(),this._9j=wi(t,this._l5)},_handleTouchEvent:function(t,i){switch(i){case"touchstart":$(t),this.__fixTouchEvent(t),this.__touchCountChange(t);var e=t.touches.length;this._k7Event||(this._k7Event=t,this._onstart(t),this.__lzancelClick=!1,this.__k7LongPress(t)),1==e&&(this.__k7MulTouchEvent=null),e>=2&&!this.__k7MulTouchEvent&&(this.__k7MulTouchEvent={cx:t.cx,cy:t.cy,distance:t.distance});break;case"touchmove":j(t),this.__fixTouchEvent(t);var e=t.touches.length;if(e>=2&&this.__k7MulTouchEvent){var n=this.__k7MulTouchEvent.distance;t._scale=t.distance/n,t.dScale=this.__k7MulTouchEvent.prevScale?t._scale/this.__k7MulTouchEvent.prevScale:t._scale,this.__k7MulTouchEvent.prevScale=t._scale,this.__pinching||(this.__pinching=!0,this._onEvent(t,"startpinch"))}this.__dragging||(this.__dragging=!0,this._k7drag(t)),this._ondrag(t),this.__pinching&&this._onEvent(t,"onpinch");break;case"touchend":j(t);var e=t.touches.length;e&&(this.__fixTouchEvent(t),this.__touchCountChange(t)),1>=e&&(this.__pinching&&(this.__pinching=!1,this._onEvent(t,"endpinch")),this.__k7MulTouchEvent=null),0==e&&(this.__dragging?(this._enddrag(t),this.__dragging=!1):t.timeStamp-this._k7Event.timeStamp<.8*ia(t)&&this.__onclick(this._k7Event),this._onrelease(t));break;case"touchcancel":this.__dragging=!1,this.__pinching=!1,this.__k7MulTouchEvent=null}return!1},_handleEvent:function(t,i){if(ta(t))return this._handleTouchEvent(t,i);if("mousedown"==i)$(t),oa(this),this._9j=wi(t,this._l5),this._k7Event||(this._k7Event=t,this._onstart(t)),this.__lzancelClick=!1,this.__k7LongPress(t);else if("mouseup"==i)oa(),this._onrelease(t);else if("click"==i){if(this.__lzancelClick)return!0;if(this._isDelayClick())return this.__onclick(t),!0}else if("dblclick"==i){if(this._isDelayClick())return!0}else{if("contextmenu"==i)return this._onEvent(t,"oncontextmenu"),this._k7Event&&na(t)&&oa(this),!0;if(i==Qo){var n=t.wheelDelta;if(n!==e?n/=120:n=-t.detail,!n)return;return t.delta=n,this._onEvent(t,"onmousewheel")
}}return!1},_onEvent:function(t,i){if(this._handler){var e=this._handler;if(i=i||t.type,e instanceof Function)return e(t,i);if(!(e.accept instanceof Function&&e.accept(i,t)===!1))return e.onevent instanceof Function&&e.onevent(i,t,this._scope||this._l5),e[i]instanceof Function?e[i].call(e,t,this._scope||this._l5):void 0}},_toQEvent:function(t){return t},_onWindowMouseUp:function(t){this.__dragging&&(j(t),this.__dragging=!1,t=this._toQEvent(t),this._enddrag(t),this._onrelease(t),this._onEvent(t,"onmouseup"))},_k7DragDistance:4,_onWindowMouseMove:function(t){if(this._k7Event){if(j(t),!this.__dragging){var i=this._k7Event.screenX-t.screenX,e=this._k7Event.screenY-t.screenY,n=i*i+e*e;if(n<this._k7DragDistance)return;this.__dragging=!0,this._k7drag(t)}this._ondrag(this._toQEvent(t))}},_isDelayClick:function(){return ho.DELAY_CLICK},__onclick:function(t){if(!this.__lzancelClick){var i=ia(t);this.__lzlickTimer?this.__dblclicked||(clearTimeout(this.__lzlickTimer),this.__lzlickTimer=null,this._onEvent(t,"ondblclick"),this.__dblclicked=!0):(this.__dblclicked=!1,this.__lzlickTimer=setTimeout(function(t){this.__lzlickTimer=null,this.__dblclicked||this._onEvent(t,"onclick")}.bind(this,t,i),i))}},_onstart:function(t){t.button?this._onEvent(t,"onstart2"):this._onEvent(t,"onstart")},_onrelease:function(t){this._k7Event&&(this._lzancelLongPressTimer(),t.button?this._onEvent(t,"onrelease2"):this._onEvent(t,"onrelease"),this._k7Event=null,this._9j=null)},_lwppendDragInfo:function(t){var i=this._9j;this._9j=wi(t,this._l5),this._dragPoints.add(i,this._9j,t)},_k7drag:function(){this.__lzancelClick=!0,this._lzancelLongPressTimer(),this._k7Event.button?this._onEvent(this._k7Event,"startdrag2"):this._onEvent(this._k7Event,"startdrag")},_ondrag:function(t){this._lwppendDragInfo(t),this._k7Event.button?this._onEvent(t,"ondrag2"):this._onEvent(t,"ondrag")},_enddrag:function(t){if(t.timeStamp-this._9j.timeStamp<100){var i=this._dragPoints.getCurrentSpeed();i&&(t.vx=i.x,t.vy=i.y)}this._k7Event.button?this._onEvent(t,"enddrag2"):this._onEvent(t,"enddrag"),this._dragPoints.clear()},_hk:function(){this._kcStatus()},_kcStatus:function(){la._lzurrentItem==this&&delete la._lzurrentItem,this._lzancelLongPressTimer(),delete this._9j,this._k7Event&&(delete this._k7Event.getData,delete this._k7Event.getUI,delete this._k7Event)}};var la=S(function(t){this._k1=t,xi.apply(this,[t.canvasPanel,null,t])},{"super":xi,_ljData:function(t){return this._k1.getElementByMouseEvent(t)},_kh:function(t){return this._k1.getUIByMouseEvent(t)},_toQEvent:function(i){return(i instanceof MouseEvent||t.TouchEvent&&i instanceof t.TouchEvent)&&(i.getData=this._ljData.bind(this,i),i.getUI=this._kh.bind(this,i)),i},_onElementRemoved:function(t){this._imListeners(function(i){i.onElementRemoved instanceof Function&&i.onElementRemoved(t,this._k1)})},_onElementClear:function(){this._imListeners(function(t){t.onClear instanceof Function&&t.onClear(this._k1)})},_hk:function(t){this._1rs&&this._hkInteractions(this._1rs,t),this._lzustomInteractionListeners&&this._hkInteractions(this._lzustomInteractionListeners,t),this._kcStatus()},_k1:null,_1rs:null,_lzustomInteractionListeners:null,_lmInteraction:function(t){return this._1rs==t?!1:(this._1rs&&this._1rs.length&&this._hkInteractions(this._1rs),void(this._1rs=t))},_lhCustomInteractionListener:function(t){this._lzustomInteractionListeners||(this._lzustomInteractionListeners=[]),this._lzustomInteractionListeners.push(t)},_j1CustomInteractionListener:function(t){this._lzustomInteractionListeners&&0!=this._lzustomInteractionListeners.length&&y(this._lzustomInteractionListeners,t)},_onEvent:function(t,i,e){this._k1[i]instanceof Function&&this._k1[i].call(this._k1,t,e),this._1rs&&this.__onEvent(t,i,this._1rs,e),this._lzustomInteractionListeners&&this.__onEvent(t,i,this._lzustomInteractionListeners,e)},_imListeners:function(t){this._1rs&&d(this._1rs,t,this),this._lzustomInteractionListeners&&d(this._lzustomInteractionListeners,t,this)},__onEvent:function(t,i,e,n){if(!G(e))return void this.__handleEvent(t,i,e,n);for(var r=0;r<e.length;r++){var s=e[r];this.__handleEvent(t,i,s,n)}},__handleEvent:function(t,i,e,n){if(!(e.accept instanceof Function&&e.accept(i,t,this._k1,n)===!1)){e.onevent instanceof Function&&e.onevent(i,t,this._k1,n);var r=e[i];r instanceof Function&&r.call(e,t,this._k1,n)}},_hkInteraction:function(t){t.destroy instanceof Function&&t.destroy.call(t,this._k1)},_hkInteractions:function(t,i){if(!G(t))return void this._hkInteraction(t,i);for(var e=0;e<t.length;e++){var n=t[e];n&&this._hkInteraction(n,i)}}})}Ai.prototype={limitCount:10,points:null,add:function(t,i,e){0==this.points.length&&(this._k7X=t.x,this._k7Y=t.y);var n=i.timeStamp-t.timeStamp||1;e.interval=n;var r=i.x-t.x,s=i.y-t.y;e.dx=r,e.dy=s,e.startX=this._k7X,e.startY=this._k7Y,e.totalDeltaX=i.x-this._k7X,e.totalDeltaY=i.y-this._k7Y,this.points.splice(0,0,{interval:n,dx:r,dy:s}),this.points.length>this.limitCount&&this.points.pop()},getCurrentSpeed:function(){if(!this.points.length)return null;for(var t=0,i=0,e=0,n=0,r=this.points.length;r>n;n++){var s=this.points[n],o=s.interval;if(o>150){t=0;break}if(t+=o,i+=s.dx,e+=s.dy,t>300)break}return 0==t||0==i&&0==e?null:{x:i/t,y:e/t}},clear:function(){this.points=[]}};var _a,ua,fa,ca;Ks?(_a="-webkit-zoom-in",ua="-webkit-zoom-out",fa="-webkit-grab",ca="-webkit-grabbing"):Zs?(_a="-moz-zoom-in",ua="-moz-zoom-out",fa="-moz-grab",ca="-moz-grabbing"):(_a="crosshair",ua="crosshair",fa="default",ca="move");var da="url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFVJREFUeNpi/P//PwMlgBGfAYyMIOn/jGQZANIMoskyAKYZGeAyiGgX4PIOSWGAzRBGUmMBw1CqGUBMlA1yA4gxhKhYwBnfpKQDqqREquRGYgBAgAEAD8h/4adTIzwAAAAASUVORK5CYII=) 8 8,crosshair",va=Math.PI,ga=Math.pow,Ea=Math.sin,pa=1.70158,ya={swing:function(t){return-Math.cos(t*va)/2+.5},easeNone:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return(2-t)*t},easeBoth:function(t){return(t*=2)<1?.5*t*t:.5*(1- --t*(t-2))},easeInStrong:function(t){return t*t*t*t},easeOutStrong:function(t){return 1- --t*t*t*t},easeBothStrong:function(t){return(t*=2)<1?.5*t*t*t*t:.5*(2-(t-=2)*t*t*t)},elasticIn:function(t){var i=.3,e=i/4;return 0===t||1===t?t:-(ga(2,10*(t-=1))*Ea(2*(t-e)*va/i))},elasticOut:function(t){var i=.3,e=i/4;return 0===t||1===t?t:ga(2,-10*t)*Ea(2*(t-e)*va/i)+1},elasticBoth:function(t){var i=.45,e=i/4;return 0===t||2===(t*=2)?t:1>t?-.5*ga(2,10*(t-=1))*Ea(2*(t-e)*va/i):ga(2,-10*(t-=1))*Ea(2*(t-e)*va/i)*.5+1},backIn:function(t){return 1===t&&(t-=.001),t*t*((pa+1)*t-pa)},backOut:function(t){return(t-=1)*t*((pa+1)*t+pa)+1},backBoth:function(t){return(t*=2)<1?.5*t*t*(((pa*=1.525)+1)*t-pa):.5*((t-=2)*t*(((pa*=1.525)+1)*t+pa)+2)},bounceIn:function(t){return 1-ya.bounceOut(1-t)},bounceOut:function(t){var i,e=7.5625;return i=1/2.75>t?e*t*t:2/2.75>t?e*(t-=1.5/2.75)*t+.75:2.5/2.75>t?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375},bounceBoth:function(t){return.5>t?.5*ya.bounceIn(2*t):.5*ya.bounceOut(2*t-1)+.5}},Ta=function(t){this._ix=t};Ta.prototype={_ix:null,_84:function(){this._lzallback instanceof Function&&(this._lzallback(),this._lzallback=null)},_k7:function(t){var i=Date.now();this._kv(),this._lzallback=t,this._requestID=requestAnimationFrame(function e(){var t=Date.now(),n=t-i;return!n||this._ix&&this._ix(n)!==!1?(i=t,void(this._requestID=requestAnimationFrame(e.bind(this)))):void this._kv()}.bind(this))},_6b:function(){},_kv:function(){return this._requestID?(this._6b(),this._84(),t.cancelAnimationFrame(this._requestID),void delete this._requestID):!1},_el:function(){return null!=this._requestID}};var ma=function(t,i,e,n){this._onStep=t,this._scope=i||this,this._3v=n,e&&e>0&&(this._i4=e)};ma.prototype={_i4:1e3,_3v:null,_f5:0,_kv:function(){return this._f5=0,this._d5=0,O(this,ma,"_kv")},_d5:0,_ix:function(t){if(this._f5+=t,this._f5>=this._i4)return this._onStep.call(this._scope,1,(1-this._d5)*this._i4,t,this._i4),!1;var i=this._f5/this._i4;return this._3v&&(i=this._3v(i)),this._onStep.call(this._scope,i,(i-this._d5)*this._i4,t,this._i4)===!1?!1:void(this._d5=i)}},w(ma,Ta);var wa=function(t){ei(t)},xa={version:"0.0",extend:w,doSuperConstructor:x,doSuper:O,createFunction:function(t,i){return i.bind(t)},setClass:P,appendClass:N,removeClass:k,forEach:d,forEachReverse:g,isNumber:M,isString:B,isBoolean:z,isArray:G,eventPreventDefault:F,eventStopPropagation:$,stopEvent:j,callLater:C,nextFrame:R,forEachChild:n,forEachByDepthFirst:s,forEachByDepthFirstReverse:h,forEachByBreadthFirst:u,randomInt:Y,randomBool:H,randomColor:W,addEventListener:Vo,getFirstElementChildByTagName:uo};xa.isTouchSupport=so,xa.isIOS=eo,xa.intersectsPoint=oi,xa.containsRect=ai,xa.Rect=Eo,xa.Size=go,xa.Point=fo,xa.Insets=po,xa.Event=So,xa.PropertyChangeEvent=Io,xa.ListEvent=zo,xa.Handler=No,xa.Dispatcher=ko,xa.Position=yo,xa.Data=Go,xa.SelectionModel=jo,xa.DataModel=$o,xa.IListener=Bo,xa.loadURL=Si,xa.loadXML=bi,xa.loadJSON=Li,xa.isMetaKey=Oi,xa.calculateDistance=co,xa.HashList=lo,xa.DragSupport=xi,xa.alert=function(t){alert(t)},xa.prompt=function(t,i,e,n){var r=prompt(t,i);return r!=i&&e?e.call(n,r):r},xa.confirm=function(t,i,e){var n=confirm(t);return n&&i?i.call(e):n},xa.addCSSRule=yi;var Oa={IMAGE_ADJUST_FLIP:"flip",IMAGE_ADJUST_MIRROR:"mirror",SELECTION_TYPE_BORDER_RECT:"border.rect",SELECTION_TYPE_BORDER:"border",SELECTION_TYPE_SHADOW:"shadow",NS_SVG:"http://www.w3.org/2000/svg",PROPERTY_TYPE_ACCESSOR:0,PROPERTY_TYPE_STYLE:1,PROPERTY_TYPE_CLIENT:2,EDGE_TYPE_DEFAULT:null,EDGE_TYPE_ELBOW:"elbow",EDGE_TYPE_ELBOW_HORIZONTAL:"elbow.H",EDGE_TYPE_ELBOW_VERTICAL:"elbow.V",EDGE_TYPE_ORTHOGONAL:"orthogonal",EDGE_TYPE_ORTHOGONAL_HORIZONTAL:"orthogonal.H",EDGE_TYPE_ORTHOGONAL_VERTICAL:"orthogonal.V",EDGE_TYPE_HORIZONTAL_VERTICAL:"orthogonal.H.V",EDGE_TYPE_VERTICAL_HORIZONTAL:"orthogonal.V.H",EDGE_TYPE_EXTEND_TOP:"extend.top",EDGE_TYPE_EXTEND_LEFT:"extend.left",EDGE_TYPE_EXTEND_BOTTOM:"extend.bottom",EDGE_TYPE_EXTEND_RIGHT:"extend.right",EDGE_TYPE_ZIGZAG:"zigzag",EDGE_CORNER_NONE:"none",EDGE_CORNER_ROUND:"round",EDGE_CORNER_BEVEL:"bevel",GROUP_TYPE_RECT:"rect",GROUP_TYPE_CIRCLE:"circle",GROUP_TYPE_ELLIPSE:"ELLIPSE",SHAPE_CIRCLE:"oval",SHAPE_RECT:"rect",SHAPE_ROUNDRECT:"roundrect",SHAPE_STAR:"star",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",SHAPE_PENTAGON:"pentagon",SHAPE_TRAPEZIUM:"trapezium",SHAPE_RHOMBUS:"rhombus",SHAPE_PARALLELOGRAM:"parallelogram",SHAPE_HEART:"heart",SHAPE_DIAMOND:"diamond",SHAPE_CROSS:"cross",SHAPE_ARROW_STANDARD:"arrow.standard",SHAPE_ARROW_1:"arrow.1",SHAPE_ARROW_2:"arrow.2",SHAPE_ARROW_3:"arrow.3",SHAPE_ARROW_4:"arrow.4",SHAPE_ARROW_5:"arrow.5",SHAPE_ARROW_6:"arrow.6",SHAPE_ARROW_7:"arrow.7",SHAPE_ARROW_8:"arrow.8",SHAPE_ARROW_OPEN:"arrow.open"};Oa.LINE_CAP_TYPE_BUTT="butt",Oa.LINE_CAP_TYPE_ROUND="round",Oa.LINE_CAP_TYPE_SQUARE="square",Oa.LINE_JOIN_TYPE_BEVEL="bevel",Oa.LINE_JOIN_TYPE_ROUND="round",Oa.LINE_JOIN_TYPE_MITER="miter",Oa.EDGE_BUNDLE_TYPE_CURVE="curve",Oa.EDGE_BUNDLE_TYPE_PARALLEL="parallel",ho.SELECTION_TYPE=Oa.SELECTION_TYPE_SHADOW,ho.SELECTION_TOLERANCE=Jo?8:3,ho.SELECTION_BORDER=2,ho.SELECTION_SHADOW_BLUR=7,ho.SELECTION_COLOR=q(3422561023),ho.SELECTION_TYPE=Oa.SELECTION_TYPE_SHADOW,ho.BORDER_RADIUS=10,ho.POINTER_WIDTH=10,ho.ARROW_SIZE=10,ho.IMAGE_MAX_SIZE=200,ho.LINE_HEIGHT=1.2;var Aa=t.devicePixelRatio||1;1>Aa&&(Aa=1);var ba;xa.createCanvas=Mi;var La=Qs&&!so,Sa=9,Ia=function(t,i,e,n){var r=t-e,s=i-n;return r*r+s*s};re.prototype={equals:function(t){return this.cx==t.cx&&this.cy==t.cy&&this.r==t.r}},re._lzreateCircle=function(t,i,e){if(!e)return ee(t,i);var n=Ia(t.x,t.y,i.x,i.y),r=Ia(t.x,t.y,e.x,e.y),s=Ia(e.x,e.y,i.x,i.y);if(n+Da>=r+s)return ee(t,i,0,e);if(r+Da>=n+s)return ee(t,e,0,i);if(s+Da>=n+r)return ee(i,e,0,t);var o;Math.abs(e.y-i.y)<1e-4&&(o=t,t=i,i=o),o=e.x*(t.y-i.y)+t.x*(i.y-e.y)+i.x*(-t.y+e.y);var a=(e.x*e.x*(t.y-i.y)+(t.x*t.x+(t.y-i.y)*(t.y-e.y))*(i.y-e.y)+i.x*i.x*(-t.y+e.y))/(2*o),h=(i.y+e.y)/2-(e.x-i.x)/(e.y-i.y)*(a-(i.x+e.x)/2);return new re(a,h,co(a,h,t.x,t.y),t,i,e)};var Da=.01,Ca={_lxg:function(t,i,n,r,s){if(B(t)&&(t=yo.fromString(t)),!t)return{x:0,y:0};var o=0,a=0,h=i._ir;if(n=n||0,t.x===e){var l=t.horizontalPosition,_=t.verticalPosition,u=!0;switch(l){case wo:u=!1;break;case mo:o+=h/2}switch(_){case xo:a-=n/2;break;case Ao:a+=n/2}}else o=t.x,a=t.y,Math.abs(o)>0&&Math.abs(o)<1&&(o*=h);s&&null!=r&&(a+=r.y,o+=Math.abs(r.x)<1?r.x*h:r.x);var f=fe.call(i,o,a,u);return f?(s||null==r||f.offset(r),f):{x:0,y:0}},_ks:function(t,i){var e=i.type,n=i.points;switch(e){case nh:t.arcTo(n[0],n[1],n[2],n[3],i._r);break;case Qa:t.moveTo(n[0],n[1]);break;case th:t.lineTo(n[0],n[1]);break;case ih:t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case eh:t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case rh:t.closePath()}},_5w:function(t,i,e,n){var r=i.type;if(r!=Qa&&r!=rh){var s=e.lastPoint,o=i.points;switch(e.type==Qa&&t.add(s.x,s.y),r){case nh:ve(i,s.x,s.y,o[0],o[1],o[2],o[3],o[4]),t.add(o[0],o[1]),t.add(i._p1x,i._p1y),t.add(i._p2x,i._p2y),i.$boundaryPoint1&&t.add(i.$boundaryPoint1.x,i.$boundaryPoint1.y),i.$boundaryPoint2&&t.add(i.$boundaryPoint2.x,i.$boundaryPoint2.y);break;case th:t.add(o[0],o[1]);break;case ih:Wi([s.x,s.y].concat(o),t);break;case eh:Ji([s.x,s.y].concat(o),t);break;case rh:n&&t.add(n.points[0],n.points[1])}}},_5v:function(t,i,e){var n=t.type;if(n==Qa)return 0;var r=i.lastPoint,s=t.points;switch(n==eh&&4==s.length&&(n=ih),n){case th:return co(s[0],s[1],r.x,r.y);case nh:return t._ir;case ih:var o=qi([r.x,r.y].concat(s));return t._lf=o,o(1);case eh:var o=te([r.x,r.y].concat(s));return t._lf=o,o(1)||Qi([r.x,r.y].concat(s));case rh:if(r&&e)return t.points=e.points,co(e.points[0],e.points[1],r.x,r.y)}return 0}},Ra=/^data:image\/(\w+);base64,/i,Pa=/^gif/i,Na=/^svg/i,ka=10,Ma=11,Ba=12,za=20,Ga=30;ho.IMAGE_WIDTH=50,ho.IMAGE_HEIGHT=30,ho.IMAGE_DEFAULT={draw:function(t,i){Te(t,i.width,i.height,i.renderColor)}},ho.IMAGE_INVALID={draw:function(t,i){Te(t,i.width,i.height,i.renderColor,!0)}},ho.MAX_CACHE_PIXELS=1e6;var Fa=1,$a=2,ja=3;xe.prototype={_j5:0,_66:!0,_k3:null,_io:null,_l0:null,_kq:null,_lwj:e,_8z:e,_69:function(){return this._j5==Fa},getBounds:function(t){return this._kq==Ga?this._l0.getBounds(t):(this._66&&this._fe(),this)},validate:function(){this._66&&this._fe()},_fe:function(){if(this._66=!1,this._kq==Ga)return this._l0.validate(),void this.setByRect(this._l0.bounds);if(this._kq==za)return void this._9a();if(this._j5!=Fa)try{this._dj()}catch(t){this._j5=ja,xa.error(t)}},_56:function(){this._dp(),this._dispatcher.clear(),delete this._dispatcher},_hl:function(t){this._k3.parentNode&&this._k3.parentNode.removeChild(this._k3),this._j5=ja,xa.error("Image load error - "+this._l0),this._pixels=null,this._io=null,this._k3=null,t!==!1&&this._56()},_dj:function(){var t=this._l0;if(this._j5=Fa,this._dispatcher=new ko,this._kq==Ba){for(var e in dh)this[e]=dh[e];return void rn(this._l0,this,this._lzg,this._hl,this._e4)}this._k3||(this._k3=i.createElement("img"),this._k3.crossOrigin="Anonymous",Vs&&(this._k3.style.visibility="hidden",i.body.appendChild(this._k3))),Vs?(this._k3.onload=function(){setTimeout(this._7v.bind(this),100)}.bind(this),this._k3.onerror=this._hl.bind(this)):(this._k3.onload=this._7v.bind(this),this._k3.onerror=this._7v.bind(this)),this._k3.src=t},_hf:!0,_7v:function(){var t=this._k3.width,i=this._k3.height;if(!t||!i)return void this._hl();if(this._k3.parentNode&&this._k3.parentNode.removeChild(this._k3),this._j5=$a,this.width=t,this.height=i,Vs&&this._kq==Ma)this._pixels=null,this._hf=!1;else if(this._kq==Ma||ye(this._k3.src)){var e=Mi();e.width=t,e.height=i,e.g.drawImage(this._k3,0,0,t,i),pe(e.g,e)&&(this._io=e,this._pixels=Re(e))}this._56()},_9a:function(){var t=this._l0;if(!(t.draw instanceof Function))return void this._hl(!1);if(t.cacheable===!1&&t.width&&t.height)return this.width=t.width,void(this.height=t.height);var i=t.width||ho.IMAGE_MAX_SIZE,e=t.height||ho.IMAGE_MAX_SIZE,n=this._ds();n.width=i,n.height=e;var r=n.g;t.draw(r);var s=$i(r,0,0,i,e);if(s){var o=Ne(s.data,i,e);this.x=o._x,this.y=o._y,this.width=o._width,this.height=o._height,n.width=this.width,n.height=this.height,r.putImageData(s,-this.x,-this.y),this._pixels=o}},_ds:function(){return this._io||(this._io=Mi())},draw:function(t,i,e,n,r,s){if(this.width&&this.height){i=i||1,n=n||1,r=r||1;var o=this.width*n,a=this.height*r;if(s&&e.shadowColor&&(t.shadowColor=e.shadowColor,t.shadowBlur=(e.shadowBlur||0)*i,t.shadowOffsetX=(e.shadowOffsetX||0)*i,t.shadowOffsetY=(e.shadowOffsetY||0)*i),this._j5==Fa)return void(ho.IMAGE_DEFAULT&&ho.IMAGE_DEFAULT.draw(t,{src:this._l0,width:o,height:a,renderColor:e.renderColor}));if(this._j5==ja)return void(ho.IMAGE_INVALID&&ho.IMAGE_INVALID.draw(t,{src:this._l0,width:o,height:a,renderColor:e.renderColor}));if(this._kq==Ga)return t.scale(n,r),void this._l0.draw(t,i,e);var h=this._fb(i,n,r);return h?((this.x||this.y)&&t.translate(this.x*n,this.y*r),t.scale(n/h.scale,r/h.scale),void h._ks(t,e.renderColor,e.renderColorBlendMode)):void this._iu(t,i,n,r,this.width*n,this.height*r,e)}},_iu:function(t,i,e,n,r,s,o){if(this._kq==za)return 1!=e&&1!=n&&t.scale(e,n),void this._l0.draw(t,o);if(this._k3){if(!Js)return void t.drawImage(this._k3,0,0,r,s);var e=i*r/this.width,n=i*s/this.height;t.scale(1/e,1/n),t.drawImage(this._k3,0,0,r*e,s*n)}},_iw:null,_fb:function(t,i,e){if(this._kq==za&&this._l0.cacheable===!1)return null;if(this._kq==ka||(t*=Math.max(i,e))<=1)return this._defaultCache||(this._defaultCache=this._fi(this._io||this._k3,1,this._hf)),this._defaultCache;var n=this._iw.maxScale||0;if(t=Math.ceil(t),n>=t){for(var r=t,s=this._iw[r];!s&&++r<=n;)s=this._iw[r];if(s)return s}t%2&&t++;var o=this.width*t,a=this.height*t;if(o*a>ho.MAX_CACHE_PIXELS)return null;var h=Mi(o,a);return(this.x||this.y)&&h.g.translate(-this.x*t,-this.y*t),this._iu(h.g,1,t,t,o,a),this._fi(h,t)},_fi:function(t,i){var e=new hh(t,i);return this._iw[i]=e,this._iw.maxScale=i,e},hitTest:function(t,i,e){if(this._kq==Ga)return this._l0.hitTest.apply(this._l0,arguments);if(!(this._pixels||this._k3&&this._k3._pixels))return!0;var n=this._pixels||this._k3._pixels;return n._ij(t,i,e)},_dp:function(){this._dispatcher&&this._dispatcher.onEvent(new So(this,"image","load",this._k3))},_lwg:function(t,i){this._dispatcher&&this._dispatcher.addListener(t,i)},_6f:function(t,i){this._dispatcher&&this._dispatcher.removeListener(t,i)},_lzd:function(t){this._iw={},(t||this.width*this.height>1e5)&&(this._k3=null,this._io=null)}},w(xe,Eo);var Ya={};xa.drawImage=Se,xa.registerImage=Oe,xa.hasImage=be,xa.getAllImages=function(){var t=[];for(var i in Ya)t.push(i);return t};var Ha=function(t,i,e,n,r,s){this.type=t,this.colors=i,this.positions=e,this.angle=n||0,this.tx=r||0,this.ty=s||0};Oa.GRADIENT_TYPE_RADIAL="r",Oa.GRADIENT_TYPE_LINEAR="l",Ha.prototype={type:null,colors:null,positions:null,angle:null,tx:0,ty:0,position:yo.CENTER_MIDDLE,isEmpty:function(){return null==this.colors||0==this.colors.length},_7n:function(){var t=this.colors.length;if(1==t)return[0];for(var i=[],e=1/(t-1),n=0;t>n;n++)i.push(e*n);return this.positions||(this.positions=i),i},generatorGradient:function(t){if(null==this.colors||0==this.colors.length)return null;var i,e=Bi();if(this.type==Oa.GRADIENT_TYPE_LINEAR){var n=this.angle;n>Math.PI&&(n-=Math.PI);var r;if(n<=Math.PI/2){var s=Math.atan2(t.height,t.width),o=Math.sqrt(t.width*t.width+t.height*t.height),a=s-n;r=Math.cos(a)*o}else{var s=Math.atan2(t.width,t.height),o=Math.sqrt(t.width*t.width+t.height*t.height),a=s-(n-Math.PI/2);r=Math.cos(a)*o}var h=r/2,l=h*Math.cos(n),_=h*Math.sin(n),u=t.x+t.width/2-l,f=t.y+t.height/2-_,c=t.x+t.width/2+l,d=t.y+t.height/2+_;i=e.createLinearGradient(u,f,c,d)}else{if(!(this.type=Oa.GRADIENT_TYPE_RADIAL))return null;var v=ui(this.position,t.width,t.height);v.x+=t.x,v.y+=t.y,this.tx&&(v.x+=Math.abs(this.tx)<1?t.width*this.tx:this.tx),this.ty&&(v.y+=Math.abs(this.ty)<1?t.height*this.ty:this.ty);var g=co(v.x,v.y,t.x,t.y);g=Math.max(g,co(v.x,v.y,t.x,t.y+t.height)),g=Math.max(g,co(v.x,v.y,t.x+t.width,t.y+t.height)),g=Math.max(g,co(v.x,v.y,t.x+t.width,t.y)),i=e.createRadialGradient(v.x,v.y,0,v.x,v.y,g)}var E=this.colors,p=this.positions;p&&p.length==E.length||(p=this._7n());for(var y=0,T=E.length;T>y;y++)i.addColorStop(p[y],E[y]);return i}};var Ua=new Ha(Oa.GRADIENT_TYPE_LINEAR,[q(2332033023),q(1154272460),q(1154272460),q(1442840575)],[.1,.3,.7,.9],Math.PI/2),Wa=new Ha(Oa.GRADIENT_TYPE_LINEAR,[q(2332033023),q(1154272460),q(1154272460),q(1442840575)],[.1,.3,.7,.9],0),Va=(new Ha(Oa.GRADIENT_TYPE_LINEAR,[q(1154272460),q(1442840575)],[.1,.9],0),new Ha(Oa.GRADIENT_TYPE_RADIAL,[q(2298478591),q(1156509422),q(1720223880),q(1147561574)],[.1,.3,.7,.9],0,-.3,-.3)),Xa=[q(0),q(4294901760),q(4294967040),q(4278255360),q(4278250239),q(4278190992),q(4294901958),q(0)],qa=[0,.12,.28,.45,.6,.75,.8,1],Ka=new Ha(Oa.GRADIENT_TYPE_LINEAR,Xa,qa),Za=new Ha(Oa.GRADIENT_TYPE_LINEAR,Xa,qa,Math.PI/2),Ja=new Ha(Oa.GRADIENT_TYPE_RADIAL,Xa,qa);Ha.LINEAR_GRADIENT_VERTICAL=Ua,Ha.LINEAR_GRADIENT_HORIZONTAL=Wa,Ha.RADIAL_GRADIENT=Va,Ha.RAINBOW_LINEAR_GRADIENT=Ka,Ha.RAINBOW_LINEAR_GRADIENT_VERTICAL=Za,Ha.RAINBOW_RADIAL_GRADIENT=Ja;var Qa="m",th="l",ih="q",eh="c",nh="a",rh="z";Oa.SEGMENT_MOVE_TO=Qa,Oa.SEGMENT_LINE_TO=th,Oa.SEGMENT_QUAD_TO=ih,Oa.SEGMENT_CURVE_TO=eh,Oa.SEGMENT_ARC_TO=nh,Oa.SEGMENT_CLOSE=rh;var sh=function(t,i){this.id=++Hs,G(t)?this.points=t:(this.type=t,this.points=i)};sh.prototype={toJSON:function(){var t={type:this.type,points:this.points};return this.invalidTerminal&&(t.invalidTerminal=!0),t},parseJSON:function(t){this.type=t.type,this.points=t.points,this.invalidTerminal=t.invalidTerminal},points:null,type:th,clone:function(){return new sh(this.type,this.points?E(this.points):null)},move:function(t,i){if(this.points)for(var e=0,n=this.points.length;n>e;e++){var r=this.points[e];xa.isNumber(r)&&(this.points[e]+=e%2==0?t:i)}}},Z(sh.prototype,{lastPoint:{get:function(){return this.type==nh?{x:this._p2x,y:this._p2y}:{x:this.points[this.points.length-2],y:this.points[this.points.length-1]}}},firstPoint:{get:function(){return{x:this.points[0],y:this.points[1]}}}}),xa.PathSegment=sh;var oh=0;ho.ADD_SEGMENT_TYPE="curve";var ah=function(t){this.bounds=new Eo,this._f9=t||[]};ah.prototype={toJSON:function(){var t=[];return this._f9.forEach(function(i){t.push(i.toJSON())}),t},parseJSON:function(t){var i=this._f9;t.forEach(function(t){i.push(new sh(t.type,t.points))})},clear:function(){this._f9.length=0,this.bounds.clear(),this._ir=0,this._66=!0},_di:!0,_67:function(t,i){this._di&&0===this._f9.length&&t!=Qa&&this._f9.push(new sh(Qa,[0,0])),this._f9.push(new sh(t,i)),this._66=!0},add:function(t,i){p(this._f9,t,i),this._66=!0},removePathSegment:function(t){return t>=this._f9.length?!1:(this._f9.splice(t,1),void(this._66=!0))},moveTo:function(t,i){this._67(Qa,[t,i])},lineTo:function(t,i){this._67(th,[t,i])},quadTo:function(t,i,e,n){this._67(ih,[t,i,e,n])},curveTo:function(t,i,e,n,r,s){this._67(eh,[t,i,e,n,r,s])},arcTo:function(t,i,e,n,r){this._67(nh,[t,i,e,n,r])},closePath:function(){this._67(rh)},_7s:function(t,i,e,n,r){if(n.selectionColor){if(e==Oa.SELECTION_TYPE_SHADOW){if(!n.selectionShadowBlur)return;return t.shadowColor=n.selectionColor,t.shadowBlur=n.selectionShadowBlur*i,t.shadowOffsetX=(n.selectionShadowOffsetX||0)*i,void(t.shadowOffsetY=(n.selectionShadowOffsetY||0)*i)}if(e==Oa.SELECTION_TYPE_BORDER){if(!n.selectionBorder)return;t.strokeStyle=n.selectionColor;var s=r.lineWidth||0;r.outline&&(s+=2*r.outline),t.lineWidth=n.selectionBorder+s,this._ks(t),t.stroke()}}},_66:!0,_f9:null,_ir:0,lineCap:"butt",lineJoin:"round",draw:function(t,i,e,n,r){t.lineCap=e.lineCap||this.lineCap,t.lineJoin=e.lineJoin||this.lineJoin,n&&(r||(r=e),this._7s(t,i,r.selectionType,r,e));var s=n&&r.selectionType==Oa.SELECTION_TYPE_SHADOW;e.outlineStyle&&(this._ks(t),t.lineWidth=e.lineWidth+2*(e.outline||0),t.strokeStyle=e.outlineStyle,t.stroke(),s&&(s=!1,t.shadowColor="rgba(0,0,0,0)")),t.lineWidth=0,this._ks(t),e.fillColor&&(t.fillStyle=e.renderColor||e.fillColor,t.fill()),e.fillGradient&&(t.fillStyle=e._fillGradient||e.fillGradient,t.fill()),e.lineWidth&&(t.lineWidth=e.lineWidth,e.lineDash&&(e.lineFillColor&&(t.strokeStyle=e.lineFillColor,t.stroke(),s&&(t.shadowColor="rgba(0,0,0,0)")),t.lineCap=e.lineDashCap||t.lineCap,t.lineJoin=e.lineDashJoin||t.lineJoin,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset),t.strokeStyle=e.renderColor||e.strokeStyle,t.stroke(),t.lineDash=[])},_ks:function(t){t.beginPath();for(var i,e,n=0,r=this._f9.length;r>n;n++)i=this._f9[n],Ca._ks(t,i,e),e=i},invalidate:function(){this._66=!0},validate:function(){if(this._66=!1,this.bounds.clear(),this._ir=0,0!=this._f9.length)for(var t,i,e=this._f9,n=1,r=e[0],s=r,o=e.length;o>n;n++)t=e[n],t.type==Qa?s=t:(Ca._5w(this.bounds,t,r,s),i=Ca._5v(t,r,s),t._ir=i,this._ir+=i),r=t},getBounds:function(t,i){if(this._66&&this.validate(),i=i||new Eo,t){var e=t/2;i.set(this.bounds.x-e,this.bounds.y-e,this.bounds.width+t,this.bounds.height+t)}else i.set(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);return i},hitTest:function(t,i,e,n,r,s){return ue.call(this,t,i,e,n,r,s)},toSegments:function(){return[].concat(this._f9)},generator:function(t,i,e,n,r){return _e.call(this,t,i,e,n,r)},getLocation:function(t,i){return fe.call(this,t,i||0)}},Z(ah.prototype,{segments:{get:function(){return this._f9},set:function(t){this.clear(),this._f9=t}},length:{get:function(){return this._66&&this.validate(),this._ir}},_empty:{get:function(){return 0==this._f9.length}}}),Pe.prototype={_$y:function(t,i){var e,n,r,s,o,a=t.length,h=0,l=0;for(o=0;a>o;o+=4)if(t[o+3]>0){e=(o+4)/i/4|0;break}for(o=a-4;o>=0;o-=4)if(t[o+3]>0){n=(o+4)/i/4|0;break}for(h=0;i>h;h++){for(l=e;n>l;l++)if(t[l*i*4+4*h+3]>0){r=h;break}if(r>=0)break}for(h=i-1;h>=0;h--){for(l=e;n>l;l++)if(t[l*i*4+4*h+3]>0){s=h;break}if(s>=0)break}this._x=r,this._y=e,this._width=s-r+1,this._height=n-e+1,this._ja=new Eo(r,e,this._width,this._height),this._pixelSize=this._width*this._height,this._originalPixelsWidth=i,this._originalPixels=t},_ek:function(t,i){return this._originalPixels[4*(t+this._x+(this._y+i)*this._originalPixelsWidth)+3]},_ij:function(t,i,e){(!e||1>=e)&&(e=1),e=0|e,t=Math.round(t-this._x)-e,i=Math.round(i-this._y)-e,e+=e;for(var n=t,r=i;i+e>r;){for(var n=t;t+e>n;){if(this._ek(n,r))return!0;++n}++r}return!1}},Oa.BLEND_MODE_DARKEN="darken",Oa.BLEND_MODE_MULTIPLY="multiply",Oa.BLEND_MODE_COLOR_BURN="color.burn",Oa.BLEND_MODE_LINEAR_BURN="linear.burn",Oa.BLEND_MODE_LIGHTEN="lighten",Oa.BLEND_MODE_SCREEN="screen",Oa.BLEND_MODE_GRAY="gray",ho.BLEND_MODE=Oa.BLEND_MODE_LINEAR_BURN;var hh=function(t,i,e){this._io=t,this.scale=i||1,this._hf=e};hh.prototype={scale:1,_io:null,_iw:null,_hf:!0,_ks:function(t,i,e){if(i&&(i=ke(i)),!i||this._hf===!1)return void t.drawImage(this._io,0,0);if(this._io instanceof Image){var n=Mi();n.width=this._io.width,n.height=this._io.height,n.g.drawImage(this._io,0,0,this._io.width,this._io.height),this._io=n}this._iw||(this._iw={});var r=i+e,n=this._iw[r];if(n||(n=Be(this._io,i,e),n||(this._hf=!1),this._iw[r]=n||this._io),n)if(Vs)try{t.drawImage(n,0,0)}catch(s){}else t.drawImage(n,0,0)}};var lh=function(t,i,e,n,r,s,o,a,h){this._l3=$e(t,i,e,n,r,s,o,a,h)},_h={server:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(6.75,3.9033,30.5914,27.7447);i.addColorStop(.0493,"#1C6B9D"),i.addColorStop(.0689,"#186493"),i.addColorStop(.0939,"#145E8B"),i.addColorStop(.129,"#115B87"),i.addColorStop(.2266,"#115A85"),i.addColorStop(.2556,"#125C89"),i.addColorStop(.2869,"#176291"),i.addColorStop(.3194,"#1D6C9F"),i.addColorStop(.3525,"#2479B0"),i.addColorStop(.3695,"#2881BB"),i.addColorStop(.5025,"#1F6FA2"),i.addColorStop(.9212,"#115A86"),i.addColorStop(1,"#004063"),t.fillStyle=i,t.beginPath(),t.moveTo(25.677,4.113),t.bezierCurveTo(25.361,2.4410000000000007,23.364,2.7940000000000005,22.14,2.7990000000000004),t.bezierCurveTo(19.261,2.813,16.381,2.8260000000000005,13.502,2.8400000000000003),t.bezierCurveTo(12.185,2.846,10.699000000000002,2.652,9.393,2.8790000000000004),t.bezierCurveTo(9.19,2.897,8.977,2.989,8.805,3.094),t.bezierCurveTo(8.084999999999999,3.5109999999999997,7.436999999999999,4.1259999999999994,6.776,4.63),t.bezierCurveTo(5.718999999999999,5.436,4.641,6.22,3.6029999999999998,7.05),t.bezierCurveTo(4.207,6.5889999999999995,21.601999999999997,36.579,21.028,37.307),t.bezierCurveTo(22.019,36.063,23.009999999999998,34.819,24.000999999999998,33.575),t.bezierCurveTo(24.587999999999997,32.84,25.589999999999996,31.995000000000005,25.593999999999998,30.983000000000004),t.bezierCurveTo(25.595999999999997,30.489000000000004,25.598,29.994000000000003,25.601,29.500000000000004),t.bezierCurveTo(25.612,26.950000000000003,25.622,24.400000000000006,25.633,21.85),t.bezierCurveTo(25.657,16.318,25.680999999999997,10.786000000000001,25.704,5.253),t.bezierCurveTo(25.706,4.885,25.749,4.478,25.677,4.113),t.bezierCurveTo(25.67,4.077,25.697,4.217,25.677,4.113),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(19.763,6.645),t.bezierCurveTo(20.002000000000002,6.643999999999999,20.23,6.691999999999999,20.437,6.778),t.bezierCurveTo(20.644000000000002,6.864999999999999,20.830000000000002,6.991,20.985,7.146999999999999),t.bezierCurveTo(21.14,7.302999999999999,21.266,7.488999999999999,21.352999999999998,7.696999999999999),t.bezierCurveTo(21.438999999999997,7.903999999999999,21.487,8.133,21.487,8.372),t.lineTo(21.398,36.253),t.bezierCurveTo(21.397,36.489,21.349,36.713,21.262,36.917),t.bezierCurveTo(21.174,37.121,21.048000000000002,37.305,20.893,37.458),t.bezierCurveTo(20.738,37.611,20.553,37.734,20.348,37.818999999999996),t.bezierCurveTo(20.141,37.903999999999996,19.916,37.95099999999999,19.679,37.949),t.lineTo(4.675,37.877),t.bezierCurveTo(4.4399999999999995,37.876000000000005,4.216,37.827000000000005,4.012,37.741),t.bezierCurveTo(3.8089999999999997,37.653999999999996,3.6249999999999996,37.528999999999996,3.4719999999999995,37.376),t.bezierCurveTo(3.3179999999999996,37.221,3.1939999999999995,37.037,3.1079999999999997,36.833999999999996),t.bezierCurveTo(3.022,36.629999999999995,2.9739999999999998,36.406,2.9739999999999998,36.172),t.lineTo(2.924,8.431),t.bezierCurveTo(2.923,8.192,2.971,7.964,3.057,7.758),t.bezierCurveTo(3.143,7.552,3.267,7.365,3.4219999999999997,7.209),t.bezierCurveTo(3.5769999999999995,7.052999999999999,3.76,6.925,3.965,6.837),t.bezierCurveTo(4.17,6.749,4.396,6.701,4.633,6.7),t.lineTo(19.763,6.645),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.fillStyle="#efefef",t.beginPath(),t.arc(12.208,26.543,2.208,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.arc(12.208,26.543,1.876,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#efefef",t.beginPath(),t.moveTo(19.377,17.247),t.bezierCurveTo(19.377,17.724,18.991999999999997,18.108999999999998,18.516,18.108999999999998),t.lineTo(5.882,18.108999999999998),t.bezierCurveTo(5.404999999999999,18.108999999999998,5.02,17.723,5.02,17.247),t.lineTo(5.02,11.144),t.bezierCurveTo(5.02,10.666,5.406,10.281,5.882,10.281),t.lineTo(18.516,10.281),t.bezierCurveTo(18.993,10.281,19.377,10.666,19.377,11.144),t.lineTo(19.377,17.247),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(18.536,13.176),t.bezierCurveTo(18.536,13.518,18.261000000000003,13.794,17.919,13.794),t.lineTo(6.479,13.794),t.bezierCurveTo(6.1370000000000005,13.794,5.861,13.518,5.861,13.176),t.lineTo(5.861,11.84),t.bezierCurveTo(5.861,11.498,6.137,11.221,6.479,11.221),t.lineTo(17.918,11.221),t.bezierCurveTo(18.259999999999998,11.221,18.535,11.497,18.535,11.84),t.lineTo(18.535,13.176),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(18.536,16.551),t.bezierCurveTo(18.536,16.892999999999997,18.261000000000003,17.168999999999997,17.919,17.168999999999997),t.lineTo(6.479,17.168999999999997),t.bezierCurveTo(6.1370000000000005,17.168999999999997,5.861,16.892999999999997,5.861,16.551),t.lineTo(5.861,15.215999999999998),t.bezierCurveTo(5.861,14.872999999999998,6.137,14.596999999999998,6.479,14.596999999999998),t.lineTo(17.918,14.596999999999998),t.bezierCurveTo(18.259999999999998,14.596999999999998,18.535,14.872999999999998,18.535,15.215999999999998),t.lineTo(18.535,16.551),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore()
}},exchanger2:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(.4102,24.3613,39.5898,24.3613);i.addColorStop(0,"#1C6B9D"),i.addColorStop(.0788,"#115A85"),i.addColorStop(.2046,"#135D89"),i.addColorStop(.3649,"#186494"),i.addColorStop(.5432,"#1F70A4"),i.addColorStop(.6798,"#257AB2"),i.addColorStop(.7462,"#2377AD"),i.addColorStop(.8508,"#1E6DA0"),i.addColorStop(.98,"#125C89"),i.addColorStop(1,"#105984"),t.fillStyle=i,t.beginPath(),t.moveTo(.41,16.649),t.bezierCurveTo(.633,19.767,.871,20.689,1.094,23.807000000000002),t.bezierCurveTo(1.29,26.548000000000002,3.324,28.415000000000003,5.807,29.711000000000002),t.bezierCurveTo(10.582,32.202000000000005,16.477,32.806000000000004,21.875999999999998,32.523),t.bezierCurveTo(26.929,32.258,32.806,31.197000000000003,36.709999999999994,27.992000000000004),t.bezierCurveTo(38.30499999999999,26.728000000000005,38.83599999999999,25.103000000000005,38.998999999999995,23.161000000000005),t.bezierCurveTo(39.589,16.135000000000005,39.589,16.135000000000005,39.589,16.135000000000005),t.bezierCurveTo(39.589,16.135000000000005,3.26,16.647,.41,16.649),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#2e8ece",t.beginPath(),t.moveTo(16.4,25.185),t.bezierCurveTo(12.807999999999998,24.924999999999997,9.139,24.238,5.857999999999999,22.705),t.bezierCurveTo(3.175999999999999,21.450999999999997,-.32200000000000095,18.971999999999998,.544999999999999,15.533999999999999),t.bezierCurveTo(1.3499999999999992,12.335999999999999,4.987999999999999,10.495999999999999,7.807999999999999,9.428999999999998),t.bezierCurveTo(11.230999999999998,8.133999999999999,14.911999999999999,7.519999999999999,18.558,7.345999999999998),t.bezierCurveTo(22.233,7.169999999999998,25.966,7.437999999999998,29.548000000000002,8.300999999999998),t.bezierCurveTo(32.673,9.052999999999999,36.192,10.296,38.343,12.814999999999998),t.bezierCurveTo(40.86600000000001,15.768999999999998,39.208000000000006,19.066999999999997,36.406000000000006,21.043999999999997),t.bezierCurveTo(33.566,23.046999999999997,30.055000000000007,24.071999999999996,26.670000000000005,24.676999999999996),t.bezierCurveTo(23.289,25.28,19.824,25.436,16.4,25.185),t.bezierCurveTo(13.529,24.977,19.286,25.396,16.4,25.185),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(5.21,21.754),t.lineTo(8.188,17.922),t.lineTo(9.53,18.75),t.lineTo(15.956,16.004),t.lineTo(18.547,17.523),t.lineTo(12.074,20.334),t.lineTo(13.464,21.204),t.lineTo(5.21,21.754),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(17.88,14.61),t.lineTo(9.85,13.522),t.lineTo(11.703,12.757),t.lineTo(7.436,10.285),t.lineTo(10.783,8.942),t.lineTo(15.091,11.357),t.lineTo(16.88,10.614),t.lineTo(17.88,14.61),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(17.88,14.61),t.lineTo(9.85,13.522),t.lineTo(11.703,12.757),t.lineTo(7.436,10.285),t.lineTo(10.783,8.942),t.lineTo(15.091,11.357),t.lineTo(16.88,10.614),t.lineTo(17.88,14.61),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(23.556,15.339),t.lineTo(20.93,13.879),t.lineTo(26.953,11.304),t.lineTo(25.559,10.567),t.lineTo(33.251,9.909),t.lineTo(31.087,13.467),t.lineTo(29.619,12.703),t.lineTo(23.556,15.339),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(30.028,23.383),t.lineTo(24.821,20.366),t.lineTo(22.915,21.227),t.lineTo(21.669,16.762),t.lineTo(30.189,17.942),t.lineTo(28.33,18.782),t.lineTo(33.579,21.725),t.lineTo(30.028,23.383),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(30.028,23.383),t.lineTo(24.821,20.366),t.lineTo(22.915,21.227),t.lineTo(21.669,16.762),t.lineTo(30.189,17.942),t.lineTo(28.33,18.782),t.lineTo(33.579,21.725),t.lineTo(30.028,23.383),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.restore(),t.restore(),t.restore()}},exchanger:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(.2095,20.7588,39.4941,20.7588);i.addColorStop(0,"#6A6969"),i.addColorStop(.0788,"#4F4C4B"),i.addColorStop(.352,"#545252"),i.addColorStop(.6967,"#646262"),i.addColorStop(.8916,"#6F6E6F"),i.addColorStop(.9557,"#4C4948"),i.addColorStop(1,"#494645"),t.fillStyle=i,t.beginPath(),t.moveTo(39.449,12.417),t.lineTo(39.384,9.424),t.bezierCurveTo(39.384,9.424,.7980000000000018,22.264,.3710000000000022,23.024),t.bezierCurveTo(-.026999999999997804,23.733,.4240000000000022,24.903000000000002,.5190000000000022,25.647000000000002),t.bezierCurveTo(.7240000000000022,27.244000000000003,.9240000000000023,28.841,1.1350000000000022,30.437),t.bezierCurveTo(1.3220000000000023,31.843,2.7530000000000023,32.094,3.9620000000000024,32.094),t.bezierCurveTo(8.799000000000003,32.092,13.636000000000003,32.091,18.473000000000003,32.089),t.bezierCurveTo(23.515,32.086999999999996,28.556000000000004,32.086,33.598,32.083999999999996),t.bezierCurveTo(34.859,32.083999999999996,36.286,31.979999999999997,37.266,31.081999999999997),t.bezierCurveTo(37.537,30.820999999999998,37.655,30.535999999999998,37.699999999999996,30.229999999999997),t.lineTo(37.711,30.316999999999997),t.lineTo(39.281,16.498999999999995),t.bezierCurveTo(39.281,16.498999999999995,39.467999999999996,15.126999999999995,39.489,14.666999999999994),t.bezierCurveTo(39.515,14.105,39.449,12.417,39.449,12.417),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(19.8052,7.7949,19.8052,24.7632);i.addColorStop(0,"#7D7D7D"),i.addColorStop(.1455,"#808080"),i.addColorStop(.2975,"#888888"),i.addColorStop(.4527,"#939293"),i.addColorStop(.6099,"#9E9D9D"),i.addColorStop(.7687,"#A7A5A4"),i.addColorStop(.9268,"#A9A6A5"),i.addColorStop(.9754,"#A7A4A3"),i.addColorStop(1,"#FFFFFF"),t.fillStyle=i,t.beginPath(),t.moveTo(33.591,24.763),t.bezierCurveTo(23.868000000000002,24.754,14.145,24.746000000000002,4.423000000000002,24.738000000000003),t.bezierCurveTo(3.140000000000002,24.737000000000002,-.48799999999999777,24.838000000000005,.3520000000000021,22.837000000000003),t.bezierCurveTo(1.292000000000002,20.594000000000005,2.2330000000000023,18.351000000000003,3.1730000000000023,16.108000000000004),t.bezierCurveTo(4.113000000000002,13.865000000000006,5.054000000000002,11.623000000000005,5.994000000000002,9.380000000000004),t.bezierCurveTo(6.728000000000002,7.629000000000005,9.521000000000003,7.885000000000004,11.156000000000002,7.880000000000004),t.bezierCurveTo(16.974000000000004,7.861000000000004,22.793000000000003,7.843000000000004,28.612000000000002,7.825000000000005),t.bezierCurveTo(30.976000000000003,7.818000000000005,33.341,7.810000000000005,35.707,7.803000000000004),t.bezierCurveTo(36.157000000000004,7.802000000000004,36.609,7.787000000000004,37.06,7.804000000000005),t.bezierCurveTo(37.793,7.833000000000005,39.389,7.875000000000004,39.385000000000005,9.424000000000005),t.bezierCurveTo(39.38400000000001,9.647000000000006,39.31,10.138000000000005,39.27700000000001,10.359000000000005),t.bezierCurveTo(38.81900000000001,13.361000000000004,38.452000000000005,15.764000000000006,37.99400000000001,18.766000000000005),t.bezierCurveTo(37.806000000000004,19.998000000000005,37.61800000000001,21.230000000000004,37.43000000000001,22.462000000000007),t.bezierCurveTo(37.151,24.271,35.264,24.77,33.591,24.763),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.save(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(10.427,19.292),t.lineTo(5.735,16.452),t.lineTo(12.58,13.8),t.lineTo(12.045,15.07),t.lineTo(20.482,15.072),t.lineTo(19.667,17.887),t.lineTo(11.029,17.851),t.lineTo(10.427,19.292),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(13.041,13.042),t.lineTo(8.641,10.73),t.lineTo(14.82,8.474),t.lineTo(14.373,9.537),t.lineTo(22.102,9.479),t.lineTo(21.425,11.816),t.lineTo(13.54,11.85),t.lineTo(13.041,13.042),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(29.787,16.049),t.lineTo(29.979,14.704),t.lineTo(21.51,14.706),t.lineTo(22.214,12.147),t.lineTo(30.486,12.116),t.lineTo(30.653,10.926),t.lineTo(36.141,13.4),t.lineTo(29.787,16.049),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#f7f8f8",t.beginPath(),t.moveTo(28.775,23.14),t.lineTo(29.011,21.49),t.lineTo(19.668,21.405),t.lineTo(20.523,18.295),t.lineTo(29.613,18.338),t.lineTo(29.815,16.898),t.lineTo(35.832,19.964),t.lineTo(28.775,23.14),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore(),t.restore()}},cloud:{draw:function(t){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(90.75,0),t.lineTo(90.75,62.125),t.lineTo(0,62.125),t.closePath(),t.clip(),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save();var i=t.createLinearGradient(44.0054,6.4116,44.0054,51.3674);i.addColorStop(0,"rgba(159, 160, 160, 0.7)"),i.addColorStop(.9726,"#E9EAEA"),t.fillStyle=i,t.beginPath(),t.moveTo(57.07,20.354),t.bezierCurveTo(57.037,20.354,57.006,20.358,56.974000000000004,20.358),t.bezierCurveTo(54.461000000000006,14.308,48.499,10.049000000000001,41.538000000000004,10.049000000000001),t.bezierCurveTo(33.801,10.049000000000001,27.309000000000005,15.316000000000003,25.408000000000005,22.456000000000003),t.bezierCurveTo(18.988000000000007,23.289,14.025000000000006,28.765000000000004,14.025000000000006,35.413000000000004),t.bezierCurveTo(14.025000000000006,42.635000000000005,19.880000000000006,48.49,27.102000000000004,48.49),t.bezierCurveTo(29.321000000000005,48.49,31.407000000000004,47.933,33.237,46.961),t.bezierCurveTo(34.980000000000004,49.327,37.78,50.867999999999995,40.945,50.867999999999995),t.bezierCurveTo(43.197,50.867999999999995,45.261,50.086,46.896,48.785999999999994),t.bezierCurveTo(49.729,50.78699999999999,53.244,51.98799999999999,57.07,51.98799999999999),t.bezierCurveTo(66.412,51.98799999999999,73.986,44.90699999999999,73.986,36.17099999999999),t.bezierCurveTo(73.986,27.436,66.413,20.354,57.07,20.354),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()}},node:{width:60,height:100,draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(40,0),t.lineTo(40,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(13.948,31.075),t.lineTo(25.914,31.075),t.quadraticCurveTo(25.914,31.075,25.914,31.075),t.lineTo(25.914,34.862),t.quadraticCurveTo(25.914,34.862,25.914,34.862),t.lineTo(13.948,34.862),t.quadraticCurveTo(13.948,34.862,13.948,34.862),t.lineTo(13.948,31.075),t.quadraticCurveTo(13.948,31.075,13.948,31.075),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(29.679,35.972),t.bezierCurveTo(29.679,36.675000000000004,29.110999999999997,37.244,28.407999999999998,37.244),t.lineTo(11.456,37.244),t.bezierCurveTo(10.751999999999999,37.244,10.183,36.675,10.183,35.972),t.lineTo(10.183,36.136),t.bezierCurveTo(10.183,35.431000000000004,10.751999999999999,34.863,11.456,34.863),t.lineTo(28.407,34.863),t.bezierCurveTo(29.11,34.863,29.678,35.431,29.678,36.136),t.lineTo(29.678,35.972),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(.196,29.346),t.bezierCurveTo(.196,30.301,.9690000000000001,31.075,1.925,31.075),t.lineTo(37.936,31.075),t.bezierCurveTo(38.891,31.075,39.665,30.301,39.665,29.346),t.lineTo(39.665,27.174),t.lineTo(.196,27.174),t.lineTo(.196,29.346),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(37.937,3.884),t.lineTo(1.926,3.884),t.bezierCurveTo(.97,3.884,.19699999999999984,4.657,.19699999999999984,5.614),t.lineTo(.19699999999999984,27.12),t.lineTo(39.666000000000004,27.12),t.lineTo(39.666000000000004,5.615),t.bezierCurveTo(39.665,4.657,38.892,3.884,37.937,3.884),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(6.9609,2.9341,32.9008,28.874);i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(35.788,6.39),t.lineTo(4.074,6.39),t.bezierCurveTo(3.315,6.39,2.702,7.003,2.702,7.763),t.lineTo(2.702,24.616),t.lineTo(37.159,24.616),t.lineTo(37.159,7.763),t.bezierCurveTo(37.159,7.003,36.546,6.39,35.788,6.39),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()}},group:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(47.75,0),t.lineTo(47.75,40),t.lineTo(0,40),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(10.447,26.005),t.lineTo(18.847,26.005),t.quadraticCurveTo(18.847,26.005,18.847,26.005),t.lineTo(18.847,28.663),t.quadraticCurveTo(18.847,28.663,18.847,28.663),t.lineTo(10.447,28.663),t.quadraticCurveTo(10.447,28.663,10.447,28.663),t.lineTo(10.447,26.005),t.quadraticCurveTo(10.447,26.005,10.447,26.005),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(21.491,29.443),t.bezierCurveTo(21.491,29.935000000000002,21.094,30.338,20.597,30.338),t.lineTo(8.698,30.338),t.bezierCurveTo(8.201,30.338,7.8020000000000005,29.936,7.8020000000000005,29.443),t.lineTo(7.8020000000000005,29.557000000000002),t.bezierCurveTo(7.8020000000000005,29.063000000000002,8.201,28.662000000000003,8.698,28.662000000000003),t.lineTo(20.597,28.662000000000003),t.bezierCurveTo(21.093,28.662000000000003,21.491,29.062,21.491,29.557000000000002),t.lineTo(21.491,29.443),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(.789,24.79),t.bezierCurveTo(.789,25.461,1.334,26.005,2.0060000000000002,26.005),t.lineTo(27.289,26.005),t.bezierCurveTo(27.961000000000002,26.005,28.504,25.461,28.504,24.79),t.lineTo(28.504,23.267),t.lineTo(.789,23.267),t.lineTo(.789,24.79),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(27.289,6.912),t.lineTo(2.006,6.912),t.bezierCurveTo(1.3339999999999996,6.912,.7889999999999997,7.455,.7889999999999997,8.126),t.lineTo(.7889999999999997,23.227),t.lineTo(28.503999999999998,23.227),t.lineTo(28.503999999999998,8.126),t.bezierCurveTo(28.504,7.455,27.961,6.912,27.289,6.912),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(5.54,6.2451,23.7529,24.458);i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(25.78,8.671),t.lineTo(3.514,8.671),t.bezierCurveTo(2.9819999999999998,8.671,2.549,9.101999999999999,2.549,9.635),t.lineTo(2.549,21.466),t.lineTo(26.743,21.466),t.lineTo(26.743,9.636),t.bezierCurveTo(26.743,9.102,26.312,8.671,25.78,8.671),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(27.053,33.602),t.lineTo(36.22,33.602),t.quadraticCurveTo(36.22,33.602,36.22,33.602),t.lineTo(36.22,36.501),t.quadraticCurveTo(36.22,36.501,36.22,36.501),t.lineTo(27.053,36.501),t.quadraticCurveTo(27.053,36.501,27.053,36.501),t.lineTo(27.053,33.602),t.quadraticCurveTo(27.053,33.602,27.053,33.602),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(39.104,37.352),t.bezierCurveTo(39.104,37.891,38.67,38.327,38.13,38.327),t.lineTo(25.143,38.327),t.bezierCurveTo(24.602,38.327,24.166,37.891,24.166,37.352),t.lineTo(24.166,37.477999999999994),t.bezierCurveTo(24.166,36.937,24.602,36.501,25.143,36.501),t.lineTo(38.131,36.501),t.bezierCurveTo(38.671,36.501,39.105,36.937,39.105,37.477999999999994),t.lineTo(39.105,37.352),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#c9caca",t.beginPath(),t.moveTo(16.514,32.275),t.bezierCurveTo(16.514,33.004999999999995,17.107,33.601,17.839,33.601),t.lineTo(45.433,33.601),t.bezierCurveTo(46.166,33.601,46.758,33.005,46.758,32.275),t.lineTo(46.758,30.607999999999997),t.lineTo(16.514,30.607999999999997),t.lineTo(16.514,32.275),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(45.433,12.763),t.lineTo(17.839,12.763),t.bezierCurveTo(17.107,12.763,16.514,13.356,16.514,14.089),t.lineTo(16.514,30.57),t.lineTo(46.757999999999996,30.57),t.lineTo(46.757999999999996,14.088),t.bezierCurveTo(46.758,13.356,46.166,12.763,45.433,12.763),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save(),i=t.createLinearGradient(21.6973,12.0352,41.5743,31.9122),i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(43.785,14.683),t.lineTo(19.486,14.683),t.bezierCurveTo(18.903000000000002,14.683,18.433,15.153,18.433,15.735),t.lineTo(18.433,28.649),t.lineTo(44.837,28.649),t.lineTo(44.837,15.734),t.bezierCurveTo(44.838,15.153,44.367,14.683,43.785,14.683),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.save(),t.globalAlpha=.5,t.beginPath(),t.moveTo(23.709,36.33),t.lineTo(4.232,36.33),t.lineTo(4.232,27.199),t.lineTo(5.304,27.199),t.lineTo(5.304,35.259),t.lineTo(23.709,35.259),t.lineTo(23.709,36.33),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()}},subnetwork:{draw:function(t){t.save(),t.translate(0,0),t.beginPath(),t.moveTo(0,0),t.lineTo(60.75,0),t.lineTo(60.75,42.125),t.lineTo(0,42.125),t.closePath(),t.clip(),t.translate(0,.26859504132231393),t.scale(.6694214876033058,.6694214876033058),t.translate(0,0),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save();var i=t.createLinearGradient(43.6724,-2.7627,43.6724,59.3806);i.addColorStop(0,"rgba(159, 160, 160, 0.7)"),i.addColorStop(.9726,"#E9EAEA"),t.fillStyle=i,t.beginPath(),t.moveTo(61.732,16.509),t.bezierCurveTo(61.686,16.509,61.644,16.515,61.599,16.515),t.bezierCurveTo(58.126,8.152000000000001,49.884,2.2650000000000006,40.262,2.2650000000000006),t.bezierCurveTo(29.567,2.2650000000000006,20.594,9.545000000000002,17.966,19.415),t.bezierCurveTo(9.09,20.566,2.229,28.136,2.229,37.326),t.bezierCurveTo(2.229,47.309,10.322,55.403000000000006,20.306,55.403000000000006),t.bezierCurveTo(23.374000000000002,55.403000000000006,26.257,54.633,28.787,53.28900000000001),t.bezierCurveTo(31.197,56.56000000000001,35.067,58.69000000000001,39.442,58.69000000000001),t.bezierCurveTo(42.555,58.69000000000001,45.408,57.60900000000001,47.669,55.81200000000001),t.bezierCurveTo(51.586,58.57800000000001,56.443999999999996,60.238000000000014,61.732,60.238000000000014),t.bezierCurveTo(74.64699999999999,60.238000000000014,85.116,50.45000000000002,85.116,38.37400000000001),t.bezierCurveTo(85.116,26.298,74.646,16.509,61.732,16.509),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.fillStyle="#9fa0a0",t.beginPath(),t.moveTo(34.966,44.287),t.lineTo(45.112,44.287),t.quadraticCurveTo(45.112,44.287,45.112,44.287),t.lineTo(45.112,47.497),t.quadraticCurveTo(45.112,47.497,45.112,47.497),t.lineTo(34.966,47.497),t.quadraticCurveTo(34.966,47.497,34.966,47.497),t.lineTo(34.966,44.287),t.quadraticCurveTo(34.966,44.287,34.966,44.287),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#727171",t.beginPath(),t.moveTo(48.306,48.439),t.bezierCurveTo(48.306,49.034,47.824999999999996,49.52,47.226,49.52),t.lineTo(32.854,49.52),t.bezierCurveTo(32.253,49.52,31.771,49.034000000000006,31.771,48.439),t.lineTo(31.771,48.578),t.bezierCurveTo(31.771,47.981,32.253,47.497,32.854,47.497),t.lineTo(47.226,47.497),t.bezierCurveTo(47.824999999999996,47.497,48.306,47.98,48.306,48.578),t.lineTo(48.306,48.439),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#b5b5b6",t.beginPath(),t.moveTo(23.302,42.82),t.bezierCurveTo(23.302,43.63,23.96,44.287,24.772,44.287),t.lineTo(55.308,44.287),t.bezierCurveTo(56.12,44.287,56.775,43.629999999999995,56.775,42.82),t.lineTo(56.775,40.98),t.lineTo(23.302,40.98),t.lineTo(23.302,42.82),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#3e3a39",t.beginPath(),t.moveTo(55.307,21.229),t.lineTo(24.771,21.229),t.bezierCurveTo(23.959,21.229,23.301000000000002,21.884,23.301000000000002,22.695),t.lineTo(23.301000000000002,40.933),t.lineTo(56.774,40.933),t.lineTo(56.774,22.695),t.bezierCurveTo(56.774,21.884,56.119,21.229,55.307,21.229),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.save(),t.restore(),t.save(),t.restore(),t.restore(),t.save(),i=t.createLinearGradient(29.04,20.4219,51.0363,42.4181),i.addColorStop(0,"#B2CBEA"),i.addColorStop(1,"#2E8ECE"),t.fillStyle=i,t.beginPath(),t.moveTo(53.485,23.353),t.lineTo(26.592,23.353),t.bezierCurveTo(25.948999999999998,23.353,25.427,23.873,25.427,24.517000000000003),t.lineTo(25.427,38.807),t.lineTo(54.647,38.807),t.lineTo(54.647,24.517000000000003),t.bezierCurveTo(54.648,23.873,54.127,23.353,53.485,23.353),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),t.restore()}}};for(var uh in _h)Oe("Q-"+uh,_h[uh]);var fh=function(){this.$invalidateRotate=!1;var t=this._fl;t.clear();var i=this.$border||0,e=this._7u.x+i/2,n=this._7u.y+i/2,r=this._7u.width-i,s=this._7u.height-i,o=qe.call(this,{x:e,y:n});Qe(t,o.x,o.y,!0),o=qe.call(this,{x:e+r,y:n}),Qe(t,o.x,o.y),o=qe.call(this,{x:e+r,y:n+s}),Qe(t,o.x,o.y),o=qe.call(this,{x:e,y:n+s}),Qe(t,o.x,o.y),this.__l6Pointer&&(o=qe.call(this,{x:this._pointerX,y:this._pointerY}),Qe(t,o.x,o.y)),i&&t.grow(i/2)},ch=20,dh={_he:!1,_jd:null,_d8:0,_k5:-1,_k6:null,_e4:function(t){this._jd||(this._jd=[],this._j5=$a),this._jd.push(t),this._ea(),this._k7()},_k7:function(){if(!this._k6){var t=this;this._k6=setTimeout(function i(){return t._ea()!==!1?void(t._k6=setTimeout(i,t._go())):void delete t._k6},this._go())}},_go:function(){return Math.max(ch,this._jd[this._k5].delay)},_ea:function(){return this._gh(this._k5+1)},_gh:function(t){if(this._he)t%=this._d8;else if(t>=this._jd.length)return!1;if(this._k5==t)return!1;this._k5=t;var i=this._jd[this._k5],e=i._lzache;return e||(i._lzache=e=Mi(this.width,this.height),e.g.putImageData(i.data,0,0),e._pixels=i._pixels),this._k3=e,this.$invalidateSize=!0,this._dp()},_lzg:function(){return this._jd?(this._he=!0,this._d8=this._jd.length,1==this._d8?this._dp():void this._k7()):void this._hl()},_kv:function(){this._k6&&(clearTimeout(this._k6),delete this._k6)},_dp:function(){var t=this._dispatcher.listeners;if(!t||!t.length)return!1;for(var i=new So(this,"image","load",this._k3),e=0,n=t.length;n>e;e++){var r=t[e];r.scope._jm&&r.scope._jm._hked?(t.splice(e,1),e--,n--):r.onEvent.call(r.scope,i)}return t.length>0},_lwg:function(t,i){this._dispatcher.addListener(t,i),this._he&&!this._k6&&this._k7()},_6f:function(t,i){this._dispatcher.removeListener(t,i),this._dispatcher._lxl()||this._kv()},_hk:function(){this._kv(),this._dispatcher.clear()},_fb:function(){var t=this._k3._lxufferedImage;return t||(this._k3._lxufferedImage=t=new hh(this._k3,1)),t}},vh=function(t){return t.reduce(function(t,i){return 2*t+i},0)},gh=function(t){for(var i=[],e=7;e>=0;e--)i.push(!!(t&1<<e));return i},Eh=function(t){this.data=t,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return 255&t.charCodeAt(this.pos++)},this.readBytes=function(t){for(var i=[],e=0;t>e;e++)i.push(this.readByte());return i},this.read=function(t){for(var i="",e=0;t>e;e++)i+=String.fromCharCode(this.readByte());return i},this.readUnsigned=function(){var t=this.readBytes(2);return(t[1]<<8)+t[0]}},ph=function(t,i,e){for(var n,r,s=0,o=function(t){for(var e=0,n=0;t>n;n++)i.charCodeAt(s>>3)&1<<(7&s)&&(e|=1<<n),s++;return e},a=[],h=1<<t,l=h+1,_=t+1,u=[],f=function(){u=[],_=t+1;for(var i=0;h>i;i++)u[i]=[i];u[h]=[],u[l]=null},c=0;;){if(r=n,n=o(_),c++>e)break;if(n!==h){if(n===l)break;if(n<u.length)r!==h&&u.push(u[r].concat(u[n][0]));else{if(n!==u.length)throw new Error("Invalid LZW code.");u.push(u[r].concat(u[r][0]))}a.push.apply(a,u[n]),u.length===1<<_&&12>_&&_++}else f()}return a},yh=function(t,i){i||(i={});var e=function(i){for(var e=[],n=0;i>n;n++)e.push(t.readBytes(3));return e},n=function(){var i,e;e="";do i=t.readByte(),e+=t.read(i);while(0!==i);return e},r=function(){var n={};if(n.sig=t.read(3),n.ver=t.read(3),"GIF"!==n.sig)throw new Error("Not a GIF file.");n.width=t.readUnsigned(),n.height=t.readUnsigned();var r=gh(t.readByte());n.gctFlag=r.shift(),n.colorRes=vh(r.splice(0,3)),n.sorted=r.shift(),n.gctSize=vh(r.splice(0,3)),n.bgColor=t.readByte(),n.pixelAspectRatio=t.readByte(),n.gctFlag&&(n.gct=e(1<<n.gctSize+1)),i.hdr&&i.hdr(n)},s=function(e){var r=function(e){var n=(t.readByte(),gh(t.readByte()));e.reserved=n.splice(0,3),e.disposalMethod=vh(n.splice(0,3)),e.userInput=n.shift(),e.transparencyGiven=n.shift(),e.delayTime=t.readUnsigned(),e.transparencyIndex=t.readByte(),e.terminator=t.readByte(),i.gce&&i.gce(e)},s=function(t){t.comment=n(),i.com&&i.com(t)},o=function(e){t.readByte();e.ptHeader=t.readBytes(12),e.ptData=n(),i.pte&&i.pte(e)},a=function(e){{var r=function(e){t.readByte();e.unknown=t.readByte(),e.iterations=t.readUnsigned(),e.terminator=t.readByte(),i.app&&i.app.NETSCAPE&&i.app.NETSCAPE(e)},s=function(t){t.appData=n(),i.app&&i.app[t.identifier]&&i.app[t.identifier](t)};t.readByte()}switch(e.identifier=t.read(8),e.authCode=t.read(3),e.identifier){case"NETSCAPE":r(e);break;default:s(e)}},h=function(t){t.data=n(),i.unknown&&i.unknown(t)};switch(e.label=t.readByte(),e.label){case 249:e.extType="gce",r(e);break;case 254:e.extType="com",s(e);break;case 1:e.extType="pte",o(e);break;case 255:e.extType="app",a(e);break;default:e.extType="unknown",h(e)}},o=function(r){var s=function(t,i){for(var e=new Array(t.length),n=t.length/i,r=function(n,r){var s=t.slice(r*i,(r+1)*i);e.splice.apply(e,[n*i,i].concat(s))},s=[0,4,2,1],o=[8,8,4,2],a=0,h=0;4>h;h++)for(var l=s[h];n>l;l+=o[h])r(l,a),a++;return e};r.leftPos=t.readUnsigned(),r.topPos=t.readUnsigned(),r.width=t.readUnsigned(),r.height=t.readUnsigned();var o=r.width*r.height,a=gh(t.readByte());r.lctFlag=a.shift(),r.interlaced=a.shift(),r.sorted=a.shift(),r.reserved=a.splice(0,2),r.lctSize=vh(a.splice(0,3)),r.lctFlag&&(r.lct=e(1<<r.lctSize+1)),r.lzwMinCodeSize=t.readByte();var h=n();r.pixels=ph(r.lzwMinCodeSize,h,o),r.interlaced&&(r.pixels=s(r.pixels,r.width)),i.img&&i.img(r)},a=function(){var e={};switch(e.sentinel=t.readByte(),String.fromCharCode(e.sentinel)){case"!":e.type="ext",s(e);break;case",":e.type="img",o(e);break;case";":e.type="eof",i.eof&&i.eof(e);break;default:throw new Error("Unknown block: 0x"+e.sentinel.toString(16))}"eof"!==e.type&&setTimeout(a,0)},h=function(){r(),setTimeout(a,0)};h()},Th="";i.addEventListener&&i.addEventListener("keydown",function(t){if(t.ctrlKey&&t.shiftKey&&t.altKey&&73==t.keyCode){var i=xa.name+"\nVersion - "+xa.version+"\nPublish Date - "+xa.publishDate+"\n"+xa.about+"\n"+xa.copyright+Th;xa.alert(i)}},!1),Th="\nLicensed to: "+decodeURIComponent("%E7%83%BD%E7%81%AB%E9%80%9A%E4%BF%A1%E7%A7%91%E6%8A%80-%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E7%89%A9%E8%81%94%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%88FiLink%EF%BC%89%E7%BD%91%E7%AE%A1%E5%B9%B3%E5%8F%B0");var mh={position:"absolute",userSelect:"none",outline:"none",transformOrigin:"0 0","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},wh="Q-Canvas";yi("."+wh,mh);var xh={width:"100%",height:"100%",position:"relative",overflow:"hidden",textAlign:"left",outline:"none",tapHighlightColor:"rgba(0,0,0,0)",userSelect:"none"},Oh="Q-CanvasPanel";yi("."+Oh,xh);var Ah="Q-Graph",bh={overflow:"hidden","text-align":"left","-webkit-tap-highlight-color":"rgba(0,0,0,0)",outline:"none"};yi("."+Ah,bh);var Lh=S(function(t){this._lwx=new Ih,this._lo=new lo,this._8i=[],this._lzn=[],this._ksingList=[],this._8l={},this.bounds=new Eo,this._is=new Nh,this._viewport=new kh,this._is.listener=function(t){this._6w(t)}.bind(this),this._lzc(),this.setParent(t)},{_lwl:null,_io:null,_lo:null,_lzn:null,_is:null,_lzv:function(t){return t?(this._66s||(this._66s={}),this._66s[t]?!1:(this._66s[t]=!0,void this.invalidate())):this.invalidate()},_lw5:function(t){return this._66s&&this._66s[t]},isInvalidate:function(){return this._66},clear:function(){this._lo.clear(),this._lzn.length=0,this._8l={},this._lwo=!1,this.invalidate()},_6y:function(){this._lzv("size"),this._2i()},_2i:function(){this._lzv("viewport")},invalidate:function(t){(t||!this._66)&&(this._66=!0,this._kv||(this._jbingID=requestAnimationFrame(this._fe.bind(this))))},_6x:function(t){return this._kv=t,t?void(this._jbingID&&(cancelAnimationFrame(this._jbingID),this._jbingID=null)):void(this._66&&this.invalidate(!0))},_fe:function(){this._jbingID=null,this._66=!1;var t=this._lwo;this._lwo||(this._lz2(),this._lwo=!0),this._lzx(!t),this._3p(),this._jb(),this._21()},_lzx:function(t){this._lws=t||this.fullRefresh,(t||this._66s.size)&&this._8w(),(t||this._66s.matrix)&&this._6u(),this._lwp(t),this._43(t),this._66s={}},_3p:function(){this._lzn.length=0;var t=this._viewport;if(this._lo.forEach(function(i){if(i.__hh!==!1){var e=this._lwm(i);t.intersects(e.x,e.y,e.width,e.height)&&this._lzn.push(i)}},this),this._lzn=this._i9(this._lzn),!this._lws){var i=this._lwx;this._ksingList.length=0,i._lwu(this._viewport),i._ie()||this._lzn.forEach(function(t){var e=this._lwm(t);i._f2(e.x,e.y,e.width,e.height)&&this._ksingList.push(t)},this)}},_i9:function(t){return Qs?t=c(t,this._9q):t.sort(this._9q),t},_9q:function(t,i){return t=t.zIndex||0,i=i.zIndex||0,t-i},_lwm:function(t){return t.boundingBox},_jb:function(){if(this._lws)return this._es(),this._7d(!0),void this.render(this._lztx,this._lzn);this._7d(this._lxuffer);var t=this._lwx,i=this._lztx;i.save(),this._lxuffer&&(an(i),i.drawImage(this._lxuffer.canvas,this._lxuffer.x,this._lxuffer.y)),t._jf(i,this._ev.bind(this)),this._es(),this.render(i,this._ksingList),i.restore()},_7d:function(t){this._lzvCanvasSizeFlag?(this._lzvCanvasSizeFlag=!1,this._io.setSize(this._width,this._height)):t&&on(this._io)},_8w:function(){var t=this.width,i=this.height;return this._width==t&&this._height==i?!1:(this._width=t,this._height=i,void(this._lzvCanvasSizeFlag=!0))},_43:function(t){if(!t&&!this._66s.viewport)return!1;var i=this._is.reverseTransform([0,0]),e=this.scale,n=this._width/e,r=this._height/e,s=this.rotate,o=this._viewport;if(o.x==i[0]&&o.y==i[1]&&o.width==n&&o.height==r&&o.rotate==s)return!1;var a=o.toJSON();return this._viewport.set(i[0],i[1],n,r,s,e),this._35(this._viewport,a,t),!0
},_35:function(t,i,e){this._lws||e||(this._lxuffer=this._fw(i,t))},_6w:function(){if(this._lwo){if(this._kv){var t;this._lzurrentMatrix?this._lzurrentMatrix.transMatrix=t=Ch.mul([],this._is.m,Ch.invert([],this._lzurrentMatrix.m)):t=this._is.m,this._52(t)}this._lzv("matrix"),this._2i()}},_52:function(t){this.__lzssMatrix=t,Mh.setStyle(this._io,"transform",t?"matrix("+t.join(",")+")":"")},_6u:function(){var t=this._lzurrentMatrix;if(this._lzurrentMatrix={tx:this._is.m[4],ty:this._is.m[5],m:this._is.m.slice(),scale:this._is._g5(),rotate:this._is._dn()},this.__lzssMatrix&&this._52(null),!this._lws){if(this._2h(this._lzurrentMatrix,t),!t||t.scale!=this._lzurrentMatrix.scale)return this._71(this._lzurrentMatrix.scale,t?t.scale:null),void(this._lws=!0);if(!t||t.rotate!=this._lzurrentMatrix.rotate)return this._5c(this._lzurrentMatrix.rotate,t?t.rotate:null),void(this._lws=!0);var i=t.m[4]-this._lzurrentMatrix.m[4],e=t.m[5]-this._lzurrentMatrix.m[5],n=this.ratio;i*=n,e*=n;var r=1e-4;(Math.abs(i-Math.round(i))>r||Math.abs(e-Math.round(e))>r)&&(this._lws=!0)}},_6s:function(){var t=this.bounds,i=t.clone();t.clear(),this._lo.forEach(function(i){i.__hh!==!1&&t.add(this._lwm(i))},this),t.equals(i)||this._3n(t,i)},_3n:function(){},_lwo:!1,_lz2:function(){},_9v:function(t){var i=t.ratio;t.scale(i,i),t.transform.apply(t,this._is.m)},render:function(t,i){i&&i.length&&(t.save(),this._9v(t),i.forEach(function(i){if(t.save(),i.visible!==!1)try{i.render(t)}catch(e){console.error(e)}t.restore()},this),t.restore())},setParent:function(t){B(t)&&(t=i.getElementById(t)),this._li!=t&&(this._li&&this._lwl&&(k(this._li,Ah),this._li.removeChild(this._lwl)),this._li=t,this._li&&(N(this._li,Ah),this._li.appendChild(this._6q()),this._6y()))},_6q:function(){return this._lwl||this._lzc(),this._lwl},_lzc:function(){var t=Mi(!0);nn(t.g),t.className=wh;var e=i.createElement("div");return e.addEventListener("mousedown",function(t){return i.activeElement==this?(t.preventDefault&&t.preventDefault(),!1):void 0}.bind(e),!1),e.className=Oh,e.appendChild(t),e.tabIndex=0,this._io=t,this._lwl=e,this._lztx=this._io.getContext("2d"),t},toLogical:function(t,i){return t instanceof Object&&(Q(t)&&(t=this._8k(t)),Array.isArray(t)?(i=t[1]||0,t=t[0]||0):(i=t.y||0,t=t.x||0)),this._is.reverseTransform([t,i])},toCanvas:function(t,i){return this._is.transform([t,i])},_8k:function(t){return mi(t,this._lwl)},_dc:function(t,i,e){if(t.hitTest instanceof Function)return t.hitTest(i,e);var n=this._lwm(t);return n?e?Eo.intersects(n.x,n.y,n.width,n.height,i[0]-e,i[1]-e,e+e,e+e):Eo.intersects(n.x,n.y,n.width,n.height,i[0],i[1]):t},hitTest:function(t,i){return this._8m(t,i)},_8m:function(t,i){i=this._9t(i),t=this.toLogical(t);for(var e,n=this._lzn.length;--n>=0;)if(e=this._lzn[n],this._dc(e,t,i))return e},_9t:function(t){return(t===e||null===t)&&(t=ho.SELECTION_TOLERANCE),t?t/this.scale:0},getUIByMouseEvent:function(t,i){if(t.uiId)return this._lo.getById(t.uiId);var e=this._8m(t,i);return t.uiId=e?e.id:-1,e},_8l:null,invalidateUI:function(t){this._8l[t.id]=t,this.invalidate()},_9f:function(t){t.validate instanceof Function&&t.validate(this)},_lze:function(t,i){t.__ja&&this._g1(t.__ja);var e=t.__hh;if(t.__hh=this._e6(t,i),!t.__hh)return e;var n=t.__ja;this._9f(t);var r=this._lwm(t);t.__ja={x:r.x,y:r.y,width:r.width,height:r.height};var s=t.__hh!==e||!Eo.equals(n,r);return s&&t.__ja&&this._g1(t.__ja),s},_e6:function(t){return t.visible!==!1},_$q:function(t){this._lo.forEach(function(i){this._lze(i,t)},this),this._8l={},this._6s()},_lwp:function(t){var i=this.scale;if(t)return this._$q(i);var e=this._lzvBoundsFlag;this._lzvBoundsFlag=!1;for(var n in this._8l){var r=this._8l[n];e?this._lze(r,i):e=this._lze(r,i)}this._8l={},e&&this._6s()},_8i:null,_21:function(){if(!this._8i.length)return!1;var t=this._8i;this._8i=[],t.forEach(function(t){try{var i=t.call,e=t.scope,n=t.delay;e instanceof Object?i=i.bind(e):e&&!n&&(n=parseInt(e)),n?setTimeout(i,n):i()}catch(r){}},this),this._66&&this._fe()},_ec:function(t,i,e){this._8i.push({call:t,scope:i,delay:e}),this._66||this._21()},_4d:function(t,i){for(var e=this._lzn,n=0,r=e.length;r>n;n++)if(t.call(i,e[n])===!1)return!1},_dz:function(t,i){this._lo.forEach(t,i)},_$s:function(t,i){for(var e=this._lzn,n=e.length-1;n>=0;n--)if(t.call(i,e[n])===!1)return!1},_47:function(t,i){this._lo.forEachReverse(t,i)},_41:function(){return this.bounds},_fj:function(t,i,e){t/=this.scale||1,this._jg(t,i,e)},_jg:function(t,i,n){if(this._lwo&&(i===e||null===i)){var r=this.toLogical(this.width/2,this.height/2);i=r[0]||0,n=r[1]||0}return this._is.scale(t,[i||0,n||0])},_ei:function(t,i){this._is.translate([t,i],!0)},_lwq:function(t,i,e,n){if(e==this.scale&&n!==!1){var r=this.ratio;r!=(0|r)&&(t=Math.round(t*r)/r,i=Math.round(i*r)/r)}this._is.translateTo([t,i],e)},_ji:function(t,i){return this._jg(this._ep,t,i)},_i8:function(t,i){return this._jg(1/this._ep,t,i)},_1d:function(){var t=this._41();if(!t.isEmpty()){var i=this.width/t.width,e=this.height/t.height,n=Math.min(i,e);return n=Math.max(this._ft,Math.min(this._fr,n)),{scale:n,cx:t.cx,cy:t.cy}}},_ep:1.3,_fr:10,_ft:.1,_lws:!1,_71:function(){},_5c:function(){},_2h:function(){},_es:function(){this._lxuffer=null,this._lwx._kc()},_ev:function(t){var i=this._is,e=this._io.ratio,n=this.scale,r=i._dn();if(!r){var s=i.transform([t[0],t[1]]);return s[0]*=e,s[1]*=e,e*=n,s[2]=t[2]*e,s[3]=t[3]*e,s}var o=new Eo,a=i.transform([t[0],t[1]]);return o.add(a[0],a[1]),a=i.transform([t[0]+t[2],t[1]]),o.add(a[0],a[1]),a=i.transform([t[0],t[1]+t[3]]),o.add(a[0],a[1]),a=i.transform([t[0]+t[2],t[1]+t[3]]),o.add(a[0],a[1]),[o.x*e,o.y*e,o.width*e,o.height*e]},_fw:function(t,e){var n=this._io;if(n.width&&n.height){var r=e._3t(t.x,t.y,t.width,t.height);if(r&&r.width&&r.width){var s=this.scale*this.ratio,o=this._lwx,a={},h=1e-6;r.x>h&&(a.left=e._4j(0,0,r.x,e.height,s)),e.width-r.right>h&&(a.right=e._4j(r.right,0,e.width-r.right,e.height,s)),r.y>h&&(a.top=e._4j(r.x,0,r.width,r.y,s)),e.height-r.bottom>h&&(a.bottom=e._4j(r.x,r.bottom,r.width,e.height-r.bottom,s)),U(a)||o._4h(a);var l=e._hj(t.x,t.y),_=(l[0]-r.x)*s,u=(l[1]-r.y)*s,f=r.width*s,c=r.height*s;_=Math.round(_),u=Math.round(u),f=Math.round(f),c=Math.round(c);var d=this._lxackCanvas;return d||(d=this._lxackCanvas=i.createElement("canvas"),d.g=d.getContext("2d")),d.width=f,d.height=c,an(d.g),d.g.drawImage(n,_,u),_=l[0]*s-_,u=l[1]*s-u,{x:_,y:u,canvas:d}}}},_l1:function(t,i,e,n){this._lwx._lh(t,i,e,n)},_g1:function(t){this._lwx._id(t)}});Object.defineProperties(Lh.prototype,{width:{get:function(){return this._lwl.clientWidth}},height:{get:function(){return this._lwl.clientHeight}},rotate:{get:function(){return this._is._dn()}},tx:{get:function(){return this._is._8s()[0]}},ty:{get:function(){return this._is._8s()[1]}},ratio:{get:function(){return this._io?this._io.ratio:void 0}},scale:{get:function(){return this._is._g5()},set:function(t){this._fj(t)}},renderScale:{get:function(){return this.scale*this.ratio}},uis:{get:function(){return this._lo}},length:{get:function(){return this._lo.length}},viewportBounds:{get:function(){return this._viewport.getGlobalBounds()}}});var Sh,Ih=S({constructor:function(){this._ga=[],this._ja=new Eo,this._g8=Vs?20:50},_g8:20,_ga:null,_lf:!1,_ja:null,_kc:function(){this._lf=!1,this._ga.length=0,this._viewportClips=null,this._ja.clear()},_ie:function(){return 0==this._ga.length&&!this._viewportClips},_lh:function(t,i,e,n){0>=e||0>=n||this._ga.push([t,i,e,n])},_id:function(t){this._lh(t.x,t.y,t.width,t.height)},_4h:function(t){var i=this._ja;for(var e in t){var n=t[e],r=n.getGlobalBounds();i.add(r)}this._viewportClips=t},_lwu:function(t,i){for(var e=[],n=this._ga,r=0,s=n.length;s>r;r++){var o=n[r];t.intersects(o[0],o[1],o[2],o[3])&&(e.push(o),this._ja.addRect(o[0],o[1],o[2],o[3]))}this._ga=e,this._lf=i||e.length>=this._g8},_f2:function(t,i,e,n){if(!this._ja.intersectsRect(t,i,e,n))return!1;if(this._lf)return!0;if(this._viewportClips){var r=this._viewportClips;for(var s in r)if(r[s].intersects(t,i,e,n))return!0}for(var o,a=0,h=this._ga.length;h>a;a++)if(o=this._ga[a],Eo.intersects(t,i,e,n,o[0],o[1],o[2],o[3]))return!0;return!1},_jf:function(t,i){if(this._ie())return!1;if(t.beginPath(),this._lf){var e=i([this._ja.x,this._ja.y,this._ja.width,this._ja.height]);return hn(t,e[0],e[1],e[2],e[3]),void t.clip()}if(this._viewportClips)for(var n in this._viewportClips){var e=this._viewportClips[n].canvasBounds;hn(t,e[0],e[1],e[2],e[3])}for(var r=this._ga,s=0,o=r.length;o>s;s++){var e=i(r[s]);hn(t,e[0],e[1],e[2],e[3])}t.clip()}});Ih._toIntRect=function(t,i,e,n){return t instanceof Object&&(i=t.y,e=t.width,n=t.height,t=t.x),e=X(t+e)-(t=V(t)),n=X(i+n)-(i=V(i)),[t,i,e,n]},Ih._da=V,Ih._h2=X,Oa.NAVIGATION_BUTTON="navigation.button",Oa.NAVIGATION_SCROLLBAR="navigation.scrollbar",ho.NAVIGATION_TYPE=Oa.NAVIGATION_SCROLLBAR;var Dh=S({_jb:function(){A(this,Dh,"_jb",arguments),this._topCanvas._jb()},_9q:function(t,i){return t=t.$data.zIndex||0,i=i.$data.zIndex||0,t-i},"super":Lh,constructor:function(t,e){this._k1=t,B(e)&&(e=i.getElementById(e)),e&&e.tagName||(e=i.createElement("div")),b(this,Dh,[e]),this._topCanvas=new ls(this,this._lwl),this._ff=[],this._k1._4.addListener(this._19,this),this._k1._1p.addListener(this._97,this),this._k1._$u.addListener(this._65,this),this._k1._$f.addListener(this._2o,this),this._k1._$l.addListener(this._3d,this),this._lx1={},this._3m(ho.NAVIGATION_TYPE,!0)},_52:function(t){A(this,Dh,"_52",arguments),this._topCanvas._52(t)},_gp:function(t){return t.id||(t=this._lo.getById(t)),t?(this._lo.remove(t),t.destroy(),t.__ja&&this._g1(t.__ja),void(this._lzvBoundsFlag=!0)):!1},_gr:function(){this._lo.forEach(function(t){t.destroy()}),this._lo.clear()},_e6:function(t,i){var e=t.data||t;return e._$n&&(e._$n=!1,e._hh=this._54(e,i)),e._hh!==!1},_54:function(t,i){return this._36(t,i)?!this._k1._hhFilter||this._k1._hhFilter(t,i)!==!1:!1},_9m:function(t){return this._k1._31==es(t)},_36:function(t,i){if(t.visible===!1)return!1;if(!(t instanceof Gh))return this._k1._31!=es(t)?!1:!t._dx;var e=t.fromAgent,n=t.toAgent;if(!e||!n)return!1;if(e==n&&!t.isLooped())return!1;if(t.isBundleEnabled()){var r=t.getEdgeBundle(!0);if(r&&!r._e6(t,i))return!1}return this._e6(e,i)&&this._e6(n,i)?!0:!1},_lwm:function(t){return t._lwo?{x:t.$x+t.uiBounds.x,y:t.$y+t.uiBounds.y,width:t.uiBounds.width,height:t.uiBounds.height}:void 0},_2j:function(t){var i=this._kh(t);if(i){var e=this._lwm(i);if(e)return new Eo(e)}},_dc:function(t,i,e){return t.hitTest(i[0],i[1],e)},hitTest:function(t,i){var e=A(this,Dh,"hitTest",arguments);if(e){t=this.toLogical(t),i=this._9t(i);var n=e.hitTest(t[0],t[1],i,!0);if(n instanceof Hh)return n}return e},_38:function(t){return this.getUIByMouseEvent(t)},_7d:function(){A(this,Dh,"_7d",arguments),this._topCanvas._hm(this.width,this.height)},_kf:1,_lzn:null,_8b:null,_89:null,_lo:null,_li:null,_io:null,_lwx:null,_66:!1,_lwo:!1,_is:null,_4d:function(t,i){for(var e=this._lzn,n=0,r=e.length;r>n;n++)if(t.call(i,e[n])===!1)return!1},_dz:function(t,i){this._lo.forEach(t,i)},_$s:function(t,i){for(var e=this._lzn,n=e.length-1;n>=0;n--)if(t.call(i,e[n])===!1)return!1},_47:function(t,i){this._lo.forEachReverse(t,i)},_35:function(t){A(this,Dh,"_35",arguments),this._viewportChanged={value:t}},_lz2:function(){this._43(!0),this._originAdjusted||(this._originAdjusted=!0,this._k1&&this._k1.originAtCenter&&this._is.translateTo([this.width/2,this.height/2]))},_fe:function(){if(!this._hked&&this._66){if(this._jbingID=null,this._66=!1,this._lwo&&this._k1&&this._k1._$n&&(this._k1._$n=!1,this._k1.forEach(function(t){t.invalidateVisibility(!0)})),A(this,Dh,"_fe",arguments),this._89Changed){this._73&&this._73._jq();var t=this._89Changed.value,i=this._89Changed.old;this._89Changed=null,this._k1._49(new Io(this._k1,"element.bounds",t,i))}this._viewportChanged&&(this._viewportChanged=!1,this._73&&this._73._35&&this._73._35(this._viewport.width*this._viewport.scale,this._viewport.height*this._viewport.scale),this._k1._49(new Io(this._k1,"viewport",this._viewport)))}},_ff:null,_lze:function(t){var i=t.$data;if(!t._1a&&!i._66&&!i._$n)return!1;var e=t.$invalidateSize;return e=A(this,Dh,"_lze",arguments)||e},_9f:function(t){var i=t.$data;i.__4s&&(i.__4s=!1,t._4s()),i.__66&&i._ht()&&(t._61(),i.__66=!1),(t._1a||i._66)&&(i._66=!1,t.validate())},_fn:function(t,i){var e=t.ratio;t.scale(e,e),t.transform.apply(t,this._is.m);for(var n=this.renderScale,r=[],s=0,o=i.length;o>s;s++){var a=i[s];a._jb(t,n),a._ju&&a._ju.length&&r.push(a)}if(r.length)for(s=0,o=r.length;o>s;s++)r[s]._95(t,n)},render:function(t,i){if(i.length){if(t.save(),Vs)try{this._fn(t,i)}catch(e){}else this._fn(t,i);t.restore()}},_fv:function(t,i,e){t.save(),t.translate(-e.x*i,-e.y*i),t.scale(i,i);var n,r,s=this._lo._j7.slice();s=this._i9(s);for(var o=[],a=0,h=s.length;h>a;a++)n=s[a],n.__hh&&(r=this._lwm(n),e.intersectsRect(r.x,r.y,r.width,r.height)&&(n._jb(t,i),n._ju&&n._ju.length&&o.push(n)));if(o.length)for(a=0,h=o.length;h>a;a++)o[a]._95(t,i);t.restore()},_10:function(){},_1n:function(){for(var t,i,e=this._lo._j7,n=new Eo,r=e.length-1;r>=0;r--)t=e[r],t._hh&&(i=t.uiBounds,n.addRect(t.$x+i.x,t.$y+i.y,i.width,i.height));var s=this._89;this._89=n,n.equals(s)||this._10(s,n)},_5b:function(){this._lzn.length=0,this._8b={}},_kg:function(){this._kc()},_hk:function(){this._kc(),this._hked=!0,this._66=!1,this._topCanvas.clear(),this._8i.length=0,this._73&&(this._73._hk(),delete this._73)},_kh:function(t){return this._lo.getById(t.id||t)},_$d:function(t){return this._e8(t)},_g7:function(t,i){var e=this.toCanvas(t,i);return{x:e[0],y:e[1]}},_e8:function(t,i){var e=this.toLogical(t,i);return{x:e[0],y:e[1]}},_$e:null,_3d:function(t){var i=t.source,e=t.data;if(e)if(this._lwo){var n,r;if(G(e))for(var s=0,o=e.length;o>s;s++)r=e[s].id,n=this._lo.getById(r),n&&(n.selected=i.containsById(r),n.invalidateRender());else{if(r=e.id,n=this._lo.getById(r),!n)return;n.selected=i.containsById(r),n.invalidateRender()}this._lzv()}else{this._$e||(this._$e={});var n,r;if(G(e))for(var s=0,o=e.length;o>s;s++)r=e[s].id,this._$e[r]=!0;else r=e.id,this._$e[r]=!0}},_k1:null,_lzk:function(t){var i=t.uiClass;return i?new i(t,this._k1):void 0},_19:function(t){if(!this._lwo)return!1;var i=t.source,e=t.kind;"enableSubNetwork"==e&&this._k1.invalidateVisibility(),"uiClass"==e?(this._gp(i.id),this._kj(i)):"expanded"==e&&i._ht()&&t.value&&this._5h(i);var n=this._lo.getById(i.id);n&&n._lwo&&n.onPropertyChange(t)&&this._lzv()},_3f:function(t){var i=this._kh(t);i&&(i.invalidateData(),this._lzv())},_97:function(t){if(!this._lwo)return!1;switch(t.kind){case zo.KIND_ADD:this._kj(t.data);break;case zo.KIND_REMOVE:this._gj(t.data);break;case zo.KIND_CLEAR:this._ia(t.data)}},_kc:function(){this._lx1={},this._gr(),this.clear()},_lx1:null,_kj:function(t){var i=this._lzk(t);i&&(this._lo.add(i),this._lwo&&(this._lx1[t.id]=t),this._lzv())},_gj:function(t){if(Array.isArray(t)){for(var i,e=[],n=0,r=t.length;r>n;n++)i=t[n].id,e.push(i),delete this._lx1[i];t=e}else t=t.id,delete this._lx1[t],t=[t];t.forEach(function(t){this._gp(t)},this),this._lzv()},_ia:function(){this._kc()},_65:function(t){return this._lwo?void(t.source instanceof Fh&&!this._lx1[t.source.id]&&(t.oldValue&&(this._3f(t.oldValue),t.oldValue.__66=!0),t.value&&(this._3f(t.value),t.value.__66=!0),this._5h(t.source))):!1},_2o:function(t){return this._lwo?void(t.source instanceof Fh&&!this._lx1[t.source.id]&&this._5h(t.source)):!1},_2q:function(t){if(t._edgeBundleInvalidateFlag){var i=t.getEdgeBundle(!0);if(!i)return t._edgeBundleInvalidateFlag=!1,void t.validateEdgeBundle();i.validate(this._k1),i._lwt(function(t){t.validateEdgeBundle()})}},_$q:function(t){var i,e=(this._k1,this._k1.graphModel),n=this._lo,r=[],s=1;if(e.forEachByDepthFirst(function(t){return t instanceof Gh?(this._2q(t),void r.push(t)):(i=this._lzk(t),void(i&&(n.add(i),t.__k5=s++)))},this),n.length)for(var o=n._j7,s=o.length-1;s>=0;s--)i=o[s],this._3j(i,i.$data,t);for(var a,s=0,h=r.length;h>s;s++)if(a=r[s],i=this._lzk(a)){this._3j(i,a,t),n.add(i);var l=a.fromAgent,_=a.toAgent,u=l.__k5||0;l!=_&&(u=Math.max(u,_.__k5||0)),a.__k5=u}if(r.length&&n._j7.sort(function(t,i){return t.$data.__k5-i.$data.__k5}),this._$e){var f=e.selectionModel;for(var c in this._$e)if(f.containsById(c)){var i=n.getById(c);i&&(i.selected=!0)}this._$e=null}this._6s()},_lwp:function(t,i){if(t)return this._$q();var e=this._lzvBoundsFlag;this._lzvBoundsFlag=!1;for(var n in this._lx1){var r=this._lx1[n];r instanceof Fh?this._5h(r):this._5j(r)}this._lx1={};for(var s,o,a=this._lo._j7,h=[],l=a.length-1;l>=0;l--)s=a[l],o=s.$data,o instanceof Gh?(this._2q(o),h.push(s)):this._3j(s,o,i)&&!e&&(e=!0);if(h.length)for(var l=0,_=h.length;_>l;l++)s=h[l],this._3j(s,s.$data,i)&&!e&&(e=!0);e&&this._6s()},_3j:function(t,i,e){if(i instanceof Gh)return i.__4s&&(i.__4s=!1,t._4s()),this._lze(t,e);if(i.__66&&i._ht()&&(t._61(),i.__66=!1),this._lze(t,e)){var n=this._45(i);return n&&(n.__66=!0),i.hasEdge()&&i.forEachEdge(function(t){t.__4s=!0},this),!0}},_2t:function(t,i){var e=t.fromAgent,n=t.toAgent,r=i.getIndexById(e.id);if(e==n)return r;var s=i.getIndexById(n.id);return Math.max(r,s)},_2v:function(t,i){var e=this.graphModel._gm(t);return e?i.getIndexById(e.id):0},_5h:function(t){var i=this._lo,e=i.getById(t.id);if(!e)throw new Error("UI '"+t.name+"' not found");var r=this._2v(t,i),s=[e];t.hasChildren()&&n(t,function(t){t instanceof Fh&&(e=i.getById(t.id),e&&s.push(e))},this),this._46(i,r,s)},_5j:function(t){var i=this._lo.getById(t.id);if(i){var e=this._2t(t,this._lo);this._lo.setIndexBefore(i,e)}},_46:function(t,i,e){function n(t){r.add(t)}var r=new lo;d(e,function(e){i=t.setIndexAfter(e,i),e.$data.forEachEdge(n)},this),0!=r.length&&r.forEach(this._5j,this)},_45:function(t){var i=mn(t);return i&&i.expanded?i:null},_75:null,_73:null,_3m:function(t,i){return i||t!=this._75?(this._75=t,this._73&&(this._73._hk(),delete this._73),t==Oa.NAVIGATION_SCROLLBAR?void(this._73=new as(this,this._lwl)):t==Oa.NAVIGATION_BUTTON?void(this._73=new os(this,this._lwl)):void 0):!1},_2h:function(t,i){this._73&&this._73._jq(),this._k1._49(new Io(this._k1,"transform",t,i))},_71:function(t,i){this._k1._49(new Io(this._k1,"scale",t,i))},_3n:function(t,i){this._89Changed={value:t,old:i}},_70:function(){this._6y()}});Object.defineProperties(Dh.prototype,{_viewportBounds:{get:function(){return this.viewportBounds}},_scale:{get:function(){return this.scale},set:function(t){this._fj(t)}},_tx:{get:function(){return this.tx}},_ty:{get:function(){return this.ty}},graphModel:{get:function(){return this._k1._k1Model}}});var Ch={};Ch.create=function(){return[1,0,0,1,0,0]},Ch.invert=function(t,i){var e=i[0],n=i[1],r=i[2],s=i[3],o=i[4],a=i[5],h=e*s-n*r;return h?(h=1/h,t[0]=s*h,t[1]=-n*h,t[2]=-r*h,t[3]=e*h,t[4]=(r*a-s*o)*h,t[5]=(n*o-e*a)*h,t):null},Ch.multiply=function(t,i,e){var n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],h=i[5],l=e[0],_=e[1],u=e[2],f=e[3],c=e[4],d=e[5];return t[0]=n*l+s*_,t[1]=r*l+o*_,t[2]=n*u+s*f,t[3]=r*u+o*f,t[4]=n*c+s*d+a,t[5]=r*c+o*d+h,t},Ch.mul=Ch.multiply,Ch.rotate=function(t,i,e){var n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],h=i[5],l=Math.sin(e),_=Math.cos(e);return t[0]=n*_+s*l,t[1]=r*_+o*l,t[2]=n*-l+s*_,t[3]=r*-l+o*_,t[4]=a,t[5]=h,t},Ch.scale=function(t,i,e){var n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],h=i[5],l=e[0],_=e[1];return t[0]=n*l,t[1]=r*l,t[2]=s*_,t[3]=o*_,t[4]=a,t[5]=h,t},Ch.translate=function(t,i,e){var n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],h=i[5],l=e[0],_=e[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=n*l+s*_+a,t[5]=r*l+o*_+h,t},Ch.transform=function(t,i){var e=i[0],n=i[1];return[e*t[0]+n*t[2]+t[4],e*t[1]+n*t[3]+t[5]]},Ch.reverseTransform=function(t,i){return Ch.transform(Ch.invert([],t),i)};var Rh=Math.PI+Math.PI,Ph=M,Nh=S({equals:function(t){if(!t||!Array.isArray(t))return!1;for(var i=this.m,e=0;e<i.length;){if(i[e]!=t[e])return!1;++e}return!0},constructor:function(t){this.m=t||Ch.create(),this.im=[]},listener:null,_66:!0,invalidate:function(){return this._66=!0,this._lxackM&&this.equals(this._lxackM)?!1:(this.listener&&this.listener({target:this,kind:"invalidate"}),this._lxackM=this.m.slice(),this)},validate:function(){return this._66=!1,Ch.invert(this.im,this.m),this},translate:function(t,i){return Ph(t)&&(t=[arguments[0],arguments[1]],i=arguments[2]),i!==!1?(this.m[4]+=t[0],this.m[5]+=t[1],this.invalidate()):(Ch.translate(this.m,this.m,t),this.invalidate())},translateTo:function(t,i){return Ph(t)&&(t=[arguments[0],arguments[1]],i=arguments[2]),i&&(i/=this._g5(),Ch.scale(this.m,this.m,[i,i])),this.m[4]=t[0],this.m[5]=t[1],this.invalidate()},scale:function(t,i){return"number"==typeof t&&(t=[t,t]),i?(Ch.translate(this.m,this.m,i),Ch.scale(this.m,this.m,t),Ch.translate(this.m,this.m,ln(i))):Ch.scale(this.m,this.m,t),this.invalidate()},rotate:function(t,i){return i?(Ch.translate(this.m,this.m,i),Ch.rotate(this.m,this.m,t),Ch.translate(this.m,this.m,ln(i))):Ch.rotate(this.m,this.m,t),this.invalidate()},transform:function(t){return Ch.transform(this.m,t)},reverseTransform:function(t){return Ch.transform(this._3z(),t)},toString:function(){return"matrix("+this.m.join(",")+")"},_3z:function(){return this._66&&this.validate(),this.im},_dg:function(){var t=this.m[0],i=this.m[1],e=this.m[2],n=this.m[3];return[Math.sqrt(t*t+e*e),Math.sqrt(i*i+n*n)]},_g5:function(){var t=this.m[0],i=this.m[2];return Math.sqrt(t*t+i*i)},_8s:function(){return[this.m[4],this.m[5]]},_lxz:function(){var t=this.m[0],i=this.m[1],e=this.m[2],n=this.m[3];return[_n(Math.atan2(i,n)),_n(Math.atan2(-e,t))]},_dn:function(){return _n(Math.atan2(this.m[1],this.m[3]))}}),kh=S({constructor:function(){},x:0,y:0,width:0,height:0,rotate:0,set:function(t,i,e,n,r,s){return this.x=t,this.y=i,this.width=e,this.height=n,this.rotate=r,this._lzos=Math.cos(r),this._sin=Math.sin(r),this.scale=s,this._globalBounds=null,this},_hj:function(t,i){return t-=this.x,i-=this.y,this.rotate?cn(t,i,this._sin,this._lzos):[t,i]},_8r:function(t){var i=new Eo;return i.add(this._hj(t.x,t.y)),i.add(this._hj(t.x+t.width,t.y)),i.add(this._hj(t.x,t.y+t.height)),i.add(this._hj(t.x+t.width,t.y+t.height)),i},_gd:function(t,i){if(this.rotate){var e=cn(t,i,Math.sin(-this.rotate),Math.cos(-this.rotate));t=e[0],i=e[1]}return[this.x+t,this.y+i]},_5t:function(t,i){var e=this._hj(t,i);return t=e[0],i=e[1],t>=0&&i>=0&&t<=this.width&&i<=this.height},intersects:function(t,i,e,n){if(!this.rotate)return Eo.intersects(this.x,this.y,this.width,this.height,t,i,e,n);if(!e||!n)return this._5t(t,i);var r=this.getGlobalBounds();if(!r.intersects(t,i,e,n))return!1;for(var s=r.points,o=0;o<s.length;){var a=s[o];if(Eo.intersectsPoint(t,i,e,n,a[0],a[1]))return!0;o++}var h=[[t,i],[t+e,i],[t,i+n],[t+e,i+n]];for(o=0;o<h.length;){var a=h[o];if(this._5t(a[0],a[1]))return!0;o++}return fn(s,h)},getGlobalBounds:function(){return this._globalBounds||(this._globalBounds=this._6n(0,0,this.width,this.height)),this._globalBounds},_6n:function(t,i,e,n){if(!this.rotate)return new Eo(this.x+t,this.y+i,e,n);var r=[],s=new Eo,o=this._gd(t,i);return r.push(o),s.add(o[0],o[1]),o=this._gd(t+e,i),r.push(o),s.add(o[0],o[1]),o=this._gd(t,i+n),r.push(o),s.add(o[0],o[1]),o=this._gd(t+e,i+n),r.push(o),s.add(o[0],o[1]),s.points=r,s},_4j:function(t,i,e,n,r){var s;if(this.rotate){var o=this._gd(t,i);s=(new kh).set(o[0],o[1],e,n,this.rotate,this.scale)}else s=(new kh).set(this.x+t,this.y+i,e,n,0,this.scale);return s.canvasBounds=[Math.round(r*t),Math.round(r*i),Math.round(r*e),Math.round(r*n)],s},_3t:function(t,i,e,n){if(!this.rotate){var r=Eo.intersection(this.x,this.y,this.width,this.height,t,i,e,n);return r&&r.offset(-this.x,-this.y),r}var s=this._hj(t,i);return t=s[0],i=s[1],Eo.intersection(0,0,this.width,this.height,s[0],s[1],e,n)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height&&this.rotate==t.rotate},toString:function(){return this.x+","+this.y+","+this.width+","+this.height+","+this.rotate},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,rotate:this.rotate,scale:this.scale}}}),Mh={setStyle:pi,setStyles:gi,addRule:yi,pre:Uo},Bh=function(t,i,e,n){this.source=t,this.kind=i,this.oldValue=n,this.value=e,this.propertyType=Oa.PROPERTY_TYPE_STYLE};w(Bh,Io);var zh=function(t){this.id=++Hs,this._lz0={},this._iy={},t&&(this.$name=t)};zh.prototype={_iy:null,getStyle:function(t){return this._iy[t]},setStyle:function(t,i){var e=this._iy[t];return e===i||e&&i&&e.equals&&e.equals(i)?!1:this._lx8(t,i,new Bh(this,t,i,e),this._iy)},putStyles:function(t,i){for(var e in t){var n=t[e];i?this._iy[e]=n:this.setStyle(e,n)}},_$n:!0,invalidateVisibility:function(t){this._$n=!0,t||(this instanceof Fh&&this.hasEdge()&&this.forEachEdge(function(t){t._$n=!0}),this._ht()&&this.hasChildren()&&this.forEachChild(function(t){t.invalidateVisibility()}))},onParentChanged:function(){this.invalidateVisibility()},_ht:function(){return!this._3w&&this instanceof Yh},invalidate:function(){this.onEvent(new So(this,"ui","invalidate"))},_lxx:null,addUI:function(t,i){if(this._lxx||(this._lxx=new lo),t.id||(t.id=++Hs),this._lxx.containsById(t.id))return!1;var e={id:t.id,ui:t,bindingProperties:i};this._lxx.add(e);var n=new So(this,"ui","add",e);return this.onEvent(n)},removeUI:function(t){if(!this._lxx)return!1;var i=this._lxx.getById(t.id||t);return i?(this._lxx.remove(i),void this.onEvent(new So(this,"ui","remove",i))):!1},clearUIs:function(){this.bindingUIs&&this.bindingUIs.toDatas().forEach(function(t){this.removeUI(t.ui)}.bind(this))},toString:function(){return this.$name||this.id},type:"Q.Element",_3w:!1,_hh:!0,inGroup:function(t){var i=mn(this);return i==t||i&&t instanceof Yh&&i.isDescendantOf(t)}},w(zh,Go),D(zh.prototype,["uiClass","name","zIndex","tooltip"]),Z(zh.prototype,{enableSubNetwork:{get:function(){return this._3w},set:function(t){if(this._3w!=t){var i=this._3w;this._3w=t,this instanceof Fh&&this._$x(),this.onEvent(new Io(this,"enableSubNetwork",t,i))}}},bindingUIs:{get:function(){return this._lxx}},styles:{get:function(){return this._iy},set:function(t){if(this._iy!=t){for(var i in this._iy)i in t||(t[i]=e);this.putStyles(t),this._iy=t}}}}),xa.findGroup=mn;var Gh=function(t,i,e){this.id=++Hs,this._lz0={},this._iy={},e&&(this.$name=e),this.$from=t,this.$to=i,this.connect()};Gh.prototype={$uiClass:cr,_ip:null,_i7:null,_it:null,_i6:null,_e2:!1,type:"Q.Edge",otherNode:function(t){return t==this.from?this.to:t==this.to?this.from:void 0},connect:function(){if(this._e2)return!1;if(!this.$from||!this.$to)return!1;if(this._e2=!0,this.$from==this.$to)return void this.$from._hw(this);Cn(this.$to,this),In(this.$from,this),vn(this.$from,this,this.$to);var t=this.fromAgent,i=this.toAgent;if(t!=i){var e;this.$from._dx&&(En(t,this,i),e=!0),this.$to._dx&&(yn(i,this,t),e=!0),e&&vn(t,this,i)}},disconnect:function(){if(!this._e2)return!1;if(this._e2=!1,this.$from==this.$to)return void this.$from._lz6(this);Dn(this.$from,this),Rn(this.$to,this),gn(this.$from,this,this.$to);var t=this.fromAgent,i=this.toAgent;if(t!=i){var e;this.$from._dx&&(pn(t,this,i),e=!0),this.$to._dx&&(Tn(i,this,t),e=!0),e&&gn(t,this,i)}},isConnected:function(){return this._e2},isInvalid:function(){return!this.$from||!this.$to},isLooped:function(){return this.$from==this.$to},getEdgeBundle:function(t){return t?this._30():this.isLooped()?this.$from._3x:this.$from.getEdgeBundle(this.$to)},hasEdgeBundle:function(){var t=this.getEdgeBundle(!0);return t&&t.edges.length>1},_30:function(){var t=this.fromAgent,i=this.toAgent;return t==i?this.$from._dx||this.$to._dx?null:this.$from._3x:this.fromAgent.getEdgeBundle(this.toAgent)},_8x:null,hasPathSegments:function(){return this._8x&&!this._8x.isEmpty()},isBundleEnabled:function(){return this.bundleEnabled&&!this.hasPathSegments()&&!this.edgeType},firePathChange:function(t){this.onEvent(new Io(this,"path.segment",t))},addPathSegment:function(t,i,e){var n=new sh(i||th,t);this._8x||(this._8x=new lo),this._8x.add(n,e),this.firePathChange(n)},addPathSegement:function(){return xa.log('change "edge.addPathSegement(...)" to "edge.addPathSegment(...)"'),this.addPathSegment.apply(this,arguments)},removePathSegmentByIndex:function(t){if(!this._8x)return!1;var i=this._8x.getByIndex(t);i&&(this._8x.remove(i),this.firePathChange(i))},removePathSegment:function(t){return this._8x?(this._8x.remove(t),void this.firePathChange(t)):!1},movePathSegment:function(t,i,e){if(!this._8x)return!1;if(t=t||0,i=i||0,xa.isNumber(e)){var n=this._8x.getByIndex(e);return n?(n.move(t,i),void this.firePathChange()):!1}d(function(e){e.move(t,i)}),this.firePathChange()},move:function(t,i){return this._8x?(this._8x.forEach(function(e){e.move(t,i)},this),void this.firePathChange()):!1},validateEdgeBundle:function(){}},w(Gh,zh),Z(Gh.prototype,{pathSegments:{get:function(){return this._8x},set:function(t){xa.isArray(t)&&(t=new lo(t)),this._8x=t,this.firePathChange()}},from:{get:function(){return this.$from},set:function(t){if(this.$from!=t){var i=new Io(this,"from",t,this.$from);this.beforeEvent(i)!==!1&&(this.disconnect(),this.$from=t,this.connect(),this.onEvent(i))}}},to:{get:function(){return this.$to},set:function(t){if(this.$to!=t){var i=new Io(this,"to",t,this.$to);this.beforeEvent(i)!==!1&&(this.disconnect(),this.$to=t,this.connect(),this.onEvent(i))}}},fromAgent:{get:function(){return this.$from?this.$from._dx||this.$from:null}},toAgent:{get:function(){return this.$to?this.$to._dx||this.$to:null}}}),D(Gh.prototype,["edgeType",{name:"bundleEnabled",value:!0},"angle"]);var Fh=function(t,i,e){2==arguments.length&&M(t)&&(e=i,i=t,t=null),this.id=++Hs,this._lz0={},this._iy={},t&&(this.$name=t),this.$image="Q-node",this.$anchorPosition=yo.CENTER_MIDDLE,this.$location={x:i||0,y:e||0},this._linkedNodes={}};Fh.prototype={$uiClass:dr,_dx:null,forEachEdge:function(t,i,e){return!e&&this._jy&&this._jy.forEach(t,i)===!1?!1:Nn(this,t,i)},forEachOutEdge:function(t,i){return kn(this,t,i)},forEachInEdge:function(t,i){return Mn(this,t,i)},getEdges:function(){var t=[];return this.forEachEdge(function(i){t.push(i)}),t},_hz:null,_fc:null,_j9:null,_hy:null,_lwz:0,_9k:0,hasInEdge:function(){return null!=this._hz},hasOutEdge:function(){return null!=this._fc},hasEdge:function(){return null!=this._hz||null!=this._fc||this.hasLoops()},linkedWith:function(t){return t.from==this||t.to==this||t.fromAgent==this||t.toAgent==this},hasEdgeWith:function(t){var i=this.getEdgeBundle(t);return i&&i.edges.length>0},_jy:null,_3x:null,hasLoops:function(){return this._jy&&this._jy.length>0},_hw:function(t){return this._jy||(this._jy=new lo,this._3x=new s_(this,this,this._jy)),this._3x._ik(t)},_lz6:function(t){return this._3x?this._3x._lz8(t):void 0},getEdgeBundle:function(t){return t==this?this._3x:this._linkedNodes[t.id]||t._linkedNodes[this.id]},_6j:function(){return this._9d&&this._9d.length},_4y:function(){return this._81&&this._81.length},_9h:function(){return this._6j()||this._4y()},_81:null,_9d:null,_lz7:function(){var t=this._dx,i=dn(this);if(t!=i){var e=Pn(this);this._98(i),e.forEach(function(t){var i=t.fromAgent,e=t.toAgent,t=t.edge,n=t.$from._dx,r=t.$to._dx;i!=e&&(i&&pn(i,t,e||t.$to),e&&Tn(e,t,i||t.$from)),n!=r&&(n&&En(n,t,r||t.$to),r&&yn(r,t,n||t.$from),vn(n||t.$from,t,r||t.$to))},this)}},onParentChanged:function(){xa.doSuper(this,Fh,"onParentChanged",arguments),this._lz7()},_82:null,_$x:function(){var t;if(this._3w?t=null:(t=this._dx,t||this._gg!==!1||(t=this)),this._82==t)return!1;if(this._82=t,this._fy&&this._fy._j7.length)for(var i,e=this._fy._j7,n=0,r=e.length;r>n;n++)i=e[n],i instanceof Fh&&i._98(t)},setLocation:function(t,i){if(this.$location&&this.$location.x==t&&this.$location.y==i)return!1;var e;e=this.$location?{x:this.$location.x,y:this.$location.y}:this.$location;var n=new Io(this,"location",e,{x:t,y:i});return this.beforeEvent(n)===!1?!1:(this.$location?(this.$location.x=t,this.$location.y=i):this.$location=new fo(t,i),this.onEvent(n),!0)},_e1:null,addFollower:function(t){return null==t?!1:t.host=this},removeFollower:function(t){return this._e1&&this._e1.contains(t)?t.host=null:!1},hasFollowers:function(){return this._e1&&!this._e1.isEmpty()},toFollowers:function(){return this.hasFollowers()?this._e1.toDatas():null
},clearFollowers:function(){if(this.hasFollowers()){{this.toFollowers()}d(this.toFollowers(),function(t){t.host=null})}},getFollowerIndex:function(t){return this._e1&&this._e1.contains(t)?this._e1.indexOf(t):-1},setFollowerIndex:function(t,i){return this._e1&&this._e1.contains(t)?void this._e1.setIndex(t,i):-1},getFollowerCount:function(){return this._e1?this._e1.length:0},_9c:function(){return this._e1?this._e1:(this._e1=new lo,this._e1)},isFollow:function(t){if(!t||!this._host)return!1;for(var i=this._host;i;){if(i==t)return!0;i=i._host}return!1},_98:function(t){return t==this._dx?!1:(this._dx=t,this.invalidateVisibility(),void this._$x())},type:"Q.Node"},w(Fh,zh),Z(Fh.prototype,{loops:{get:function(){return this._jy}},edgeCount:{get:function(){return this._lwz+this._9k}},agentNode:{get:function(){return this._dx||this}},host:{set:function(t){if(this==t||t==this._host)return!1;var i=new Io(this,"host",this._host,t);if(!1===this.beforeEvent(i))return!1;var e=null,n=null,r=this._host;if(null!=t&&(e=new Io(t,"follower.add",null,this),!1===t.beforeEvent(e)))return!1;if(null!=r&&(n=new Io(r,"follower.remove",null,this),!1===r.beforeEvent(n)))return!1;if(this._host=t,null!=t){var s=t._9c();s.add(this)}if(null!=r){var s=r._9c();s.remove(this)}return this.onEvent(i),null!=t&&t.onEvent(e),null!=r&&r.onEvent(n),!0},get:function(){return this._host}}}),D(Fh.prototype,["location","size","image","rotate","anchorPosition"]),Z(Fh.prototype,{x:{get:function(){return this.location.x},set:function(t){t!=this.location.x&&(this.location=new fo(t,this.location.y))}},y:{get:function(){return this.location.y},set:function(t){t!=this.location.y&&(this.location=new fo(this.location.x,t))}}});var $h=function(t,i){t instanceof ah&&(i=t,t=e),x(this,$h,[t]),this.path=i||new ah,this.anchorPosition=null,this.uiClass=hs,ho.SHAPENODE_STYLES||(ho.SHAPENODE_STYLES={},ho.SHAPENODE_STYLES[Wh.ARROW_TO]=!1),this.putStyles(ho.SHAPENODE_STYLES)};$h.prototype={$uiClass:hs,type:"Q.ShapeNode",moveTo:function(t,i){this.path.moveTo(t,i),this.firePathChange()},lineTo:function(t,i){this.path.lineTo(t,i),this.firePathChange()},quadTo:function(t,i,e,n){this.path.quadTo(t,i,e,n),this.firePathChange()},curveTo:function(t,i,e,n,r,s){this.path.curveTo(t,i,e,n,r,s),this.firePathChange()},arcTo:function(t,i,e,n,r){this.path.arcTo(t,i,e,n,r),this.firePathChange()},closePath:function(){this.path.closePath(),this.firePathChange()},clear:function(){this.path.clear(),this.firePathChange()},removePathSegmentByIndex:function(t){this.path.removePathSegment(t)!==!1&&this.firePathChange()},firePathChange:function(){this.path._66=!0,this.onEvent(new Io(this,"path.segment"))},addPathSegment:function(t,i,e){this.path.add(new sh(i||th,t),e),this.firePathChange()}},w($h,Fh),Z($h.prototype,{path:{get:function(){return this.image},set:function(t){this.image=t}},pathSegments:{get:function(){return this.path.segments},set:function(t){this.path.segments=t||[],this.firePathChange()}},length:{get:function(){return this.path.length}}}),xa.ShapeNode=$h;var jh={_jj:{},register:function(t,i){jh._jj[t]=i},getShape:function(t,i,n,r,s,o){r===e&&(r=i,s=n,i=0,n=0),r||(r=50),s||(s=50);var a=jh._jj[t];return a?a.generator instanceof Function?a.generator(i,n,r,s,o):a:void 0},getRect:function(t,i,e,n,r,s,o){return t instanceof Object&&"width"in t&&(i=t.y,e=t.width,n=t.height,r=t.rx,s=t.ry,o=t.path,t=t.x),Bn(o||new ah,t,i,e,n,r,s)},getAllShapes:function(t,i,e,n,r){var s={};for(var o in jh._jj){var a=jh.getShape(o,t,i,e,n,r);a&&(s[o]=a)}return s},createRegularShape:function(t,i,e,n,r){return Hn(t,i,e,n,r)}};nr(),rr.prototype={type:"Q.Bus"},w(rr,$h),xa.Bus=rr,sr.prototype={_gm:function(t){var i,e=t._jm;i=e?e._fy:this.$roots;var n=i.indexOf(t);if(0>n)throw new Error("data '"+t+"' not exist in the box");for(;n>=0;){if(0==n)return e instanceof Fh?e:null;n-=1;var s=i.getByIndex(n);if(s=r(s))return s}return null},forEachNode:function(t,i){this.forEach(function(e){return e instanceof Fh&&t.call(i,e)===!1?!1:void 0})},_31:null},w(sr,$o),Z(sr.prototype,{propertyChangeDispatcher:{get:function(){return this._$m}},currentSubNetwork:{get:function(){return this._31},set:function(t){if(t&&!t.enableSubNetwork&&(t=null),this._31!=t){var i=this._31;this._31=t,this._$m.onEvent(new Io(this,"currentSubNetwork",t,i))}}}}),ho.GROUP_TYPE=Oa.GROUP_TYPE_RECT,ho.GROUP_PADDING=5,ho.GROUP_EXPANDED=!0,ho.GROUP_MIN_SIZE={width:60,height:60};var Yh=function(t,i,n){x(this,Yh,arguments),(i===e||n===e)&&(this.$location.invalidateFlag=!0),this.$groupType=ho.GROUP_TYPE,this.$padding=ho.GROUP_PADDING,this.$image=_h.group,this.$minSize=ho.GROUP_MIN_SIZE,this.expanded=ho.GROUP_EXPANDED};Yh.prototype={type:"Q.Group",$uiClass:ns,_9s:function(){return!this._gg&&!this._dx},forEachOutEdge:function(t,i,e){if(kn(this,t,i)===!1)return!1;if(!e&&this._9s())return this._81?this._81.forEach(t,i):void 0},forEachInEdge:function(t,i,e){if(Mn(this,t,i)===!1)return!1;if(!e&&this._9s())return this._9d?this._9d.forEach(t,i):void 0},forEachEdge:function(t,i,e){if(O(this,Yh,"forEachEdge",arguments)===!1)return!1;if(!e&&!e&&this._9s())return this._9d&&this._9d.forEach(t,i)===!1?!1:this._81?this._81.forEach(t,i):void 0},hasInEdge:function(t){return t?null!=this._hz:null!=this._hz||this._6j()},hasOutEdge:function(t){return t?null!=this._fc:null!=this._fc||this._4y()},hasEdge:function(t){return t?null!=this._hz||null!=this._fc:null!=this._hz||null!=this._fc||this._9h()}},w(Yh,Fh),Z(Yh.prototype,{expanded:{get:function(){return this._gg},set:function(t){if(this._gg!=t){var i=new Io(this,"expanded",t,this._gg);this.beforeEvent(i)!==!1&&(this._gg=t,this._$x(),this.onEvent(i),this._dx||or.call(this))}}}}),D(Yh.prototype,["minSize","groupType","padding","groupImage"]),xa.Group=Yh,ar.prototype.type="Q.Text",w(ar,Fh),xa.Text=ar;var Hh=function(t){this._ja=new Eo,this._7u=new Eo,this._fl=new Eo,this.id=++Hs,t&&(this.data=t)};Hh.prototype={invalidate:function(){this.invalidateData()},_1a:!0,_ja:null,_7u:null,_fl:null,_lwo:!1,_jk:1,_jl:1,_hh:!0,_7r:0,_7e:0,_jm:null,_lx5:null,borderColor:"#444",borderLineDash:null,borderLineDashOffset:null,syncSelection:!0,syncSelectionStyles:!0,_14:function(){this.$anchorPoint=ui(this.anchorPosition,this._7r,this._7e)},setMeasuredBounds:function(t,i,e,n){return t instanceof Object&&(e=t.x,n=t.y,i=t.height,t=t.width),this._ja.width==t&&this._ja.height==i&&this._ja.x==e&&this._ja.y==n?!1:void this._ja.set(e||0,n||0,t||0,i||0)},initialize:function(){},measure:function(){},draw:function(){},_7s:function(t,i,e){e.selectionType==Oa.SELECTION_TYPE_SHADOW?(t.shadowColor=e.selectionColor,t.shadowBlur=e.selectionShadowBlur*i,t.shadowOffsetX=(e.selectionShadowOffsetX||0)*i,t.shadowOffsetY=(e.selectionShadowOffsetY||0)*i):this._1u(t,i,e)},_1u:function(t,i,e){var n=e.selectionBorder||0;e.selectionBackgroundColor&&(t.fillStyle=e.selectionBackgroundColor,t.fillRect(this._7u.x-n/2,this._7u.y-n/2,this._7u.width+n,this._7u.height+n)),t.strokeStyle=e.selectionColor,t.lineWidth=n,t.strokeRect(this._7u.x-n/2,this._7u.y-n/2,this._7u.width+n,this._7u.height+n)},_jb:function(t,i,e,n){if(!this._hh)return!1;if(this.syncSelection||(e=this.selected),(e&&!this.syncSelectionStyles||!n)&&(n=this),t.save(),1!=this.$alpha&&(t.globalAlpha=this.$alpha),t.translate(this.$x,this.$y),this.$rotatable&&this.$_hostRotate&&t.rotate(this.$_hostRotate),(this.offsetX||this.offsetY)&&t.translate(this.offsetX,this.offsetY),this.$rotate&&t.rotate(this.$rotate),this.$layoutByAnchorPoint&&this._lx5&&t.translate(-this._lx5.x,-this._lx5.y),this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur*i,t.shadowOffsetX=this.shadowOffsetX*i,t.shadowOffsetY=this.shadowOffsetY*i),e&&n.selectionType==Oa.SELECTION_TYPE_BORDER_RECT&&(this._1u(t,i,n),e=!1),this._$p()&&this._l1Shape&&!this._l1Shape._empty){this._l1Shape.validate();var r={lineWidth:this.$border,strokeStyle:this.borderColor,lineDash:this.borderLineDash,lineDashOffset:this.borderLineDashOffset,fillColor:this.$backgroundColor,fillGradient:this._lxackgroundGradient,lineCap:"butt",lineJoin:"round"};this._l1Shape.draw(t,i,r,e,n),e=!1,t.shadowColor="rgba(0,0,0,0)"}t.beginPath(),this.draw(t,i,e,n),t.restore()},invalidateData:function(){this.$invalidateData=!0,this.$invalidateSize=!0,this._1a=!0},invalidateSize:function(){this.$invalidateSize=!0,this._1a=!0},invalidateRender:function(){this._1a=!0},_54:function(){},_$p:function(){return this.$backgroundColor||this.$backgroundGradient||this.$border},_4b:function(){return this.$backgroundColor||this.$backgroundGradient},doValidate:function(){return this.$invalidateData&&(this.$invalidateData=!1,this.measure()!==!1&&(this.$invalidateSize=!0)),this.$invalidateSize&&this.validateSize&&this.validateSize(),Ze.call(this)?(this.$invalidateRotate=!0,this.onBoundsChanged&&this.onBoundsChanged(),!0):this.$invalidateLocation?(this.$invalidateRotate=!0,this.$invalidateLocation=!1,!0):void 0},validate:function(){var t=this._hh;return this.$invalidateVisibility&&(this.$invalidateVisibility=!1,this._hh=this.$visible,!this._hh||(this.$data||this.$showEmpty)&&this._54()!==!1||(this._hh=!1)),this._hh?(this._1a=!1,this._lwo||(this.initialize(),this._lwo=!0),this.doValidate()):t!=this._hh},_hj:function(t,i){return t-=this.$x,i-=this.$y,Ke.call(this,{x:t,y:i})},hitTest:function(t,i,e,n){if(t-=this.$x,i-=this.$y,!this._fl.intersectsPoint(t,i,e))return!1;var r=Ke.call(this,{x:t,y:i});return t=r.x,i=r.y,!n&&this._$p()&&this._l1Shape&&this._l1Shape.hitTest(t,i,e,!1,this.$border,this.$backgroundColor||this.$backgroundGradient)?!0:this.doHitTest(t,i,e)},doHitTest:function(t,i,e){return this._ja.intersectsPoint(t,i,e)},hitTestByBounds:function(t,i,e,n){var r=this._hj(t,i);return!n&&this._$p()&&this._l1Shape&&this._l1Shape.hitTest(t,i,e,!1,this.$border,this.$backgroundColor||this.$backgroundGradient)?!0:this._ja.intersectsPoint(r.x,r.y,e)},onDataChanged:function(){this.$invalidateData=!0,this._1a=!0,this.$invalidateVisibility=!0},getBounds:function(){var t=this._fl.clone();return t.offset(this.x,this.y),this.parent&&(this.parent.rotate&&Ri(t,this.parent.rotate,t),t.offset(this.parent.x||0,this.parent.y||0)),t},destroy:function(){this._hked=!0},_dy:!1},Z(Hh.prototype,{originalBounds:{get:function(){return this._ja}},data:{get:function(){return this.$data},set:function(t){if(this.$data!=t){var i=this.$data;this.$data=t,this.onDataChanged(t,i)}}},parent:{get:function(){return this._jm}},showOnTop:{get:function(){return this._dy},set:function(t){t!=this._dy&&(this._dy=t,this._1a=!0,this._jm&&this._jm._lxr&&this._jm._lxr(this))}}}),lr(Hh.prototype,{visible:{value:!0,validateFlags:["Visibility","Location"]},showEmpty:{validateFlags:["Visibility"]},anchorPosition:{value:yo.CENTER_MIDDLE,validateFlags:["AnchorPoint","Location"]},position:{value:yo.CENTER_MIDDLE,validateFlags:["Location"]},offsetX:{value:0,validateFlags:["Location"]},offsetY:{value:0,validateFlags:["Location"]},layoutByAnchorPoint:{value:!0,validateFlags:["Size","AnchorPoint","Location"]},padding:{value:0,validateFlags:["Size"]},border:{value:0,validateFlags:["Size"]},borderRadius:{value:ho.BORDER_RADIUS},showPointer:{value:!1,validateFlags:["Size"]},pointerX:{value:0,validateFlags:["Size"]},pointerY:{value:0,validateFlags:["Size"]},pointerWidth:{value:ho.POINTER_WIDTH},backgroundColor:{validateFlags:["Size"]},backgroundGradient:{validateFlags:["Size","BackgroundGradient"]},selected:{value:!1,validateFlags:["Size"]},selectionBorder:{value:ho.SELECTION_BORDER,validateFlags:["Size"]},selectionShadowBlur:{value:ho.SELECTION_SHADOW_BLUR,validateFlags:["Size"]},selectionColor:{value:ho.SELECTION_COLOR,validateFlags:["Size"]},selectionType:{value:ho.SELECTION_TYPE,validateFlags:["Size"]},selectionShadowOffsetX:{value:0,validateFlags:["Size"]},selectionShadowOffsetY:{value:0,validateFlags:["Size"]},shadowBlur:{value:0,validateFlags:["Size"]},shadowColor:{validateFlags:["Size"]},shadowOffsetX:{value:0,validateFlags:["Size"]},shadowOffsetY:{value:0,validateFlags:["Size"]},renderColorBlendMode:{},renderColor:{},x:{value:0,validateFlags:["Location"]},y:{value:0,validateFlags:["Location"]},rotatable:{value:!0,validateFlags:["Rotate","Size"]},rotate:{value:0,validateFlags:["Rotate","Size"]},_hostRotate:{validateFlags:["Rotate"]},lineWidth:{value:0,validateFlags:["Data"]},alpha:{value:1}});var Uh=[Oa.PROPERTY_TYPE_ACCESSOR,Oa.PROPERTY_TYPE_STYLE,Oa.PROPERTY_TYPE_CLIENT];ur.prototype={removeBinding:function(t){for(var i=Uh.length;--i>=0;){var e=Uh[i],n=this[e];for(var r in n){var s=n[r];Array.isArray(s)?(v(s,function(i){return i.target==t},this),s.length||delete n[r]):s.target==t&&delete n[r]}}},_1v:function(t,i,e){if(!e&&(e=this[i.propertyType||Oa.PROPERTY_TYPE_ACCESSOR],!e))return!1;var n=e[t];n?(Array.isArray(n)||(e[t]=n=[n]),n.push(i)):e[t]=i},_2f:function(t,i,e,n,r,s){t=t||Oa.PROPERTY_TYPE_ACCESSOR;var o=this[t];if(!o)return!1;var a={property:i,propertyType:t,bindingProperty:n,target:e,callback:r,invalidateSize:s};this._1v(i,a,o)},onBindingPropertyChange:function(t,i,e,n){var r=this[e||Oa.PROPERTY_TYPE_ACCESSOR];if(!r)return!1;var s=r[i];return s?(t._1a=!0,_r(t,s,e,n),!0):!1},initBindingProperties:function(t,i){for(var n=Uh.length;--n>=0;){var r=Uh[n],s=this[r];for(var o in s){var a=s[o];if(a.bindingProperty){var h=a.target;if(h){if(!(h instanceof Hh||(h=t[h])))continue}else h=t;var l;l=i===!1?t.getProperty(a.property,r):r==Oa.PROPERTY_TYPE_STYLE?t.graph.getStyle(t.$data,a.property):t.$data[a.property],l!==e&&(h[a.bindingProperty]=l)}}}}};var Wh={};Wh.SELECTION_COLOR="selection.color",Wh.SELECTION_BORDER="selection.border",Wh.SELECTION_SHADOW_BLUR="selection.shadow.blur",Wh.SELECTION_SHADOW_OFFSET_X="selection.shadow.offset.x",Wh.SELECTION_SHADOW_OFFSET_Y="selection.shadow.offset.y",Wh.SELECTION_TYPE="selection.type",Wh.RENDER_COLOR="render.color",Wh.RENDER_COLOR_BLEND_MODE="render.color.blend.mode",Wh.ALPHA="alpha",Wh.SHADOW_BLUR="shadow.blur",Wh.SHADOW_COLOR="shadow.color",Wh.SHADOW_OFFSET_X="shadow.offset.x",Wh.SHADOW_OFFSET_Y="shadow.offset.y",Wh.SHAPE_STROKE="shape.stroke",Wh.SHAPE_STROKE_STYLE="shape.stroke.style",Wh.SHAPE_LINE_FILL_COLOR="shape.stroke.fill.color",Wh.SHAPE_LINE_DASH="shape.line.dash",Wh.SHAPE_LINE_DASH_OFFSET="shape.line.dash.offset",Wh.SHAPE_FILL_COLOR="shape.fill.color",Wh.SHAPE_FILL_GRADIENT="shape.fill.gradient",Wh.SHAPE_OUTLINE="shape.outline",Wh.SHAPE_OUTLINE_STYLE="shape.outline.style",Wh.LAYOUT_BY_PATH="layout.by.path",Wh.BACKGROUND_COLOR="background.color",Wh.BACKGROUND_GRADIENT="background.gradient",Wh.BORDER="border.width",Wh.BORDER_COLOR="border.color",Wh.BORDER_LINE_DASH="border.line.dash",Wh.BORDER_LINE_DASH_OFFSET="border.line.dash.offset",Wh.BORDER_RADIUS="border.radius",Wh.PADDING="padding",Wh.LINE_CAP="line.cap",Wh.LINE_JOIN="line.join",Wh.LINE_DASH_CAP="line.dash.cap",Wh.LINE_DASH_JOIN="line.dash.join",Wh.IMAGE_BACKGROUND_COLOR="image.background.color",Wh.IMAGE_BACKGROUND_GRADIENT="image.background.gradient",Wh.IMAGE_BORDER="image.border.width",Wh.IMAGE_BORDER_STYLE=Wh.IMAGE_BORDER_COLOR="image.border.style",Wh.IMAGE_BORDER_LINE_DASH="image.border.line.dash",Wh.IMAGE_BORDER_LINE_DASH_OFFSET="image.border.line.dash.offset",Wh.IMAGE_RADIUS=Wh.IMAGE_BORDER_RADIUS="image.radius",Wh.IMAGE_PADDING="image.padding",Wh.IMAGE_Z_INDEX="image.z.index",Wh.IMAGE_ADJUST="image.adjust",Wh.IMAGE_ALPHA="image.alpha",Wh.LABEL_ROTATE="label.rotate",Wh.LABEL_POSITION="label.position",Wh.LABEL_VISIBLE="label.visible",Wh.LABEL_ANCHOR_POSITION="label.anchor.position",Wh.LABEL_COLOR="label.color",Wh.LABEL_FONT_SIZE="label.font.size",Wh.LABEL_FONT_FAMILY="label.font.family",Wh.LABEL_FONT_STYLE="label.font.style",Wh.LABEL_PADDING="label.padding",Wh.LABEL_POINTER_WIDTH="label.pointer.width",Wh.LABEL_POINTER="label.pointer",Wh.LABEL_RADIUS="label.radius",Wh.LABEL_OFFSET_X="label.offset.x",Wh.LABEL_OFFSET_Y="label.offset.y",Wh.LABEL_SIZE="label.size",Wh.LABEL_ALIGN_POSITION="label.align.position",Wh.LABEL_BORDER="label.border",Wh.LABEL_BORDER_STYLE="label.border.style",Wh.LABEL_BACKGROUND_COLOR="label.background.color",Wh.LABEL_BACKGROUND_GRADIENT="label.background.gradient",Wh.LABEL_ROTATABLE="label.rotatable",Wh.LABEL_SHADOW_BLUR="label.shadow.blur",Wh.LABEL_SHADOW_COLOR="label.shadow.color",Wh.LABEL_SHADOW_OFFSET_X="label.shadow.offset.x",Wh.LABEL_SHADOW_OFFSET_Y="label.shadow.offset.y",Wh.LABEL_Z_INDEX="label.z.index",Wh.LABEL_ON_TOP="label.on.top",Wh.GROUP_BACKGROUND_COLOR="group.background.color",Wh.GROUP_BACKGROUND_GRADIENT="group.background.gradient",Wh.GROUP_STROKE="group.stroke",Wh.GROUP_STROKE_STYLE="group.stroke.color",Wh.GROUP_STROKE_LINE_DASH="group.stroke.line.dash",Wh.GROUP_STROKE_LINE_DASH_OFFSET="group.stroke.line.dash.offset",Wh.EDGE_BUNDLE_LABEL_ROTATE="edge.bundle.label.rotate",Wh.EDGE_BUNDLE_LABEL_POSITION="edge.bundle.label.position",Wh.EDGE_BUNDLE_LABEL_ANCHOR_POSITION="edge.bundle.label.anchor.position",Wh.EDGE_BUNDLE_LABEL_COLOR="edge.bundle.label.color",Wh.EDGE_BUNDLE_LABEL_FONT_SIZE="edge.bundle.label.font.size",Wh.EDGE_BUNDLE_LABEL_FONT_FAMILY="edge.bundle.label.font.family",Wh.EDGE_BUNDLE_LABEL_FONT_STYLE="edge.bundle.label.font.style",Wh.EDGE_BUNDLE_LABEL_PADDING="edge.bundle.label.padding",Wh.EDGE_BUNDLE_LABEL_POINTER_WIDTH="edge.bundle.label.pointer.width",Wh.EDGE_BUNDLE_LABEL_POINTER="edge.bundle.label.pointer",Wh.EDGE_BUNDLE_LABEL_RADIUS="edge.bundle.label.radius",Wh.EDGE_BUNDLE_LABEL_OFFSET_X="edge.bundle.label.offset.x",Wh.EDGE_BUNDLE_LABEL_OFFSET_Y="edge.bundle.label.offset.y",Wh.EDGE_BUNDLE_LABEL_BORDER="edge.bundle.label.border",Wh.EDGE_BUNDLE_LABEL_BORDER_STYLE="edge.bundle.label.border.color",Wh.EDGE_BUNDLE_LABEL_BACKGROUND_COLOR="edge.bundle.label.background.color",Wh.EDGE_BUNDLE_LABEL_BACKGROUND_GRADIENT="edge.bundle.label.background.gradient",Wh.EDGE_BUNDLE_LABEL_ROTATABLE="edge.bundle.label.rotatable",Wh.EDGE_WIDTH="edge.width",Wh.EDGE_COLOR="edge.color",Wh.EDGE_OUTLINE="edge.outline",Wh.EDGE_OUTLINE_STYLE="edge.outline.style",Wh.EDGE_LINE_DASH="edge.line.dash",Wh.EDGE_LINE_DASH_OFFSET="edge.line.dash.offset",Wh.EDGE_FROM_OFFSET="edge.from.offset",Wh.EDGE_TO_OFFSET="edge.to.offset",Wh.EDGE_FILL_COLOR="edge.fill.color",Wh.EDGE_BUNDLE_TYPE="edge.bundle.type",Wh.EDGE_BUNDLE_GAP="edge.bundle.gap",Wh.EDGE_LOOPED_EXTAND="edge.looped.extand",Wh.EDGE_EXTEND="edge.extend",Wh.EDGE_CONTROL_POINT="edge.control.point",Wh.EDGE_SPLIT_BY_PERCENT="edge.split.by.percent",Wh.EDGE_SPLIT_PERCENT="edge.split.percent",Wh.EDGE_SPLIT_VALUE="edge.split.value",Wh.EDGE_CORNER="edge.corner",Wh.EDGE_CORNER_RADIUS="edge.corner.radius",Wh.EDGE_FROM_AT_EDGE="edge.from.at.edge",Wh.EDGE_TO_AT_EDGE="edge.to.at.edge",Wh.EDGE_FROM_PORT="edge.from.port",Wh.EDGE_TO_PORT="edge.to.port",Wh.ARROW_FROM="arrow.from",Wh.ARROW_FROM_SIZE="arrow.from.size",Wh.ARROW_FROM_OFFSET="arrow.from.offset",Wh.ARROW_FROM_STROKE="arrow.from.stroke",Wh.ARROW_FROM_STROKE_STYLE="arrow.from.stroke.style",Wh.ARROW_FROM_OUTLINE="arrow.from.outline",Wh.ARROW_FROM_OUTLINE_STYLE="arrow.from.outline.style",Wh.ARROW_FROM_LINE_DASH="arrow.from.line.dash",Wh.ARROW_FROM_LINE_DASH_OFFSET="arrow.from.line.dash.offset",Wh.ARROW_FROM_FILL_COLOR="arrow.from.fill.color",Wh.ARROW_FROM_FILL_GRADIENT="arrow.from.fill.gradient",Wh.ARROW_FROM_LINE_CAP="arrow.from.line.cap",Wh.ARROW_FROM_LINE_JOIN="arrow.from.line.join",Wh.ARROW_TO="arrow.to",Wh.ARROW_TO_SIZE="arrow.to.size",Wh.ARROW_TO_OFFSET="arrow.to.offset",Wh.ARROW_TO_STROKE="arrow.to.stroke",Wh.ARROW_TO_STROKE_STYLE="arrow.to.stroke.style",Wh.ARROW_TO_OUTLINE="arrow.to.outline",Wh.ARROW_TO_OUTLINE_STYLE="arrow.to.outline.style",Wh.ARROW_TO_LINE_DASH="arrow.to.line.dash",Wh.ARROW_TO_LINE_DASH_OFFSET="arrow.to.line.dash.offset",Wh.ARROW_TO_FILL_COLOR="arrow.to.fill.color",Wh.ARROW_TO_FILL_GRADIENT="arrow.to.fill.gradient",Wh.ARROW_TO_LINE_CAP="arrow.to.line.cap",Wh.ARROW_TO_LINE_JOIN="arrow.to.line.join";var Vh=new ur,Xh=Oa.PROPERTY_TYPE_ACCESSOR,qh=Oa.PROPERTY_TYPE_STYLE,Kh=!1;Vh._2f(qh,Wh.SELECTION_TYPE,null,"selectionType"),Vh._2f(qh,Wh.SELECTION_BORDER,null,"selectionBorder"),Vh._2f(qh,Wh.SELECTION_SHADOW_BLUR,null,"selectionShadowBlur"),Vh._2f(qh,Wh.SELECTION_COLOR,null,"selectionColor"),Vh._2f(qh,Wh.SELECTION_SHADOW_OFFSET_X,null,"selectionShadowOffsetX"),Vh._2f(qh,Wh.SELECTION_SHADOW_OFFSET_Y,null,"selectionShadowOffsetY"),Vh._2f(Xh,"name","label","data"),Vh._2f(qh,Wh.LABEL_VISIBLE,"label","visible"),Vh._2f(qh,Wh.LABEL_POSITION,"label","position"),Vh._2f(qh,Wh.LABEL_ANCHOR_POSITION,"label","anchorPosition"),Vh._2f(qh,Wh.LABEL_COLOR,"label","color"),Vh._2f(qh,Wh.LABEL_FONT_SIZE,"label","fontSize"),Vh._2f(qh,Wh.LABEL_BORDER,"label","border"),Vh._2f(qh,Wh.LABEL_BORDER_STYLE,"label","borderColor"),Vh._2f(qh,Wh.LABEL_BACKGROUND_COLOR,"label","backgroundColor"),Vh._2f(qh,Wh.LABEL_ON_TOP,"label","showOnTop"),Kh||(Vh._2f(qh,Wh.SHADOW_BLUR,null,"shadowBlur"),Vh._2f(qh,Wh.SHADOW_COLOR,null,"shadowColor"),Vh._2f(qh,Wh.SHADOW_OFFSET_X,null,"shadowOffsetX"),Vh._2f(qh,Wh.SHADOW_OFFSET_Y,null,"shadowOffsetY"),Vh._2f(qh,Wh.LABEL_FONT_FAMILY,"label","fontFamily"),Vh._2f(qh,Wh.LABEL_FONT_STYLE,"label","fontStyle"),Vh._2f(qh,Wh.LABEL_ALIGN_POSITION,"label","alignPosition"),Vh._2f(qh,Wh.LABEL_ROTATE,"label","rotate"),Vh._2f(qh,Wh.LABEL_PADDING,"label","padding"),Vh._2f(qh,Wh.LABEL_POINTER_WIDTH,"label","pointerWidth"),Vh._2f(qh,Wh.LABEL_POINTER,"label","showPointer"),Vh._2f(qh,Wh.LABEL_RADIUS,"label","borderRadius"),Vh._2f(qh,Wh.LABEL_OFFSET_X,"label","offsetX"),Vh._2f(qh,Wh.LABEL_OFFSET_Y,"label","offsetY"),Vh._2f(qh,Wh.LABEL_ROTATABLE,"label","rotatable"),Vh._2f(qh,Wh.LABEL_BACKGROUND_GRADIENT,"label","backgroundGradient"),Vh._2f(qh,Wh.LABEL_SIZE,"label","size"),Vh._2f(qh,Wh.LABEL_SHADOW_BLUR,"label","shadowBlur"),Vh._2f(qh,Wh.LABEL_SHADOW_COLOR,"label","shadowColor"),Vh._2f(qh,Wh.LABEL_SHADOW_OFFSET_X,"label","shadowOffsetX"),Vh._2f(qh,Wh.LABEL_SHADOW_OFFSET_Y,"label","shadowOffsetY"),Vh._2f(qh,Wh.LABEL_Z_INDEX,"label","zIndex"),Vh._2f(qh,Wh.RENDER_COLOR,null,"renderColor"),Vh._2f(qh,Wh.RENDER_COLOR_BLEND_MODE,null,"renderColorBlendMode"),Vh._2f(qh,Wh.ALPHA,null,"alpha"));var Zh=new ur;Zh._2f(Xh,"location"),Zh._2f(Xh,"anchorPosition",null,"_2l"),Zh._2f(Xh,"rotate",null,"rotate"),Kh||(Zh._2f(qh,Wh.BACKGROUND_COLOR,null,"backgroundColor"),Zh._2f(qh,Wh.BACKGROUND_GRADIENT,null,"backgroundGradient"),Zh._2f(qh,Wh.PADDING,null,"padding"),Zh._2f(qh,Wh.BORDER,null,"border"),Zh._2f(qh,Wh.BORDER_RADIUS,null,"borderRadius"),Zh._2f(qh,Wh.BORDER_COLOR,null,"borderColor"),Zh._2f(qh,Wh.BORDER_LINE_DASH,null,"borderLineDash"),Zh._2f(qh,Wh.BORDER_LINE_DASH_OFFSET,null,"borderLineDashOffset")),Zh._2f(Xh,"image","image","data","_lxv"),Zh._2f(Xh,"size","image","size"),Zh._2f(qh,Wh.SHAPE_STROKE,"image","lineWidth"),Zh._2f(qh,Wh.SHAPE_STROKE_STYLE,"image","strokeStyle"),Zh._2f(qh,Wh.SHAPE_FILL_COLOR,"image","fillColor"),Zh._2f(qh,Wh.LAYOUT_BY_PATH,"image","layoutByPath"),Kh||(Zh._2f(qh,Wh.IMAGE_ADJUST,"image","adjustType"),Zh._2f(qh,Wh.SHAPE_OUTLINE,"image","outline"),Zh._2f(qh,Wh.SHAPE_OUTLINE_STYLE,"image","outlineStyle"),Zh._2f(qh,Wh.SHAPE_FILL_GRADIENT,"image","fillGradient"),Zh._2f(qh,Wh.SHAPE_LINE_DASH,"image","lineDash"),Zh._2f(qh,Wh.SHAPE_LINE_DASH_OFFSET,"image","lineDashOffset"),Zh._2f(qh,Wh.LINE_CAP,"image","lineCap"),Zh._2f(qh,Wh.LINE_JOIN,"image","lineJoin"),Zh._2f(qh,Wh.IMAGE_BACKGROUND_COLOR,"image","backgroundColor"),Zh._2f(qh,Wh.IMAGE_BACKGROUND_GRADIENT,"image","backgroundGradient"),Zh._2f(qh,Wh.IMAGE_PADDING,"image","padding"),Zh._2f(qh,Wh.IMAGE_BORDER,"image","border"),Zh._2f(qh,Wh.IMAGE_BORDER_RADIUS,"image","borderRadius"),Zh._2f(qh,Wh.IMAGE_BORDER_COLOR,"image","borderColor"),Zh._2f(qh,Wh.IMAGE_BORDER_LINE_DASH,"image","borderLineDash"),Zh._2f(qh,Wh.IMAGE_BORDER_LINE_DASH_OFFSET,"image","borderLineDashOffset"),Zh._2f(qh,Wh.IMAGE_Z_INDEX,"image","zIndex"),Zh._2f(qh,Wh.IMAGE_ALPHA,"image","alpha")),Zh._2f(Xh,"expanded",null,null,"checkBody"),Zh._2f(Xh,"enableSubNetwork",null,null,"checkBody");var Jh=new ur;Jh._2f(Xh,"groupType",null,null,"_61"),Jh._2f(Xh,"groupImage",null,null,"_61"),Jh._2f(Xh,"minSize",null,null,"_61"),Jh._2f(Xh,"padding",null,null,"_61"),Jh._2f(qh,Wh.GROUP_BACKGROUND_COLOR,"shape","fillColor"),Jh._2f(qh,Wh.GROUP_BACKGROUND_GRADIENT,"shape","fillGradient"),Jh._2f(qh,Wh.GROUP_STROKE,"shape","lineWidth"),Jh._2f(qh,Wh.GROUP_STROKE_STYLE,"shape","strokeStyle"),Jh._2f(qh,Wh.GROUP_STROKE_LINE_DASH,"shape","lineDash"),Jh._2f(qh,Wh.GROUP_STROKE_LINE_DASH_OFFSET,"shape","lineDashOffset");var Qh=new ur;Qh._2f(Xh,"from","shape",null,"_4s"),Qh._2f(Xh,"to","shape",null,"_4s"),Qh._2f(Xh,"edgeType","shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_EXTEND,"shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_BUNDLE_TYPE,"shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_WIDTH,"shape","lineWidth"),Qh._2f(qh,Wh.EDGE_COLOR,"shape","strokeStyle"),Qh._2f(qh,Wh.ARROW_FROM,"shape","fromArrow"),Qh._2f(qh,Wh.ARROW_TO,"shape","toArrow"),Kh||(Qh._2f(qh,Wh.LINE_DASH_CAP,"shape","lineDashCap"),Qh._2f(qh,Wh.LINE_DASH_JOIN,"shape","lineDashJoin"),Qh._2f(qh,Wh.EDGE_FILL_COLOR,"shape","lineFillColor"),Qh._2f(qh,Wh.EDGE_FROM_AT_EDGE,null,"fromAtEdge","_4s"),Qh._2f(qh,Wh.EDGE_TO_AT_EDGE,null,"toAtEdge","_4s"),Qh._2f(qh,Wh.EDGE_OUTLINE,"shape","outline"),Qh._2f(qh,Wh.EDGE_OUTLINE_STYLE,"shape","outlineStyle"),Qh._2f(qh,Wh.EDGE_LINE_DASH,"shape","lineDash"),Qh._2f(qh,Wh.EDGE_LINE_DASH_OFFSET,"shape","lineDashOffset"),Qh._2f(qh,Wh.EDGE_CONTROL_POINT,"shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_FROM_OFFSET,"shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_TO_OFFSET,"shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_FROM_PORT,"shape",null,"_4s"),Qh._2f(qh,Wh.EDGE_TO_PORT,"shape",null,"_4s"),Qh._2f(qh,Wh.LINE_CAP,"shape","lineCap"),Qh._2f(qh,Wh.LINE_JOIN,"shape","lineJoin"),Qh._2f(Xh,"path.segment",null,null,"_4s",!0),Qh._2f(Xh,"angle",null,null,"_4s",!0),Qh._2f(qh,Wh.ARROW_FROM_SIZE,"shape","fromArrowSize"),Qh._2f(qh,Wh.ARROW_FROM_OFFSET,"shape","fromArrowOffset"),Qh._2f(qh,Wh.ARROW_FROM_STROKE,"shape","fromArrowStroke"),Qh._2f(qh,Wh.ARROW_FROM_STROKE_STYLE,"shape","fromArrowStrokeStyle"),Qh._2f(qh,Wh.ARROW_FROM_OUTLINE,"shape","fromArrowOutline"),Qh._2f(qh,Wh.ARROW_FROM_OUTLINE_STYLE,"shape","fromArrowOutlineStyle"),Qh._2f(qh,Wh.ARROW_FROM_FILL_COLOR,"shape","fromArrowFillColor"),Qh._2f(qh,Wh.ARROW_FROM_FILL_GRADIENT,"shape","fromArrowFillGradient"),Qh._2f(qh,Wh.ARROW_FROM_LINE_DASH,"shape","fromArrowLineDash"),Qh._2f(qh,Wh.ARROW_FROM_LINE_DASH_OFFSET,"shape","fromArrowLineDashOffset"),Qh._2f(qh,Wh.ARROW_FROM_LINE_JOIN,"shape","fromArrowLineJoin"),Qh._2f(qh,Wh.ARROW_FROM_LINE_CAP,"shape","fromArrowLineCap"),Qh._2f(qh,Wh.ARROW_TO_SIZE,"shape","toArrowSize"),Qh._2f(qh,Wh.ARROW_TO_OFFSET,"shape","toArrowOffset"),Qh._2f(qh,Wh.ARROW_TO_STROKE,"shape","toArrowStroke"),Qh._2f(qh,Wh.ARROW_TO_STROKE_STYLE,"shape","toArrowStrokeStyle"),Qh._2f(qh,Wh.ARROW_TO_OUTLINE,"shape","toArrowOutline"),Qh._2f(qh,Wh.ARROW_TO_OUTLINE_STYLE,"shape","toArrowOutlineStyle"),Qh._2f(qh,Wh.ARROW_TO_FILL_COLOR,"shape","toArrowFillColor"),Qh._2f(qh,Wh.ARROW_TO_FILL_GRADIENT,"shape","toArrowFillGradient"),Qh._2f(qh,Wh.ARROW_TO_LINE_DASH,"shape","toArrowLineDash"),Qh._2f(qh,Wh.ARROW_TO_LINE_DASH_OFFSET,"shape","toArrowLineDashOffset"),Qh._2f(qh,Wh.ARROW_TO_LINE_JOIN,"shape","toArrowLineJoin"),Qh._2f(qh,Wh.ARROW_TO_LINE_CAP,"shape","toArrowLineCap"));var tl=new ur;tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_COLOR,"bundleLabel","color"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_POSITION,"bundleLabel","position"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_ANCHOR_POSITION,"bundleLabel","anchorPosition"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_FONT_SIZE,"bundleLabel","fontSize"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_ROTATABLE,"bundleLabel","rotatable"),Kh||(tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_ROTATE,"bundleLabel","rotate"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_FONT_FAMILY,"bundleLabel","fontFamily"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_FONT_STYLE,"bundleLabel","fontStyle"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_PADDING,"bundleLabel","padding"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_POINTER_WIDTH,"bundleLabel","pointerWidth"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_POINTER,"bundleLabel","showPointer"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_RADIUS,"bundleLabel","borderRadius"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_OFFSET_X,"bundleLabel","offsetX"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_OFFSET_Y,"bundleLabel","offsetY"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_BORDER,"bundleLabel","border"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_BORDER_STYLE,"bundleLabel","borderColor"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_BACKGROUND_COLOR,"bundleLabel","backgroundColor"),tl._2f(qh,Wh.EDGE_BUNDLE_LABEL_BACKGROUND_GRADIENT,"bundleLabel","backgroundGradient"));var il=new ur;il._2f(Xh,"location"),il._2f(qh,Wh.BACKGROUND_COLOR,null,"backgroundColor"),il._2f(qh,Wh.BACKGROUND_GRADIENT,null,"backgroundGradient"),il._2f(qh,Wh.PADDING,null,"padding"),il._2f(qh,Wh.BORDER,null,"border"),il._2f(qh,Wh.BORDER_RADIUS,null,"borderRadius"),il._2f(qh,Wh.BORDER_COLOR,null,"borderColor"),il._2f(qh,Wh.BORDER_LINE_DASH,null,"borderLineDash"),il._2f(qh,Wh.BORDER_LINE_DASH_OFFSET,null,"borderLineDashOffset"),il._2f(Xh,"rotate",null,"rotate"),il._2f(Xh,"path.segment",null,null,"invalidateShape"),il._2f(Xh,"path","image","data"),il._2f(Xh,"size","image","size"),il._2f(qh,Wh.SHAPE_STROKE,"image","lineWidth"),il._2f(qh,Wh.SHAPE_STROKE_STYLE,"image","strokeStyle"),il._2f(qh,Wh.SHAPE_FILL_COLOR,"image","fillColor"),il._2f(qh,Wh.SHAPE_FILL_GRADIENT,"image","fillGradient"),Kh||(il._2f(qh,Wh.LINE_DASH_CAP,"image","lineDashCap"),il._2f(qh,Wh.LINE_DASH_JOIN,"image","lineDashJoin"),il._2f(qh,Wh.SHAPE_LINE_FILL_COLOR,"image","lineFillColor"),il._2f(qh,Wh.SHAPE_OUTLINE,"image","outline"),il._2f(qh,Wh.SHAPE_OUTLINE_STYLE,"image","outlineStyle"),il._2f(qh,Wh.SHAPE_LINE_DASH,"image","lineDash"),il._2f(qh,Wh.SHAPE_LINE_DASH_OFFSET,"image","lineDashOffset"),il._2f(qh,Wh.LINE_CAP,"image","lineCap"),il._2f(qh,Wh.LINE_JOIN,"image","lineJoin"),il._2f(qh,Wh.LAYOUT_BY_PATH,"image","layoutByPath"),il._2f(qh,Wh.IMAGE_BACKGROUND_COLOR,"image","backgroundColor"),il._2f(qh,Wh.IMAGE_BACKGROUND_GRADIENT,"image","backgroundGradient"),il._2f(qh,Wh.IMAGE_PADDING,"image","padding"),il._2f(qh,Wh.IMAGE_BORDER,"image","border"),il._2f(qh,Wh.IMAGE_BORDER_RADIUS,"image","borderRadius"),il._2f(qh,Wh.IMAGE_BORDER_COLOR,"image","borderColor"),il._2f(qh,Wh.IMAGE_BORDER_LINE_DASH,"image","borderLineDash"),il._2f(qh,Wh.IMAGE_BORDER_LINE_DASH_OFFSET,"image","borderLineDashOffset"),il._2f(qh,Wh.ARROW_FROM,"image","fromArrow"),il._2f(qh,Wh.ARROW_FROM_SIZE,"image","fromArrowSize"),il._2f(qh,Wh.ARROW_FROM_OFFSET,"image","fromArrowOffset"),il._2f(qh,Wh.ARROW_FROM_STROKE,"image","fromArrowStroke"),il._2f(qh,Wh.ARROW_FROM_STROKE_STYLE,"image","fromArrowStrokeStyle"),il._2f(qh,Wh.ARROW_FROM_FILL_COLOR,"image","fromArrowFillColor"),il._2f(qh,Wh.ARROW_FROM_FILL_GRADIENT,"image","fromArrowFillGradient"),il._2f(qh,Wh.ARROW_FROM_LINE_DASH,"image","fromArrowLineDash"),il._2f(qh,Wh.ARROW_FROM_LINE_DASH_OFFSET,"image","fromArrowLineDashOffset"),il._2f(qh,Wh.ARROW_FROM_LINE_JOIN,"image","fromArrowLineJoin"),il._2f(qh,Wh.ARROW_FROM_LINE_CAP,"image","fromArrowLineCap"),il._2f(qh,Wh.ARROW_TO_SIZE,"image","toArrowSize"),il._2f(qh,Wh.ARROW_TO_OFFSET,"image","toArrowOffset"),il._2f(qh,Wh.ARROW_TO,"image","toArrow"),il._2f(qh,Wh.ARROW_TO_STROKE,"image","toArrowStroke"),il._2f(qh,Wh.ARROW_TO_STROKE_STYLE,"image","toArrowStrokeStyle"),il._2f(qh,Wh.ARROW_TO_FILL_COLOR,"image","toArrowFillColor"),il._2f(qh,Wh.ARROW_TO_FILL_GRADIENT,"image","toArrowFillGradient"),il._2f(qh,Wh.ARROW_TO_LINE_DASH,"image","toArrowLineDash"),il._2f(qh,Wh.ARROW_TO_LINE_DASH_OFFSET,"image","toArrowLineDashOffset"),il._2f(qh,Wh.ARROW_TO_LINE_JOIN,"image","toArrowLineJoin"),il._2f(qh,Wh.ARROW_TO_LINE_CAP,"image","toArrowLineCap"));var el=function(t,i){return t=t.zIndex,i=i.zIndex,t==i?0:(t=t||0,i=i||0,t>i?1:i>t?-1:void 0)},nl=function(t,i){this.uiBounds=new Eo,x(this,nl,arguments),this.id=this.$data.id,this.graph=i,this._fy=[],this._lzt=new ur};nl.prototype={syncSelection:!1,graph:null,layoutByAnchorPoint:!1,_lzt:null,_fy:null,addChild:function(t,i){t._jm=this,i!==e?p(this._fy,t,i):this._fy.push(t),t._dy&&this._lxr(t),this.invalidateChildrenIndex(),this.invalidateSize(),this.$invalidateChild=!0},removeChild:function(t){this._lzt.removeBinding(t),t._jm=null,y(this._fy,t),this._ju&&this._ju.remove(t),this.invalidateSize(),this.$invalidateChild=!0
},getProperty:function(t,i){return i==Oa.PROPERTY_TYPE_STYLE?this.graph.getStyle(this.$data,t):i==Oa.PROPERTY_TYPE_CLIENT?this.$data.get(t):this.$data[t]},getStyle:function(t){return this.graph.getStyle(this.$data,t)},_$r:function(t,i,e){var n=this._lzt.onBindingPropertyChange(this,t,i,e);return Vh.onBindingPropertyChange(this,t,i,e)||n},onPropertyChange:function(t){if("zIndex"==t.kind)return this.invalidateRender(),!0;if("ui"==t.type){if("invalidate"==t.kind)return this.invalidate(),!0;var i=t.value;return i&&i.ui?("add"==t.kind?this._9r(i):"remove"==t.kind&&this.removeChild(i.ui),!0):!1}return this._$r(t.kind,t.propertyType||Xh,t.value)},label:null,initLabel:function(){var t=new sl;t.name="label",this.addChild(t),this.label=t},initialize:function(){this.initLabel(),this.$data._lxx&&this.$data._lxx.forEach(this._9r,this),Vh.initBindingProperties(this),this._lzt.initBindingProperties(this,!1)},addBinding:function(t,i){return i.property?(i.target=t,void this._lzt._1v(i.property,i)):!1},_h5:function(t,i){var e=this.$data;if(!e._lxx)return!1;var n=e._lxx.getById(t.id);if(!n||!n.bindingProperties)return!1;var r=n.bindingProperties;if(G(r)){var s=!1;return d(r,function(t){return"data"==t.bindingProperty?(s=fr(e,i,t.property,t.propertyType),!1):void 0},this),s}return"data"==r.bindingProperty?fr(e,i,r.property,r.propertyType):!1},_9r:function(t){var i=t.ui;if(i){var e=t.bindingProperties;e&&(Array.isArray(e)?e.forEach(function(t){this.addBinding(i,t)},this):this.addBinding(i,e)),this.addChild(i)}},validate:function(){return this._lwo||(this.initialize(),this._lwo=!0),this.doValidate()},_9:!0,invalidateChildrenIndex:function(){this._9=!0},doValidate:function(){if(this._1a&&(this._1a=!1,this.validateChildren()&&(this.measure(),this.$invalidateSize=!0),this._9&&(this._9=!1,Qs?this._fy=c(this._fy,el):this._fy.sort(el))),Ze.call(this)&&(this.$invalidateRotate=!0),this.$invalidateRotate){fh.call(this),this.uiBounds.setByRect(this._fl);var t=this.$selectionBorder||0,i=Math.max(this.$selectionBorder||0,this.$shadowOffsetX||0,this.$selectionShadowOffsetX||0),e=Math.max(this.$shadowOffsetY||0,this.$selectionShadowOffsetY||0),n=Math.max(2*t,this.$shadowBlur,this.$selectionShadowBlur);n+=ho.UI_BOUNDS_GROW||0;var r=n-i,s=n+i,o=n-e,a=n+e;return 0>r&&(r=0),0>s&&(s=0),0>o&&(o=0),0>a&&(a=0),this.uiBounds.grow(o,r,a,s),this.onBoundsChanged&&this.onBoundsChanged(),this.$invalidateBounds=!0,!0}},validateChildren:function(){var t=this.$invalidateChild;this.$invalidateChild=!1;var i=this._lxody,e=this.bodyChanged;i&&(i.$renderColor=this.$renderColor,i.$renderColorBlendMode=this.$renderColorBlendMode,i.$shadowColor=this.$shadowColor,i.$shadowBlur=this.$shadowBlur,i.$shadowOffsetX=this.$shadowOffsetX,i.$shadowOffsetY=this.$shadowOffsetY),this.bodyChanged=!1,i&&i._1a&&(e=i.validate()||e,i.$x=0,i.$y=0,i.$invalidateRotate&&fh.call(i),t=!0);for(var n=0,r=this._fy.length;r>n;n++){var s=this._fy[n];if(s!=i){var o=s._1a&&s.validate();(o||e)&&s._hh&&en(s,i,this),!t&&o&&(t=!0)}}return t},measure:function(){this._ja.clear();for(var t,i,e=0,n=this._fy.length;n>e;e++)t=this._fy[e],t._hh&&(i=t._fl,i.width<=0||i.height<=0||this._ja.addRect(t.$x+i.x,t.$y+i.y,i.width,i.height))},_ju:null,_lxr:function(t){if(!this._ju){if(!t.showOnTop)return;return this._ju=new lo,this._ju.add(t)}return t.showOnTop?this._ju.add(t):this._ju.remove(t)},draw:function(t,i,e){for(var n,r=0,s=this._fy.length;s>r;r++)n=this._fy[r],n._hh&&!n.showOnTop&&n._jb(t,i,e,this)},_95:function(t,i){if(!this._hh||!this._ju||!this._ju.length)return!1;t.save(),t.translate(this.$x,this.$y),this.$rotatable&&this.$_hostRotate&&t.rotate(this.$_hostRotate),(this.offsetX||this.offsetY)&&t.translate(this.offsetX,this.offsetY),this.$rotate&&t.rotate(this.$rotate),this.$layoutByAnchorPoint&&this._lx5&&t.translate(-this._lx5.x,-this._lx5.y),this.shadowColor&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur*i,t.shadowOffsetX=this.shadowOffsetX*i,t.shadowOffsetY=this.shadowOffsetY*i),t.beginPath();for(var e,n=0,r=this._fy.length;r>n;n++)e=this._fy[n],e._hh&&e.showOnTop&&e._jb(t,i,this.selected,this);t.restore()},doHitTest:function(t,i,e){if(e){if(!this._ja.intersectsRect(t-e,i-e,2*e,2*e))return!1}else if(!this._ja.intersectsPoint(t,i))return!1;return this.hitTestChildren(t,i,e)},hitTestChildren:function(t,i,e){for(var n,r=this._fy.length-1;r>=0;r--)if(n=this._fy[r],n._hh&&n.hitTest(t,i,e))return n;return!1},destroy:function(){this._hked=!0;for(var t,i=this._fy.length-1;i>=0;i--)t=this._fy[i],t.destroy()}},w(nl,Hh),Z(nl.prototype,{renderColorBlendMode:{get:function(){return this.$renderColorBlendMode},set:function(t){this.$renderColorBlendMode=t,this._1a=!0,this.body&&(this.body.renderColorBlendMode=this.$renderColorBlendMode)}},renderColor:{get:function(){return this.$renderColor},set:function(t){this.$renderColor=t,this._1a=!0,this.body&&(this.body.renderColor=this.$renderColor)}},bodyBounds:{get:function(){if(this.$invalidateBounds){this.$invalidateBounds=!1;var t,i=this.body;t=i&&i._hh&&!this._$p()?i._fl.clone():this._7u.clone(),this.rotate&&(t.original=t.clone(),t.rotate=this.rotate,t.tx=this.x,t.ty=this.y,Ri(t,this.rotate,t)),t.x+=this.$x,t.y+=this.$y,this._lzp=t}return this._lzp}},bounds:{get:function(){return new Eo((this.$x||0)+this.uiBounds.x,(this.$y||0)+this.uiBounds.y,this.uiBounds.width,this.uiBounds.height)}},body:{get:function(){return this._lxody},set:function(t){t&&this._lxody!=t&&(this._lxody=t,this.bodyChanged=!0,this.invalidateSize())}}}),ho.UI_BOUNDS_GROW=1;var rl=function(){x(this,rl,arguments)};rl.prototype={strokeStyle:"#000",lineWidth:0,fillColor:null,fillGradient:null,_jk:1,_jl:1,outline:0,onDataChanged:function(t){O(this,rl,"onDataChanged",arguments),this._k3&&this._7v&&this._k3._6f(this._7v,this),t&&this._lxv(t)},_lxv:function(t){this._k3=Ae(t),this._k3.validate(),(this._k3._kq==Ba||this._k3._69())&&(this._7v||(this._7v=function(){this.invalidateData(),this._jm&&this._jm.graph&&(this._jm.invalidateSize(),this._jm.graph.invalidate())}),this._k3._lwg(this._7v,this))},_k3:null,initialize:function(){this._lxv(this.$data)},_54:function(){return this._k3&&this._k3.draw},_8w:function(t){if(!t||t.width<=0||t.height<=0||!this.$size||!(this.size instanceof Object))return this._jk=1,void(this._jl=1);var i=this.size.width,n=this.size.height;if((i===e||null===i)&&(i=-1),(n===e||null===n)&&(n=-1),0>i&&0>n)return this._jk=1,void(this._jl=1);var r,s,o=t.width,a=t.height;i>=0&&(r=i/o),n>=0&&(s=n/a),0>i?r=s:0>n&&(s=r),this._jk=r,this._jl=s},validateSize:function(){if(this.$invalidateScale){this.$invalidateScale=!1;{var t=this._originalBounds;this._jk,this._jl}this._8w(t),this.setMeasuredBounds(t.width*this._jk,t.height*this._jl,t.x*this._jk,t.y*this._jl)}},measure:function(){var t=this._k3.getBounds(this.lineWidth+this.outline);return t?(this.$invalidateScale=!0,void(this._originalBounds=t.clone())):void this._ja.set(0,0,0,0)},onBoundsChanged:function(){this.$invalidateFillGradient=!0},_1b:function(){this.$invalidateFillGradient=!1,this._fillGradient=this.fillGradient?Ha.prototype.generatorGradient.call(this.$fillGradient,this._7u):null},_jw:function(t){var i,e;if("flip"==this.$adjustType)i=1,e=-1;else{if("mirror"!=this.$adjustType)return;i=-1,e=1}var n=this._ja.cx,r=this._ja.cy;t.translate(n,r),t.scale(i,e),t.translate(-n,-r)},draw:function(t,i,e,n){if(this._jk&&this._jl){if(this.$invalidateFillGradient&&this._1b(),t.save(),this.$adjustType&&this._jw(t),this._k3._kq==Ga)return t.scale(this._jk,this._jl),this._k3._l0.draw(t,i,this,e,n||this),void t.restore();e&&this._7s(t,i,n),this._k3.draw(t,i,this,this._jk,this._jl),t.restore()}},doHitTest:function(t,i,e){if(this._k3.hitTest){if("flip"==this.$adjustType){var n=this._ja.cy;i=2*n-i}else if("mirror"==this.$adjustType){var r=this._ja.cx;t=2*r-t}t/=this._jk,i/=this._jl;var s=(this._jk+this._jl)/2;return s>1&&(e/=s,e=0|e),this._k3._l0 instanceof ah?this._k3._l0.hitTest(t,i,e,!0,this.$lineWidth,this.$fillColor||this.$fillGradient):this._k3.hitTest(t,i,e)}return!0},$invalidateScale:!0,$invalidateFillGradient:!0},w(rl,Hh),lr(rl.prototype,{adjustType:{},fillColor:{},size:{validateFlags:["Size","Scale"]},fillGradient:{validateFlags:["FillGradient"]}}),Z(rl.prototype,{originalBounds:{get:function(){return this._originalBounds}}}),ho.ALIGN_POSITION=yo.CENTER_MIDDLE;var sl=function(){x(this,sl,arguments),this.color=ho.LABEL_COLOR};sl.prototype={color:ho.LABEL_COLOR,showPointer:!0,fontSize:null,fontFamily:null,fontStyle:null,_hd:null,alignPosition:null,measure:function(){this.font;var t=Fi(this.$data,this.$fontSize,this.$fontFamily,this.$fontStyle,ho.LINE_HEIGHT,this.$font);if(this._hd=t,this.$size){var i=this.$size.width||0,e=this.$size.height||0;return this.setMeasuredBounds(i>t.width?i:t.width,e>t.height?e:t.height)}return this.setMeasuredBounds(t.width,t.height)},doHitTest:function(t,i,e){return this.$data?ze(t,i,e,this):!1},draw:function(t,i,e,n){e&&this._7s(t,i,n);this.$fontSize||ho.FONT_SIZE;if(this.$rotatable&&this.$_hostRotate){var r=de(this.$_hostRotate);r>_o&&3*_o>r&&(t.translate(this._ja.width/2,this._ja.height/2),t.rotate(Math.PI),t.translate(-this._ja.width/2,-this._ja.height/2))}var s=this.alignPosition||ho.ALIGN_POSITION,o=s.horizontalPosition,a=s.verticalPosition,h=0;o==mo?(o="center",h+=this._ja.width/2):o==wo?(o="right",h+=this._ja.width):o="left";var l=0;a==Oo?l=(this._ja.height-this._hd.height)/2:a==Ao&&(l=this._ja.height-this._hd.height),t.fillStyle=this.color,Gi(t,this.$data,h,l,o,this.$fontFamily,this.$fontSize,this.$fontStyle,ho.LINE_HEIGHT,this.$font)},_54:function(){return null!=this.$data||this.$size},$invalidateFont:!0},w(sl,Hh),lr(sl.prototype,{size:{validateFlags:["Data"]},fontStyle:{validateFlags:["Data","Font"]},fontSize:{validateFlags:["Data","Font"]},fontFamily:{validateFlags:["Data","Font"]}}),Z(sl.prototype,{font:{get:function(){return this.$invalidateFont&&(this.$invalidateFont=!1,this.$font=(this.$fontStyle||ho.FONT_STYLE)+" "+(this.$fontSize||ho.FONT_SIZE)+"px "+(this.$fontFamily||ho.FONT_FAMILY)),this.$font}}});var ol=function(t){t=t||new ah,this.pathBounds=new Eo,x(this,ol,[t])};ol.prototype={layoutByPath:!0,layoutByAnchorPoint:!1,measure:function(){this.$invalidateFromArrow=!0,this.$invalidateToArrow=!0,this.$data.getBounds(this.$lineWidth+this.$outline,this.pathBounds),this.setMeasuredBounds(this.pathBounds)},validateSize:function(){if(this.$invalidateFromArrow||this.$invalidateToArrow){var t=this.pathBounds.clone();if(this.$invalidateFromArrow){this.$invalidateFromArrow=!1;var i=this.validateFromArrow();i&&t.add(i)}if(this.$invalidateToArrow){this.$invalidateToArrow=!1;var i=this.validateToArrow();i&&t.add(i)}this.setMeasuredBounds(t)}},validateFromArrow:function(){if(!this.$data._ir||!this.$fromArrow)return void(this.$fromArrowShape=null);var t=this.$data,i=0,e=0,n=this.$fromArrowOffset;n&&(isNaN(n)&&(n.x||n.y)?(i+=n.x||0,e+=n.y||0):i+=n||0,i>0&&1>i&&(i*=t._ir)),this.fromArrowLocation=t.getLocation(i,e),this.fromArrowLocation.rotate=Math.PI+this.fromArrowLocation.rotate||0,this.$fromArrowShape=zr(this.$fromArrow,this.$fromArrowSize);var r=this.$fromArrowShape.getBounds(this.fromArrowStyles.lineWidth+this.fromArrowStyles.outline);return this.fromArrowFillGradient instanceof xa.Gradient?this.fromArrowStyles._fillGradient=Ha.prototype.generatorGradient.call(this.fromArrowFillGradient,r):this.fromArrowStyles&&(this.fromArrowStyles._fillGradient=null),r.offset(this.fromArrowLocation.x,this.fromArrowLocation.y),Pi(r,this.fromArrowLocation.rotate,r,this.fromArrowLocation.x,this.fromArrowLocation.y),r},validateToArrow:function(){if(!this.$data._ir||!this.$toArrow)return void(this.$toArrowShape=null);var t=this.$data,i=0,e=0,n=this.$toArrowOffset;n&&(isNaN(n)&&(n.x||n.y)?(i+=n.x||0,e+=n.y||0):i+=n||0),0>i&&i>-1&&(i*=t._ir),i+=t._ir,this.toArrowLocation=t.getLocation(i,e),this.$toArrowShape=zr(this.$toArrow,this.$toArrowSize);var r=this.$toArrowShape.getBounds(this.toArrowStyles.lineWidth+this.toArrowStyles.outline);return this.toArrowFillGradient instanceof xa.Gradient?this.toArrowStyles._fillGradient=Ha.prototype.generatorGradient.call(this.toArrowFillGradient,r):this.toArrowStyles&&(this.toArrowStyles._fillGradient=null),r.offset(this.toArrowLocation.x,this.toArrowLocation.y),Pi(r,this.toArrowLocation.rotate,r,this.toArrowLocation.x,this.toArrowLocation.y),r},_27:function(t){var i=t?"from":"to",n=this[i+"ArrowStroke"];n===e&&(n=this.$lineWidth);var r=this[i+"ArrowStrokeStyle"];r===e&&(r=this.strokeStyle);var s=this[i+"ArrowStyles"];s||(this[i+"ArrowStyles"]=s={}),s.lineWidth=n,s.strokeStyle=r,s.lineDash=this[i+"ArrowLineDash"],s.lineDashOffset=this[i+"ArrowLineDashOffset"],s.fillColor=this[i+"ArrowFillColor"],s.fillGradient=this[i+"ArrowFillGradient"],s.lineCap=this[i+"ArrowLineCap"],s.lineJoin=this[i+"ArrowLineJoin"],s.outline=this[i+"ArrowOutline"]||0,s.outlineStyle=this[i+"ArrowOutlineStyle"]},doValidate:function(){return this.$fromArrow&&this._27(!0),this.$toArrow&&this._27(!1),O(this,ol,"doValidate")},drawArrow:function(t,i,e,n){if(this.$fromArrow&&this.$fromArrowShape){t.save();var r=this.fromArrowLocation,s=r.x,o=r.y,a=r.rotate;t.translate(s,o),a&&t.rotate(a),this.$fromArrowShape.draw(t,i,this.fromArrowStyles,e,n),t.restore()}if(this.$toArrow&&this.$toArrowShape){t.save();var r=this.toArrowLocation,s=r.x,o=r.y,a=r.rotate;t.translate(s,o),a&&t.rotate(a),this.$toArrowShape.draw(t,i,this.toArrowStyles,e,n),t.restore()}},outlineStyle:null,outline:0,onBoundsChanged:function(){this.$invalidateFillGradient=!0},_1b:function(){this.$invalidateFillGradient=!1,this._fillGradient=this.$fillGradient?Ha.prototype.generatorGradient.call(this.$fillGradient,this._7u):null},draw:function(t,i,e,n){this.$invalidateFillGradient&&this._1b(),this.$data.draw(t,i,this,e,n),this.drawArrow(t,i,e,n)},doHitTest:function(t,i,e){if(this.$data.hitTest(t,i,e,!0,this.$lineWidth+this.$outline,this.$fillColor||this.$fillGradient))return!0;if(this.$toArrow&&this.$toArrowShape){var n=t-this.toArrowLocation.x,r=i-this.toArrowLocation.y;if(this.toArrowLocation.rotate){var s=Ii(n,r,-this.toArrowLocation.rotate);n=s.x,r=s.y}var o=this.toArrowStyles.fillColor||this.toArrowStyles.fillGradient;if(this.$toArrowShape.hitTest(n,r,e,!0,this.toArrowStyles.lineWidth,o))return!0}if(this.$fromArrow&&this.$fromArrowShape){var n=t-this.fromArrowLocation.x,r=i-this.fromArrowLocation.y;if(this.fromArrowLocation.rotate){var s=Ii(n,r,-this.fromArrowLocation.rotate);n=s.x,r=s.y}var o=this.fromArrowStyles.fillColor||this.fromArrowStyles.fillGradient;if(this.$fromArrowShape.hitTest(n,r,e,!0,this.fromArrowStyles.lineWidth,o))return!0}return!1},$fromArrowOutline:0,$toArrowOutline:0,$invalidateFillGradient:!0,$invalidateFromArrow:!0,$invalidateToArrow:!0},w(ol,Hh),lr(ol.prototype,{strokeStyle:{validateFlags:["FromArrow","ToArrow"]},fillColor:{},fillGradient:{validateFlags:["FillGradient"]},fromArrowOffset:{validateFlags:["FromArrow","Size"]},fromArrowSize:{validateFlags:["FromArrow","Size"]},fromArrow:{validateFlags:["FromArrow","Size"]},fromArrowOutline:{validateFlags:["FromArrow","Size"]},fromArrowStroke:{validateFlags:["FromArrow","Size"]},fromArrowStrokeStyle:{validateFlags:["FromArrow"]},toArrowOffset:{validateFlags:["ToArrow","Size"]},toArrowSize:{validateFlags:["ToArrow","Size"]},toArrow:{validateFlags:["ToArrow","Size"]},toArrowOutline:{validateFlags:["ToArrow","Size"]},toArrowStroke:{validateFlags:["ToArrow","Size"]},toArrowStrokeStyle:{validateFlags:["ToArrow"]},outline:{value:0,validateFlags:["Data"]}}),Z(ol.prototype,{length:{get:function(){return this.data.length}}}),cr.prototype={shape:null,path:null,initialize:function(){O(this,cr,"initialize"),this.path=new ah,this.path._di=!1,this.shape=new ol(this.path),this.addChild(this.shape,0),this._lxody=this.shape,Qh.initBindingProperties(this)},_1j:!0,_5a:null,_$p:function(){return!1},_4b:function(){return!1},validatePoints:function(){this.shape.invalidateData();var t=this.$data,i=this.path;i.clear();var e=t.fromAgent,n=t.toAgent;e&&n&&Ur(this,t,i,e,n)},getEndPointBounds:function(t){return t.getLinkableBounds()},_3l:function(t,i,e,n,r,s,o,a,h){return t.hasPathSegments()?void(i.segments=t.pathSegments.toDatas()):e==n?void this.drawLoopedEdge(i,e,r,s,a,h):void this.drawEdge(i,e,n,r,s,o,a,h)},drawLoopedEdge:function(t,i,e,n){qr(this,n,t)},drawEdge:function(t,i,e,n,r,s,o,a){if(n==Oa.EDGE_TYPE_ZIGZAG){var h=(o.x+a.x)/2,l=(o.y+a.y)/2,_=o.x-a.x,u=o.y-a.y,f=Math.sqrt(_*_+u*u),c=Math.atan2(u,_);c+=Math.PI/6,f*=.04,f>30&&(f=30);var d=Math.cos(c)*f,v=Math.sin(c)*f;return t.lineTo(h-v,l+d),void t.lineTo(h+v,l-d)}var g=Xr(this,this.data,r,s,i,e,o,a);g&&(t._f9=g)},_1z:function(){if(!this.data.isBundleEnabled())return null;var t=this.data.getEdgeBundle(!0);if(!t||!t.canBind(this.graph)||!t._gg)return null;var i=t.getYOffset(this);return t.isPositiveOrder(this.$data)||(i=-i),i},checkBundleLabel:function(){var t=this.getBundleLabel();return t?(this.bundleLabel||this.createBundleLabel(),this.bundleLabel._hh=!0,void(this.bundleLabel.data=t)):void(this.bundleLabel&&(this.bundleLabel._hh=!1,this.bundleLabel.data=null))},createBundleLabel:function(){var t=new sl;t.editable=!1,this.bundleLabel=t,this.addChild(this.bundleLabel),tl.initBindingProperties(this)},getBundleLabel:function(){return this.graph.getBundleLabel(this.data)},doValidate:function(){return this._1j&&(this._1j=!1,this.validatePoints()),this.checkBundleLabel(),O(this,cr,"doValidate")},_4s:function(){this._1j=!0,this.invalidateSize()},_$r:function(t,i,e){var n=this._lzt.onBindingPropertyChange(this,t,i,e);return n=Vh.onBindingPropertyChange(this,t,i,e)||n,this.bundleLabel&&this.bundleLabel.$data&&(n=tl.onBindingPropertyChange(this,t,i,e)||n),Qh.onBindingPropertyChange(this,t,i,e)||n}},w(cr,nl),cr.drawReferenceLine=function(t,i,e,n){if(t.moveTo(i.x,i.y),!n||n==Oa.EDGE_TYPE_DEFAULT)return void t.lineTo(e.x,e.y);if(n==Oa.EDGE_TYPE_VERTICAL_HORIZONTAL)t.lineTo(i.x,e.y);else if(n==Oa.EDGE_TYPE_HORIZONTAL_VERTICAL)t.lineTo(e.x,i.y);else if(0==n.indexOf(Oa.EDGE_TYPE_ORTHOGONAL)){var r;r=n==Oa.EDGE_TYPE_ORTHOGONAL_HORIZONTAL?!0:n==Oa.EDGE_TYPE_ORTHOGONAL_VERTICAL?!1:Math.abs(i.x-e.x)>Math.abs(i.y-e.y);var s=(i.x+e.x)/2,o=(i.y+e.y)/2;r?(t.lineTo(s,i.y),t.lineTo(s,e.y)):(t.lineTo(i.x,o),t.lineTo(e.x,o))}else if(0==n.indexOf(Oa.EDGE_TYPE_ELBOW)){var r,a=al[Wh.EDGE_EXTEND]||0;r=n==Oa.EDGE_TYPE_ELBOW_HORIZONTAL?!0:n==Oa.EDGE_TYPE_ELBOW_VERTICAL?!1:Math.abs(i.x-e.x)>Math.abs(i.y-e.y),r?(t.lineTo(i.x+a,i.y),t.lineTo(e.x-a,e.y)):(t.lineTo(i.x,i.y+a),t.lineTo(e.x,e.y-a))}else if(0==n.indexOf("extend.")){var a=al[Wh.EDGE_EXTEND]||0;if(n==Oa.EDGE_TYPE_EXTEND_TOP){var h=Math.min(i.y,e.y)-a;t.lineTo(i.x,h),t.lineTo(e.x,h)}else if(n==Oa.EDGE_TYPE_EXTEND_BOTTOM){var h=Math.max(i.y,e.y)+a;t.lineTo(i.x,h),t.lineTo(e.x,h)}else if(n==Oa.EDGE_TYPE_EXTEND_LEFT){var l=Math.min(i.x,e.x)-a;t.lineTo(l,i.y),t.lineTo(l,e.y)}else if(n==Oa.EDGE_TYPE_EXTEND_RIGHT){var l=Math.max(i.x,e.x)+a;t.lineTo(l,i.y),t.lineTo(l,e.y)}}else if(n==Oa.EDGE_TYPE_ZIGZAG){var s=(i.x+e.x)/2,o=(i.y+e.y)/2,_=i.x-e.x,u=i.y-e.y,f=Math.sqrt(_*_+u*u),c=Math.atan2(u,_);c+=Math.PI/6,f*=.04,f>30&&(f=30);var d=Math.cos(c)*f,v=Math.sin(c)*f;t.lineTo(s-v,o+d),t.lineTo(s+v,o-d)}t.lineTo(e.x,e.y)},Z(cr.prototype,{length:{get:function(){return this.path?this.path.length:0}}}),cr.prototype.addPoint=function(t,i,e){var n=Ce(this.path,t,i,this.data.addSegmentType,e);if(!n)return!1;var r=n.segments;if(r.length>2){var s=this.data,o=r[r.length-1];o.type==th?s.pathSegments=r.splice(1,r.length-2):(n.atEnd&&(o.invalidTerminal=!0),s.pathSegments=r.splice(1,r.length-1))}},dr.prototype={_2l:null,image:null,initialize:function(){O(this,dr,"initialize"),this._lxs(),Zh.initBindingProperties(this)},_lxv:function(){this.data.image?this.image&&(this.body=this.image):this.label&&(this.body=this.label)},_lxs:function(){this.image=new rl,this.addChild(this.image,0),this._lxv()},doValidate:function(){this.body&&(this instanceof ns&&!this.$data.groupImage&&this._63()?this.body.$layoutByAnchorPoint=!1:(this.body.$layoutByAnchorPoint=null!=this._2l,this.body.anchorPosition=this._2l));var t=this.$data.$location,i=0,e=0;t&&(i=t.x,e=t.y);var n=this.$x!=i||this.$y!=e;return n&&(this.$invalidateBounds=!0),this.$x=i,this.$y=e,nl.prototype.doValidate.call(this)||n},_$r:function(t,i,e){var n=this._lzt.onBindingPropertyChange(this,t,i,e);return n=Vh.onBindingPropertyChange(this,t,i,e)||n,Zh.onBindingPropertyChange(this,t,i,e)||n},getLinkablePorts:function(){return this.data.linkablePorts},getLinkableBounds:function(){return this.bodyBounds},getDefaultPortPoint:function(t){return _i(yo.CENTER_MIDDLE,t||this.getLinkableBounds())},getPortPoint:function(t,i){if(!t)return this.getDefaultPortPoint(i);i=i||this.getLinkableBounds();var e;return i.original?(e=_i(t,i.original),i.rotate&&(e=Di(e.x,e.y,i.rotate,i.rotateX||0,i.rotateY||0)),e.x+=i.tx||0,e.y+=i.ty||0):e=_i(t,i),e.port=t,e},getPortPoints:function(){var t=this.getLinkablePorts();if(t&&Array.isArray(t)){var i=[],e=this.getLinkableBounds();return t.forEach(function(t){i.push(this.getPortPoint(t,e))}.bind(this)),i}}},w(dr,nl);var al={};al[Wh.SELECTION_COLOR]=ho.SELECTION_COLOR,al[Wh.SELECTION_BORDER]=ho.SELECTION_BORDER,al[Wh.SELECTION_SHADOW_BLUR]=ho.SELECTION_SHADOW_BLUR,al[Wh.SELECTION_TYPE]=Oa.SELECTION_TYPE_SHADOW,al[Wh.SELECTION_SHADOW_OFFSET_X]=2,al[Wh.SELECTION_SHADOW_OFFSET_Y]=2,al[Wh.LABEL_COLOR]=ho.LABEL_COLOR,al[Wh.LABEL_POSITION]=yo.CENTER_BOTTOM,al[Wh.LABEL_ANCHOR_POSITION]=yo.CENTER_TOP,al[Wh.LABEL_PADDING]=new po(0,2),al[Wh.LABEL_POINTER_WIDTH]=8,al[Wh.LABEL_RADIUS]=8,al[Wh.LABEL_POINTER]=!0,al[Wh.LABEL_BORDER]=0,al[Wh.LABEL_BORDER_STYLE]="#000",al[Wh.LABEL_ROTATABLE]=!0,al[Wh.LABEL_BACKGROUND_COLOR]=null,al[Wh.LABEL_BACKGROUND_GRADIENT]=null,al[Wh.EDGE_COLOR]="#555555",al[Wh.EDGE_WIDTH]=1.5,al[Wh.EDGE_FROM_AT_EDGE]=!0,al[Wh.EDGE_TO_AT_EDGE]=!0,al[Wh.GROUP_BACKGROUND_COLOR]=q(3438210798),al[Wh.GROUP_STROKE]=1,al[Wh.GROUP_STROKE_STYLE]="#000",al[Wh.ARROW_TO]=!0,al[Wh.ARROW_FROM_SIZE]=ho.ARROW_SIZE,al[Wh.ARROW_TO_SIZE]=ho.ARROW_SIZE,al[Wh.EDGE_LOOPED_EXTAND]=10,al[Wh.EDGE_CORNER_RADIUS]=8,al[Wh.EDGE_CORNER]=Oa.EDGE_CORNER_ROUND,al[Wh.EDGE_SPLIT_BY_PERCENT]=!0,al[Wh.EDGE_EXTEND]=20,al[Wh.EDGE_SPLIT_PERCENT]=.5,al[Wh.EDGE_SPLIT_VALUE]=20,al[Wh.EDGE_BUNDLE_GAP]=20,al[Wh.EDGE_BUNDLE_LABEL_ANCHOR_POSITION]=yo.CENTER_BOTTOM,al[Wh.EDGE_BUNDLE_LABEL_POSITION]=yo.CENTER_TOP,al[Wh.EDGE_BUNDLE_LABEL_COLOR]="#075bc5",al[Wh.SHAPE_STROKE]=1,al[Wh.SHAPE_STROKE_STYLE]="#2898E0",al[Wh.RENDER_COLOR_BLEND_MODE]=ho.BLEND_MODE,al[Wh.ALPHA]=1,ho.LOOKING_EDGE_ENDPOINT_TOLERANCE=2;var hl=function(i,e){this._$m=new ko,this._$m.on(function(t){"currentSubNetwork"==t.kind&&this.invalidateVisibility()},this),this._1p=new ko,this._1p.addListener(function(t){!this.currentSubNetwork||t.kind!=zo.KIND_CLEAR&&t.kind!=zo.KIND_REMOVE||this.graphModel.contains(this.currentSubNetwork)||(this.currentSubNetwork=null)},this),this._4=new ko,this._$u=new ko,this._$f=new ko,this._$l=new ko,this.graphModel=e||new sr,this._7y=new Dh(this,i),this._2d=new Bs(this),this._16=new ko,this._onresize=Vo(t,"resize",function(){this.updateViewport()},!1,this),this._7y._lwl.ondrop=function(t){this.ondrop(t)}.bind(this),this._7y._lwl.ondragover=function(t){this.ondragover(t)}.bind(this)};hl.prototype={originAtCenter:!0,editable:!1,ondragover:function(t){xa.stopEvent(t)},getDropInfo:function(t,i){var e=null;if(i)try{e=JSON.parse(i)}catch(n){}return e},ondrop:function(t){var i=t.dataTransfer;if(i){var e=i.getData("text"),n=this.getDropInfo(t,e);n||(n={},n.image=i.getData("image"),n.type=i.getData("type"),n.label=i.getData("label"),n.groupImage=i.getData("groupImage"));var r=this.globalToLocal(t);if(r=this.toLogical(r.x,r.y),!(this.dropAction instanceof Function&&this.dropAction.call(this,t,r,n)===!1)&&(n.image||n.label||n.type)){var s=n.image,o=n.type,a=n.label,h=n.groupImage;xa.stopEvent(t);var l;if(o&&"Node"!=o?"Text"==o?l=this.createText(a,r.x,r.y):"ShapeNode"==o?l=this.createShapeNode(a,r.x,r.y):"Group"==o?(l=this.createGroup(a,r.x,r.y),h&&(h=is(h),h&&(l.groupImage=h))):(o=J(o),o instanceof Function&&o.prototype instanceof Fh&&(l=new o,l.name=a,l.location=new fo(r.x,r.y),this._k1Model.add(l))):l=this.createNode(a,r.x,r.y),l){if(s&&(s=is(s),s&&(l.image=s)),t.shiftKey){var _=this.getElementByMouseEvent(t);_&&this._lww(_)&&(l.parent=_)}if(n.properties)for(var u in n.properties)l[u]=n.properties[u];if(n.clientProperties)for(var u in n.clientProperties)l.set(u,n.clientProperties[u]);if(n.styles&&l.putStyles(n.styles),this.onElementCreated(l,t,n)===!1)return!1;var f=new Ms(this,Ms.ELEMENT_CREATED,t,l);return this.onInteractionEvent(f),l}}}},_lww:function(t){return t.enableSubNetwork||t instanceof Yh||t.droppable},enableDoubleClickToOverview:!0,_7y:null,_$m:null,_1p:null,_4:null,_$l:null,_$u:null,_$f:null,_1l:function(t){return this._$m.beforeEvent(t)},_49:function(t){this._$m.onEvent(t),"viewport"==t.kind&&this.checkLimitedBounds()},isVisible:function(t){return this._7y._e6(t)},isMovable:function(t){return(t instanceof Fh||t instanceof Gh&&t.hasPathSegments())&&t.movable!==!1},isSelectable:function(t){return t.selectable!==!1},isEditable:function(t){return t.editable!==!1},isRotatable:function(t){return t.rotatable!==!1},isResizable:function(t){return t.resizable!==!1},canLinkFrom:function(t){return t.linkable!==!1&&t.canLinkFrom!==!1},canLinkTo:function(t,i){return t.linkable===!1||t.canLinkTo===!1?!1:i instanceof xa.Group&&t.isDescendantOf(i)?!1:t instanceof xa.Group&&i.isDescendantOf(t)?!1:!0},isEndPointEditable:function(t){return t.endPointEditable!==!1},createNode:function(t,i,e){var n=new Fh(t,i,e);return this._k1Model.add(n),n},createText:function(t,i,e){var n=new ar(t,i,e);return this._k1Model.add(n),n},createShapeNode:function(t,i,e,n){M(i)&&(n=e,e=i,i=null);var r=new $h(t,i);return r.$location=new fo(e,n),this._k1Model.add(r),r},createGroup:function(t,i,e){var n=new Yh(t,i,e);return this._k1Model.add(n),n},createEdge:function(t,i,e){if(t instanceof Fh){var n=e;e=i,i=t,t=n}var r=new Gh(i,e);return t&&(r.$name=t),this._k1Model.add(r),r},addElement:function(t,i){this._k1Model.add(t),i&&t.hasChildren()&&t.forEachChild(function(t){this.addElement(t,i)},this)},removeElement:function(t){this._k1Model.remove(t)},clear:function(){this._k1Model.clear()},getStyle:function(t,i){var n=t._iy[i];return n!==e?n:this.getDefaultStyle(i)},getDefaultStyle:function(t){if(this._iy){var i=this._iy[t];if(i!==e)return i}return al[t]},_2m:function(t,i){if(!this.limitedBounds||this.limitedBounds.contains(this.viewportBounds))return i&&i(),!1;t=this._28(),this.stopAnimation();var e,n,r,s=this.viewportBounds,o=this.limitedBounds,a=s.width/this.limitedBounds.width,h=s.height/this.limitedBounds.height;if(1>=a&&1>=h)return e=o.left>s.left?o.left:o.right<s.right?s.left-(s.right-o.right):s.left,n=o.top>s.top?o.top:o.bottom<s.bottom?s.top-(s.bottom-o.bottom):s.top,void this.translateTo(-e*this.scale,-n*this.scale,this.scale,!1,i);var l=a>h;r=Math.max(a,h),l?(e=o.x,n=o.y+(s.top-o.top)*(1-r)/r,n>=o.y?n=o.y:n<o.bottom-s.height/r&&(n=o.bottom-s.height/r)):(n=o.y,e=o.x+(s.left-o.left)*(1-r)/r,e>=o.x?e=o.x:e<o.right-s.width/r&&(e=o.right-s.width/r)),r*=this.scale,e*=r,n*=r,this.translateTo(-e,-n,r,t,i)},checkLimitedBounds:function(t){return this._lzheckingBounds||!this.limitedBounds||this.limitedBounds.contains(this.viewportBounds)?!1:(this._lzheckingBounds=!0,void this.callLater(function(){this._2m(t,function(){this._lzheckingBounds=!1}.bind(this))},this))},zoomByMouseEvent:function(t,i,e,n){var r=this.globalToLocal(t);return"number"==typeof i?this.zoomAt(Math.pow(1.1,i),r.x,r.y,e,n):i?this.zoomIn(r.x,r.y,e,n):this.zoomOut(r.x,r.y,e,n)},resetScale:1,translate:function(t,i,e){return this.translateTo(this.tx+t,this.ty+i,this.scale,e)},translateTo:function(t,i,e,n,r){if(e&&(e=Math.min(this.maxScale,Math.max(this.minScale,e))),n){var s=this._5d();return void s._k9(t,i,e,n,r)}var o=this._7y._lwq(t,i,e);return r&&r(),o},centerTo:function(t,i,n,r,s){return(!n||0>=n)&&(n=this.scale),r===e&&(r=this._28()),this.translateTo(this.width/2-t*n,this.height/2-i*n,n,r,s)},moveToCenter:function(t,i){if(arguments[2]===!1||!this._7y.isInvalidate()){var e=this.bounds;return void this.centerTo(e.cx,e.cy,t,i)}return this._7y._lwo||(i=!1),this.callLater(this.moveToCenter.bind(this,t,i,!1))},zoomToOverview:function(t,i){if(arguments[2]===!1||!this._7y.isInvalidate()){var e=this._7y._1d();return void(e&&(i&&(e.scale=Math.min(e.scale,i)),this.centerTo(e.cx,e.cy,e.scale,t)))}return this._7y._lwo||(t=!1),this.callLater(this.zoomToOverview.bind(this,t,i,!1))},_28:function(){return this._7y._lwo?this.zoomAnimation===e||null===this.zoomAnimation?ho.ZOOM_ANIMATE:this.zoomAnimation:!1},zoomAt:function(t,i,n,r,s){r===e&&(r=this._28()),i===e&&(i=this.width/2),i=i||0,n===e&&(n=this.height/2),n=n||0;var o=this.scale;return t=Math.min(this.maxScale,Math.max(this.minScale,o*t)),i=t*(this.tx-i)/o+i,n=t*(this.ty-n)/o+n,this.translateTo(i,n,t,r,s)},zoomOut:function(t,i,e,n){return this.zoomAt(1/this.scaleStep,t,i,e,n)},zoomIn:function(t,i,e,n){return this.zoomAt(this.scaleStep,t,i,e,n)},_5d:function(){return this._panAnimation||(this._panAnimation=new dl(this)),this._panAnimation},onAnimationStart:function(){},onAnimationEnd:function(){},isAnimating:function(){return this._panAnimation&&this._panAnimation._el()},enableInertia:!0,_91:function(t,i){var e=this._5d();return e._fq(t||0,i||0)},stopAnimation:function(){this._panAnimation&&this._panAnimation._kv()},getUI:function(t){return Q(t)?this._7y._38(t):this._7y._kh(t)},getUIByMouseEvent:function(t){return this._7y._38(t)},hitTest:function(t){return this._7y.hitTest(t)},globalToLocal:function(t){return this._7y._8k(t)},toCanvas:function(t,i){return this._7y._g7(t,i)},toLogical:function(t,i){return Q(t)?this._7y._$d(t):this._7y._e8(t,i)},getElementByMouseEvent:function(t){var i=this._7y._38(t);return i?i.$data:void 0},getElement:function(t){return Q(t)?this.getElementByMouseEvent(t):this._k1Model.getById(t)},invalidate:function(){this._7y._lzv()},invalidateUI:function(t){t.invalidate(),this.invalidate()},invalidateElement:function(t){this._7y._3f(t)},getUIBounds:function(t){return this._7y._2j(t)},forEachVisibleUI:function(t,i){return this._7y._4d(t,i)},forEachReverseVisibleUI:function(t,i){return this._7y._$s(t,i)},forEachUI:function(t,i){return this._7y._dz(t,i)},forEachReverseUI:function(t,i){return this._7y._47(t,i)},forEach:function(t,i){return this._k1Model.forEach(t,i)},getElementByName:function(t){var i;return this.forEach(function(e){return e.name==t?(i=e,!1):void 0}),i},focus:function(i){if(i){var e=t.scrollX||t.pageXOffset,n=t.scrollY||t.pageYOffset;return this.canvasPanel.focus(),void t.scrollTo(e,n)}this.canvasPanel.focus()},callLater:function(t,i,e){this._7y._ec(t,i,e)},exportImage:function(t,i,e){return us(this,t,i,e)},setSelection:function(t){return this._k1Model._selectionModel.set(t)},select:function(t){return this._k1Model._selectionModel.select(t)},unselect:function(t){return this._k1Model._selectionModel.unselect(t)},reverseSelect:function(t){return this._k1Model._selectionModel.reverseSelect(t)},selectAll:function(){_s(this)},unSelectAll:function(){this.selectionModel.clear()},unselectAll:function(){this.unSelectAll()},isSelected:function(t){return this._k1Model._selectionModel.contains(t)},sendToTop:function(t){An(this._k1Model,t)},sendToBottom:function(t){bn(this._k1Model,t)},moveElements:function(t,i,e){var n=[],r=new lo;return d(t,function(t){t instanceof Fh?n.push(t):t instanceof Gh&&r.add(t)}),this._eg(n,i,e,r)},_eg:function(t,i,e,n){if(0==i&&0==e||0==t.length&&0==n.length)return!1;if(0!=t.length){var r=this._4l(t);n=this._4f(r,n),d(r,function(t){var n=t.$location;n?t.setLocation(n.x+i,n.y+e):t.setLocation(i,e)})}return n&&n.length&&this._dv(n,i,e),!0},_dv:function(t,i,e){t.forEach(function(t){t.move(i,e)})},_4f:function(t,i){return this.graphModel.forEach(function(e){e instanceof Gh&&this.isMovable(e)&&t.contains(e.fromAgent)&&t.contains(e.toAgent)&&i.add(e)},this),i},_4l:function(t){var i=new lo;return d(t,function(t){!this.isMovable(t),i.add(t),wn(t,i,this._movableFilter)
},this),i},reverseExpanded:function(t){if(!t.isBundleEnabled())return!1;var i=t.getEdgeBundle(!0);return i?i.reverseExpanded()!==!1?(this.invalidate(),!0):void 0:!1},_2d:null,_16:null,beforeInteractionEvent:function(t){return this._16.beforeEvent(t)},onInteractionEvent:function(t){this._16.onEvent(t)},addCustomInteraction:function(t){this._2d.addCustomInteraction(t)},removeCustomInteraction:function(t){this._2d.removeCustomInteraction(t)},enableWheelZoom:!0,enableTooltip:!0,getTooltip:function(t){return t.tooltip||t.name},updateViewport:function(){this._7y._70()},destroy:function(){this._49(new Io(this,"destroy",!0,this._hked)),this._hked=!0,Xo(t,"resize",this._onresize),this._2d.destroy(),this.graphModel=new sr;var i=this.html;this._7y._hk(),i&&(i.innerHTML="")},onPropertyChange:function(t,i,e){this._$m.addListener(function(n){n.kind==t&&i.call(e,n)})},removeSelection:function(){var t=this.selectionModel._j7;return t&&0!=t.length?(t=t.slice(),this._k1Model.remove(t),t):!1},removeSelectionByInteraction:function(t){var i=this.selectionModel.datas;return i&&0!=i.length?void xa.confirm("Delete Elements - "+i.length,function(){var i=this.removeSelection();if(i){var e=new Ms(this,Ms.ELEMENT_REMOVED,t,i);this.onInteractionEvent(e)}},this):!1},createShapeByInteraction:function(t,i,e,n){var r=new ah(i);i.length>2&&r.closePath();var s=this.createShapeNode("Shape",r,e,n);this.onElementCreated(s,t);var o=new Ms(this,Ms.ELEMENT_CREATED,t,s);return this.onInteractionEvent(o),s},createLineByInteraction:function(t,i,e,n){var r=new ah(i),s=this.createShapeNode("Line",r,e,n);s.setStyle(xa.Styles.SHAPE_FILL_COLOR,null),s.setStyle(xa.Styles.SHAPE_FILL_GRADIENT,null),s.setStyle(xa.Styles.LAYOUT_BY_PATH,!0),this.onElementCreated(s,t);var o=new Ms(this,Ms.ELEMENT_CREATED,t,s);return this.onInteractionEvent(o),s},createEdgeByInteraction:function(t,i,e,n,r,s){var o=this.createEdge("Edge",t,i);if(r&&o.setStyle(xa.Styles.EDGE_FROM_PORT,r),s&&o.setStyle(xa.Styles.EDGE_TO_PORT,s),n)o._8x=n;else{var a=this.edgeUIClass,h=this.edgeType;this.interactionProperties&&(a=this.interactionProperties.uiClass||a,h=this.interactionProperties.edgeType||h),a&&(o.uiClass=a),h&&(o.edgeType=h)}this.onElementCreated(o,e);var l=new Ms(this,Ms.ELEMENT_CREATED,e,o);return this.onInteractionEvent(l),o},onElementCreated:function(t){!t.parent&&this.currentSubNetwork&&(t.parent=this.currentSubNetwork)},allowEmptyLabel:!1,startLabelEdit:function(t,i,e,n){var r=this;e.startEdit(n.x,n.y,i.data,this.getStyle(t,Wh.LABEL_FONT_SIZE),function(e){return r.onLabelEdit(t,i,e,i.parent)})},onLabelEdit:function(t,i,e,n){if(!e&&!this.allowEmptyLabel)return xa.alert("Label Can't Empty"),!1;if("label"==i.name){if(t.name==e)return!1;t.name=e}else n._h5(i,e)===!1&&(i.data=e,this.invalidateElement(t))},setInteractionMode:function(t,i){this.interactionMode=t,this.interactionProperties=i},upSubNetwork:function(){return this._31?this.currentSubNetwork=es(this._31):!1},_$n:!1,invalidateVisibility:function(){this._$n=!0,this.invalidate()},getBundleLabel:function(t){var i=t.getEdgeBundle(!0);return i&&i.agentEdge==t?"+"+i.bindableEdges.length:null},zoomAnimation:null,pauseRendering:function(t,i){(this.delayedRendering||i)&&this._7y._6x(t)},_4q:e,enableRectangleSelectionByRightButton:!0,getLinkablePoints:function(t){return t.linkablePoints}},Z(hl.prototype,{center:{get:function(){return this.toLogical(this.html.clientWidth/2,this.html.clientHeight/2)}},visibleFilter:{get:function(){return this._hhFilter},set:function(t){this._hhFilter=t,this.invalidateVisibility()}},topCanvas:{get:function(){return this._7y._topCanvas}},propertyChangeDispatcher:{get:function(){return this._$m}},listChangeDispatcher:{get:function(){return this._1p}},dataPropertyChangeDispatcher:{get:function(){return this._4}},selectionChangeDispatcher:{get:function(){return this._$l}},parentChangeDispatcher:{get:function(){return this._$u}},childIndexChangeDispatcher:{get:function(){return this._$f}},interactionDispatcher:{get:function(){return this._16}},cursor:{set:function(t){this.canvasPanel.style.cursor=t||this._2d.defaultCursor},get:function(){return this.canvasPanel.style.cursor}},interactionMode:{get:function(){return this._2d._lzurrentMode},set:function(t){var i=this.interactionMode;i!=t&&(this._2d.currentMode=t,this._49(new Io(this,"interactionMode",t,i)))}},scaleStep:{get:function(){return this._7y._ep},set:function(t){this._7y._ep=t}},maxScale:{get:function(){return this._7y._fr},set:function(t){this._7y._fr=t}},minScale:{get:function(){return this._7y._ft},set:function(t){this._7y._ft=t}},scale:{get:function(){return this._7y._scale},set:function(t){return this._7y._scale=t}},tx:{get:function(){return this._7y._tx}},ty:{get:function(){return this._7y._ty}},styles:{get:function(){return this._iy},set:function(t){this._iy=t}},selectionModel:{get:function(){return this._k1Model._selectionModel}},graphModel:{get:function(){return this._k1Model},set:function(t){if(this._k1Model==t)return!1;var i=this._k1Model,e=new Io(this,"graphModel",i,t);return this._1l(e)===!1?!1:(null!=i&&(i.propertyChangeDispatcher.removeListener(this._$m,this),i.listChangeDispatcher.removeListener(this._1p,this),i.dataChangeDispatcher.removeListener(this._4,this),i.parentChangeDispatcher.removeListener(this._$u,this),i.childIndexChangeDispatcher.removeListener(this._$f,this),i.selectionChangeDispatcher.removeListener(this._$l,this)),this._k1Model=t,this._k1Model&&(this._k1Model.propertyChangeDispatcher.addListener(this._$m,this),this._k1Model.listChangeDispatcher.addListener(this._1p,this),this._k1Model.dataChangeDispatcher.addListener(this._4,this),this._k1Model.parentChangeDispatcher.addListener(this._$u,this),this._k1Model.childIndexChangeDispatcher.addListener(this._$f,this),this._k1Model.selectionChangeDispatcher.addListener(this._$l,this)),this._7y&&this._7y._kg(),void this._49(e))}},count:{get:function(){return this._k1Model.length}},width:{get:function(){return this.html.clientWidth}},height:{get:function(){return this.html.clientHeight}},viewportBounds:{get:function(){return this._7y._viewportBounds}},bounds:{get:function(){return this._7y._41()}},canvasPanel:{get:function(){return this._7y._lwl}},html:{get:function(){return this._7y._lwl.parentNode}},navigationType:{get:function(){return this._7y._75},set:function(t){this._7y._3m(t)}},_31:{get:function(){return this._k1Model._31}},currentSubNetwork:{get:function(){return this._k1Model.currentSubNetwork},set:function(t){this._k1Model.currentSubNetwork=t}},limitedBounds:{get:function(){return this._limitedBounds},set:function(t){return Eo.equals(t,this._limitedBounds)?!1:t?void(this._limitedBounds=new Eo(t)):void(this._limitedBounds=null)}},ratio:{get:function(){return this._7y.ratio}},delayedRendering:{get:function(){return this._4q===e?ho.DELAYED_RENDERING:this._4q},set:function(t){t!=this.delayedRendering&&(this._4q=t,this.pauseRendering(!1,!0))}},fullRefresh:{get:function(){return this._7y.fullRefresh},set:function(t){this._7y.fullRefresh=t}}}),ho.DELAYED_RENDERING=!0,ho.GROUP_MIN_WIDTH=60,ho.GROUP_MIN_HEIGHT=60,ns.prototype={_lxv:function(){return this._63()?void 0:O(this,ns,"_lxv",arguments)},initialize:function(){O(this,ns,"initialize"),this.checkBody()},_lxu:function(){this._l3=new ah,this.shape=new rl(this._l3),this.shape.layoutByPath=!1,this.addChild(this.shape,0),this.body=this.shape},checkBody:function(){return this._63()?(this._1t=!0,this.shape?(this.shape.visible=!0,this.body=this.shape):(this._lxu(),Jh.initBindingProperties(this)),void(this.image&&(this.image.visible=!1))):(this.image?(this.image.visible=!0,this.body=this.image):this._lxs(),void(this.shape&&(this.shape.visible=!1)))},_63:function(){return this.$data._ht()&&this.$data.expanded},_l3:null,_1t:!0,_61:function(){this._1a=!0,this._1t=!0},doValidate:function(){if(this._1t&&this._63()){if(this._1t=!1,this.shape.invalidateData(),this.$data.groupImage){this.shape.data=this.$data.groupImage;var t=this._1s();return this.shape.offsetX=t.x+t.width/2,this.shape.offsetY=t.y+t.height/2,this.shape.size={width:t.width,height:t.height},dr.prototype.doValidate.call(this)}this.shape.offsetX=0,this.shape.offsetY=0;var i=this._8n(this.$data.groupType);this._l3.clear(),i instanceof Eo?Bn(this._l3,i.x,i.y,i.width,i.height,i.rx,i.ry):i instanceof re?zn(this._l3,i):i instanceof se&&Gn(this._l3,i),this._l3._66=!0,this.shape.invalidateData()}return dr.prototype.doValidate.call(this)},_7l:function(t,i,e,n,r){switch("number"!=typeof n&&(n=-i/2),"number"!=typeof r&&(r=-e/2),t){case Oa.GROUP_TYPE_CIRCLE:var s=Math.max(i,e)/2;return new re(n+i/2,r+e/2,s);case Oa.GROUP_TYPE_ELLIPSE:return new se(n+i/2,r+e/2,i,e);default:return new Eo(n,r,i,e)}},_1s:function(){return this._8n(null)},_8n:function(t){var i,n,r=this.data,s=r.padding,o=r.minSize,a=ho.GROUP_MIN_WIDTH,h=ho.GROUP_MIN_HEIGHT;if(o&&("number"==typeof o.width&&(a=o.width),"number"==typeof o.height&&(h=o.height),i=o.x,n=o.y),!r.hasChildren())return this._7l(t,a,h,i,n);var l,_=this.$data._fy._j7;(t==Oa.GROUP_TYPE_CIRCLE||t==Oa.GROUP_TYPE_ELLIPSE)&&(l=[]);for(var u,f,c,d,v=new Eo,g=0,E=_.length;E>g;g++){var p=_[g];if(this.graph.isVisible(p)&&!(p instanceof Gh)){var y=this.graph.getUI(p);y&&(u=y.$x+y._fl.x,f=y.$y+y._fl.y,c=y._fl.width,d=y._fl.height,v.addRect(u,f,c,d),l&&(l.push({x:u,y:f}),l.push({x:u+c,y:f}),l.push({x:u+c,y:f+d}),l.push({x:u,y:f+d})))}}if(v.isEmpty())return this._7l(t,a,h,i,n);var T=this.$data.$location;T?T.invalidateFlag&&(T.invalidateFlag=!1,i===e&&(T.x=v.cx),n===e&&(T.y=v.cy)):T=this.$data.$location={x:v.cx,y:v.cy},s&&v.grow(s),"number"==typeof i&&i+T.x<v.x&&(v.width+=v.x-(i+T.x),v.x=i+T.x,l&&l.push({x:v.x,y:v.cy})),"number"==typeof n&&n+T.y<v.y&&(v.height+=v.y-(v.y,n+T.y),v.y=n+T.y,l&&l.push({x:v.cx,y:v.y}));var m,i=T.x,n=T.y;if(t==Oa.GROUP_TYPE_CIRCLE){m=oe(l),m.cx-=i,m.cy-=n;var w=Math.max(a,h)/2;return m.r<w&&(m.cx+=w-m.r,m.cy+=w-m.r,m.r=w),m}return t==Oa.GROUP_TYPE_ELLIPSE?(m=ae(l,v),m.cx-=i,m.cy-=n,m.width<a&&(m.cx+=(a-m.width)/2,m.width=a),m.height<h&&(m.cy+=(h-m.height)/2,m.height=h),m):(m=v,v.width<a&&(v.width=a),v.height<h&&(v.height=h),v.offset(-i,-n),m)},_$r:function(t,i,e){if(!this._63())return O(this,ns,"_$r",arguments);var n=this._lzt.onBindingPropertyChange(this,t,i,e);return n=Vh.onBindingPropertyChange(this,t,i,e)||n,n=Zh.onBindingPropertyChange(this,t,i,e)||n,Jh.onBindingPropertyChange(this,t,i,e)||n}},w(ns,dr),xa.GroupUI=ns;var ll={draw:function(){}};ho.NAVIGATION_IMAGE_LEFT=null,ho.NAVIGATION_IMAGE_TOP=null;var _l={position:"absolute","text-align":"center"},ul={padding:"10px",transition:"opacity 0.2s ease-in"},fl={position:"relative",display:"block"};yi(".Q-Graph-Nav img","opacity:0.7;vertical-align:middle;"),yi(".Q-Graph-Nav img:hover,img.hover","opacity:1;background-color: rgba(0, 0, 0, 0.5)"),so||(yi(".Q-Graph-Nav","opacity:0;"+Uo("transition")+":opacity 3s cubic-bezier(0.8, 0, 0.8, 1)"),yi(".Q-Graph-Nav:hover","opacity:1;"+Uo("transition")+":opacity 0.3s linear")),os.prototype={_d0:function(t,i){return t._hh==i?!1:(t._hh=i,void(t.style.visibility=i?"visible":"hidden"))},_35:function(t,i){var e=i/2-this._left._img.clientHeight/2+"px";this._left._img.style.top=e,this._right._img.style.top=e,this._navPane.style.width=t+"px",this._navPane.style.height=i+"px"},_lwe:function(t,i,e,n){this._d0(this._top,t),this._d0(this._left,i),this._d0(this._lxottom,e),this._d0(this._right,n)},_hk:function(){var t=this._navPane.parentNode;t&&t.removeChild(this._navPane)},_jq:function(){var t=this._lxaseCanvas._k1;if(t){var i=t.bounds;if(i.isEmpty())return void this._lwe(!1,!1,!1,!1);var e=t.viewportBounds,n=e.y>i.y+1,r=e.x>i.x+1,s=e.bottom<i.bottom-1,o=e.right<i.right-1;this._lwe(n,r,s,o)}}};var cl=10;yi(".Q-Graph-ScrollBar","margin: 2px; position: absolute;box-sizing: border-box;box-shadow: #FFF 0px 0px 1px; background-color: rgba(120,120,120,0.3);border-radius: 4px;margin: 1px;"),yi(".Q-Graph-ScrollBar.hover, .Q-Graph-ScrollBar:hover","background-color: #7E7E7E;"+Uo("transition")+": background-color 0.2s linear;"),yi(".Q-Graph-ScrollBar--V","width: 8px;right: 0px;"),yi(".Q-Graph-ScrollBar--H","height: 8px;bottom: 0px;"),yi(".Q-Graph-ScrollBar--V.Both","margin-bottom: 8px;"),yi(".Q-Graph-ScrollBar--H.Both","margin-right: 8px;"),so||(yi(".Q-Graph-ScrollPane","opacity:0;"+Uo("transition")+":opacity 3s cubic-bezier(0.8, 0, 0.8, 1);"),yi(".Q-Graph:hover .Q-Graph-ScrollPane","opacity:1;"+Uo("transition")+":opacity 0.3s linear;")),as.prototype={_hk:function(){this._verticalDragSupport._hk(),this._horizontalDragSupport._hk(),delete this._verticalDragSupport,delete this._horizontalDragSupport,this._l5.parentNode&&this._l5.parentNode.removeChild(this._l5)},_l5:null,_lxt:null,_8g:null,init:function(t){var e=i.createElement("div");e.className="Q-Graph-ScrollPane",gi(e,{width:"100%",height:"100%",position:"relative"});var n=i.createElement("div");n.className="Q-Graph-ScrollBar Q-Graph-ScrollBar--V";var r=i.createElement("div");r.className="Q-Graph-ScrollBar Q-Graph-ScrollBar--H",e.appendChild(n),e.appendChild(r),t.appendChild(e),this._l5=e,this._8g=r,this._lxt=n,r.isH=!0;var s=this,o={onstart:function(t,i){i.classList.add("hover")},onrelease:function(t,i){i.classList.remove("hover")},ondrag:function(t,i){var e=s._lxaseCanvas._k1;if(e){var n=i.isH,r=n?t.dx:t.dy;if(r&&i.scale){var o=e.scale/i.scale;n?e.translate(-o*r,0):e.translate(0,-o*r),xa.stopEvent(t)}}},enddrag:function(t,i){var e=s._lxaseCanvas._k1;if(e&&e.enableInertia){var n=i.isH,r=n?t.vx:t.vy;if(Math.abs(r)>.1){var o=e.scale/i.scale;r*=o,n?e._91(-r,0):e._91(0,-r)}}}};this._verticalDragSupport=new xi(n,o),this._horizontalDragSupport=new xi(r,o)},_35:function(){var t=this._lxaseCanvas._k1;t&&t.callLater(this._jq.bind(this))},_jq:function(){var t=this._lxaseCanvas._k1;if(t){var i=t.bounds;if(i.isEmpty())return this._4x(!1),void this._4v(!1);var e=t.viewportBounds,n=t.width,r=t.height,s=t.scale,o=1/s,a=e.x>i.x+o||e.right<i.right-o,h=e.y>i.y+o||e.bottom<i.bottom-o,l=a&&h;l?(N(this._lxt,"Both"),N(this._8g,"Both")):(k(this._lxt,"Both"),k(this._8g,"Both")),this._4x(a,e,i,l?n-cl:n),this._4v(h,e,i,l?r-cl:r)}},_4x:function(t,i,e,n){if(!t)return this._8g.style.display="none",void(this._8g.scale=0);var r=Math.min(i.x,e.x),s=Math.max(i.right,e.right),o=s-r,a=n/o;this._8g.scale=a,this._8g.style.left=parseInt((i.x-r)*a)+"px",this._8g.style.right=parseInt((s-i.right)*a)+"px",this._8g.style.display=""},_4v:function(t,i,e,n){if(!t)return this._lxt.style.display="none",void(this._lxt.scale=0);var r=Math.min(i.y,e.y),s=Math.max(i.bottom,e.bottom),o=s-r,a=n/o;this._lxt.scale=a,this._lxt.style.top=parseInt((i.y-r)*a)+"px",this._lxt.style.bottom=parseInt((s-i.bottom)*a)+"px",this._lxt.style.display=""}},hs.prototype={shape:null,initialize:function(){O(this,hs,"initialize"),this._lxs(),il.initBindingProperties(this)},_lxs:function(){this.image=new ol(this.$data.path),this.addChild(this.image,0),this.body=this.image},invalidateShape:function(){this.image.invalidateData(),this.invalidateRender()},_$r:function(t,i,e){var n=this._lzt.onBindingPropertyChange(this,t,i,e);return n=Vh.onBindingPropertyChange(this,t,i,e)||n,il.onBindingPropertyChange(this,t,i,e)||n},doValidate:function(){this.body&&(this.image.data=this.data.path,this.body.$layoutByAnchorPoint=null!=this._2l,this.body.anchorPosition=this._2l);var t=this.$data.$location,i=0,e=0;t&&(i=t.x,e=t.y);var n=this.$x!=i||this.$y!=e;return n&&(this.$invalidateBounds=!0),this.$x=i,this.$y=e,nl.prototype.doValidate.call(this)||n},getLinkablePorts:function(){return this.data.linkablePorts},getLinkableBounds:function(){return this.bodyBounds},getDefaultPortPoint:function(t){return _i(yo.CENTER_MIDDLE,t||this.getLinkableBounds())},getPortPoint:function(t,i){if(!t)return this.getDefaultPortPoint(i);i=i||this.getLinkableBounds();var e;return i.original?(e=_i(t,i.original),i.rotate&&(e=Di(e.x,e.y,i.rotate,i.rotateX||0,i.rotateY||0)),e.x+=i.tx||0,e.y+=i.ty||0):e=_i(t,i),e.port=t,e},getPortPoints:function(){var t=this.getLinkablePorts();if(t&&Array.isArray(t)){var i=[],e=this.getLinkableBounds();return t.forEach(function(t){i.push(this.getPortPoint(t,e))}.bind(this)),i}}},w(hs,nl),Z(hs.prototype,{path:{get:function(){return this.data.path}},length:{get:function(){return this.data.length}}}),hs.prototype.addPoint=function(t,i,e){var n=this._hj(t,i),r=this.data,s=Ce(this.path,n.x,n.y,this.data.addSegmentType,e);return s?void(r.pathSegments=s.segments):!1},ls.prototype={_l6:function(){this._io.style.visibility="visible"},_js:function(){this._io.style.visibility="hidden"},clear:function(){this._9o.clear(),this._lzv()},contains:function(t){return t instanceof Object&&t.id&&(t=t.id),this._9o.containsById(t)},_52:function(t){Mh.setStyle(this._io,"transform",t?"matrix("+t.join(",")+")":"")},addDrawable:function(t,i){if(i){var e={id:++Hs,drawable:t,scope:i};return this._9o.add(e),e}return t.id||(t.id=++Hs),this._9o.add(t),t},removeDrawable:function(t){return t.id?void this._9o.remove(t):this._9o.removeById(t)},_9o:null,invalidate:function(){this._lzv()},_lzv:function(){this._lxaseCanvas._66||this._jb()},_hm:function(t,i){this._io.setSize(t,i)},_jb:function(){var t=this._lxaseCanvas._scale,i=this.g;i._kc(),i.save(),this._lxaseCanvas._9v(i);for(var e=this._9o._j7,n=0,r=e.length;r>n;n++)i.save(),i.beginPath(),this._h3(i,e[n],t),i.restore();i.restore()},_h3:function(t,i,e){return i instanceof Function?void i(t,e):void(i.drawable instanceof Function&&i.scope&&i.drawable.call(i.scope,t,e))}},ho.ZOOM_ANIMATE=!0;var dl=function(t){this._k1=t};ho.ANIMATION_MAXTIME=600,ho.ANIMATION_TYPE=ya.easeOut,dl.prototype={_k1:null,_de:null,_fq:function(t,i,e){this._kv();var n=Math.abs(t/2),r=Math.abs(i/2),s=Math.min(ho.ANIMATION_MAXTIME,.6*Math.max(n,r)*1e3);if(10>s)return!1;var o=function(t){return-(2*Math.pow(t,1.5)-3*t)},a=t*s/3,h=i*s/3;this._k9(this._k1.tx+a,this._k1.ty+h,0,{duration:s,animationType:o},e)},_6d:function(t,i,e,n,r){this._de&&this._de._kv(),r&&(this.__delayRender=!0,this._k1.pauseRendering(!0)),this._4u(),this._de=new ma(t,this,i,e),this._de._6b=this._6b.bind(this),this._de._k7(n)},_4u:function(){this._k1.onAnimationStart()},_6b:function(){this.__delayRender&&(this._k1.pauseRendering(!1),delete this.__delayRender),this._k1.onAnimationEnd()},_el:function(){return this._de&&this._de._el()},_kv:function(){this._de&&this._de._kv()},_hp:function(t){var i=this._fromTX+(this._toTX-this._fromTX)*t,e=this._fromTY+(this._toTY-this._fromTY)*t,n=this._fromScale+(this._toScale-this._fromScale)*t;this._k1.translateTo(i,e,n,this.toInt)},_k9:function(t,i,e,n,r){this._kv();var s=this._k1,o=s.scale;if(0>=e&&(e=o),t!=s.tx||i!=s.ty||e!=o){var a,h,l;n instanceof Object&&(a=n.duration,h=n.maxTime,l=n.animationType);var _=s.tx,u=s.ty;if(!a)if(e!=o){var f=e>o?e/o:o/e;f=Math.log(f)/Math.log(1.3),a=60*f}else{var c=co(t,i,_,u);a=c/2}h=h||ho.ANIMATION_MAXTIME,l=l||ho.ANIMATION_TYPE,a=Math.min(h,a),this._fromTX=_,this._fromTY=u,this._fromScale=o,this._toTX=t,this._toTY=i,this._toScale=e,this._6d(this._hp,a,l,r,e!=o)}}},ho.INTERACTION_HANDLER_SIZE_TOUCH=8,ho.INTERACTION_HANDLER_SIZE_DESKTOP=4,ho.INTERACTION_ROTATE_HANDLER_SIZE_TOUCH=30,ho.INTERACTION_ROTATE_HANDLER_SIZE_DESKTOP=20;var vl=Math.PI/4;fs.prototype={element:null,_$j:!1,setCurrentElement:function(t,i){this.element=t,i&&this.addDataPropertyChangeListener()},onDataPropertyChange:function(){},addDataPropertyChangeListener:function(){this._$j||(this._$j=!0,this.graph.dataPropertyChangeDispatcher.addListener(this._19,this))},removeDataPropertyChangeListener:function(){this._$j&&(this._$j=!1,this.graph.dataPropertyChangeDispatcher.removeListener(this._19,this))},_19:function(t){this.element&&t.source==this.element&&this.onDataPropertyChange(t)},onElementRemoved:function(t,i){this.element&&(t==this.element||G(t)&&T(t,this.element))&&this.destroy(i)},onClear:function(t){this.element&&this.destroy(t)},destroy:function(){delete this.element,this.removeDataPropertyChangeListener(),this.removeDrawable(),this.drawableList=null},invalidate:function(){this.topCanvas.invalidate()},removeDrawable:function(){this._ksableId&&(this.topCanvas.removeDrawable(this._ksableId),delete this._ksableId,this.invalidate())},drawableList:null,addDrawable:function(){this._ksableId||(this._ksableId=this.topCanvas.addDrawable(this.draw,this).id,this.invalidate())},isShowing:function(){return this._ksableId},draw:function(t,i){this.drawableList&&this.drawableList.forEach(function(e){e.draw(t,i)}),this.doDraw(t,i)},doDraw:function(){},escapable:!0,onkeydown:function(t,i){this.escapable&&27==t.keyCode&&(j(t),this.destroy(i))}},xa.DrawableInteraction=fs,cs.prototype={defaultCursor:"default",getInteractionInstances:function(t){if(!this.interactions)return null;for(var i=[],e=0,n=this.interactions.length;n>e;e++){var r=this.interactions[e];r instanceof Function&&(r=new r(t)),r.install instanceof Function&&r.install(t),i.push(r)}return i}},ds.prototype={_eu:null,_jp:null,destroy:function(){O(this,ds,"destroy",arguments),delete this._jp,delete this._9j,delete this._eu},doDraw:function(t){var i=this.points;i&&(t.beginPath(),i.forEach(function(i){this.drawPoint(t,i)},this),this.isClosePath&&t.closePath(),this.styleDraw(t))},styleDraw:function(t){var i=vs(this.graph.interactionProperties,this.getDefaultDrawStyles(this.graph));i.lineWidth&&(t.lineWidth=i.lineWidth,i.lineCap&&(t.lineCap=i.lineCap),i.lineJoin&&(t.lineJoin=i.lineJoin),i.lineDash&&(t.lineDash=i.lineDash,t.lineDashOffset=i.lineDashOffset||0),t.strokeStyle=i.strokeStyle,t.stroke()),i.fillStyle&&(t.fillStyle=i.fillStyle,t.fill())},drawPoint:function(t,i,e){if(e)return void t.moveTo(i.x,i.y);if(xa.isArray(i)){var n=i[0],r=i[1];t.quadraticCurveTo(n.x,n.y,r.x,r.y)}else t.lineTo(i.x,i.y)},setCurrentPoint:function(t){this.currentPoint=t},addPoint:function(t){this._jp||(this._jp=[],this.addDrawable()),this._jp.push(t),this.invalidate()}},w(ds,fs),Z(ds.prototype,{currentPoint:{get:function(){return this._9j},set:function(t){this._9j=t,this.invalidate()}},prevPoint:{get:function(){return this._jp&&this._jp.length?this._jp[this._jp.length-1]:null}},points:{get:function(){return this._9j&&this._jp&&this._jp.length?this._jp.concat(this._9j):void 0}}}),xa.DrawPathInteraction=ds,gs.prototype={_hn:function(t,i){return this.start&&t!=this.start?this._ew(t,i):this._lxq(t,i)},_lxq:function(t,i){return t instanceof Fh&&i.canLinkFrom(t)},_ew:function(t,i){return t instanceof Fh&&i.canLinkTo(t,this.start)},_lw2:function(t,i,e,n){if(this._lzurrentPort)return this._lzurrentPort.nearestPoint(e,n);var r=i.getUI(t);return r&&r.bodyBounds?r.bodyBounds.center:t.location},_lzw:function(t){this._k6&&(clearTimeout(this._k6),delete this._k6),this._k6=setTimeout(function(t){if(delete this._k6,this.start&&this.currentPoint){var i=t.x-this.currentPoint.x,e=t.y-this.currentPoint.y;Math.sqrt(i*i+e*e)*this.graph.scale<=2&&this.addPoint(this.currentPoint)}}.bind(this,this.toLogicalPoint(t)),ho.LONG_PRESS_INTERVAL)},destroy:function(){O(this,gs,"destroy",arguments),this.start=null,this.startPort=null,this._k6&&(clearTimeout(this._k6),delete this._k6),this._lxp=null,this._lzurrentPort=null},ondblclick:function(t,i){this.destroy(i)},finish:function(t,i,e,n){var r;this._jp&&this._jp.length>=2&&(this._jp.shift(),r=new lo,d(this._jp,function(t){if(xa.isArray(t)){var i=t[0],e=t[1];r.add(new sh(Oa.SEGMENT_QUAD_TO,[i.x,i.y,e.x,e.y]))}else r.add(new sh(Oa.SEGMENT_LINE_TO,[t.x,t.y]))},this)),i.createEdgeByInteraction(this.start,e,t,r,this.startPort,n),this.destroy(i)},onstart:function(t,i){if(this.start){var e=t.getData(),n=i.toLogical(t);return this._ew(e,i)?void this.finish(t,i,e,new ps(i.getUI(e)).nearestPoint(n.x,n.y).port):void this.addPoint(n)}},startdrag:function(t,i){if(!this.start&&!t.responded){var e=t.getData();if(e&&this._lxq(e,i)){t.responded=!0,this.start=e;var n=i.toLogical(t),r=this._lw2(e,i,n.x,n.y);this.startPort=r.port,this.addPoint(r)}}},ondrag:function(t,i){this.onmousemove(t,i)},enddrag:function(t,i){if(this.start){var e=t.getData();if(this._ew(e,i)){var n=i.toLogical(t);this.finish(t,i,e,new ps(i.getUI(e)).nearestPoint(n.x,n.y).port)}}},onrelease:function(t,i){ta(t)&&this.destroy(i)},_lxp:null,onmousemove:function(t,i){var e=i.toLogical(t),n=Es(i,e.x,e.y,function(t){return this._hn(t,i)}.bind(this));n!=this._lxp&&(this._lxp=n,this._lzurrentPort=n?new ps(i.getUI(n)):null,n?(this.addDrawable(),this.drawableList=[this._lzurrentPort]):this.drawableList=null,this.invalidate());var r;this._lzurrentPort&&(r=this._lzurrentPort.nearestPoint(e.x,e.y),this.invalidate()),this.start&&(this.currentPoint=r||e,ta(t)&&this._lzw(t,i))},toLogicalPoint:function(t){return this.graph.toLogical(t)},getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(Wh.EDGE_WIDTH),strokeStyle:this.graph.getDefaultStyle(Wh.EDGE_COLOR),lineDash:this.graph.getDefaultStyle(Wh.EDGE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(Wh.EDGE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(Wh.LINE_CAP),lineJoin:this.graph.getDefaultStyle(Wh.LINE_JOIN)}}},w(gs,ds),xa.CreateEdgeInteraction=gs,ps.prototype.drawRect=function(t,i,e){var n=0;t.beginPath(),t.rect(e.x-n,e.y-n,e.width+2*n,e.height+2*n),t.lineWidth=2/i,t.strokeStyle="#2898E0",t.stroke()},ps.prototype.drawPoint=function(t,i,e){var n=4;t.beginPath();var r=n/i;t.moveTo(e.x+r,e.y),t.arc(e.x,e.y,r,0,2*Math.PI,!1),t.lineWidth=1/i,e.marked?(t.strokeStyle="#1D4876",t.fillStyle="#E21667"):(t.strokeStyle="#2898E0",t.fillStyle="rgba(255, 255, 255, 0.8)"),t.fill(),t.stroke()},ps.prototype.draw=function(t,i){var e=this.rect;this.drawRect(t,i,e),this.points&&this.points.forEach(function(e){this.drawPoint(t,i,e)}.bind(this))},ps.prototype.nearestPoint=function(t,i,e){if(this.points){e=e||20,e*=e;var n,r=e;return this.points.forEach(function(s){s.marked&&(s.marked=!1);var o=s.x-t,a=s.y-i,h=o*o+a*a;e>h&&r>h&&(r=h,n=s)}),n&&(n.marked=!0),n||this.defaultPoint}return this.defaultPoint},ys.prototype={getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(Wh.SHAPE_STROKE),strokeStyle:this.graph.getDefaultStyle(Wh.SHAPE_STROKE_STYLE),fillStyle:this.graph.getDefaultStyle(Wh.SHAPE_FILL_COLOR)}},finish:function(t,i){if(this._jp&&this._jp.length){var e=this._jp,n=0,r=0,s=0;e.forEach(function(t){return xa.isArray(t)?void t.forEach(function(){n+=t.x,r+=t.y,s++}):(n+=t.x,r+=t.y,void s++)}),n/=s,r/=s;var o=[];e.forEach(function(t,i){if(0==i)return void o.push(new sh(Oa.SEGMENT_MOVE_TO,[t.x-n,t.y-r]));if(xa.isArray(t)){var e=t[0],s=t[1];o.push(new sh(Oa.SEGMENT_QUAD_TO,[e.x-n,e.y-r,s.x-n,s.y-r]))}else o.push(new sh(Oa.SEGMENT_LINE_TO,[t.x-n,t.y-r]))}),this.createElement(t,o,n,r),this.destroy(i)}},startdrag:function(t){t.responded=!0},createElement:function(t,i,e,n){return this.graph.createShapeByInteraction(t,i,e,n)},onstart:function(t,i){var e=i.toLogical(t);this._eu=e,this.addPoint(e)},onmousemove:function(t,i){this._eu&&(this.currentPoint=i.toLogical(t))},ondblclick:function(t,i){if(this._eu){if(this._jp.length<3)return void this.destroy(i);delete this._jp[this._jp.length-1],this.finish(t,i)}},isClosePath:!0},w(ys,ds),xa.CreateShapeInteraction=ys,Ts.prototype={isClosePath:!1,createElement:function(t,i,e,n){return this.graph.createLineByInteraction(t,i,e,n)},getDefaultDrawStyles:function(){return{lineWidth:al[Wh.SHAPE_STROKE],strokeStyle:al[Wh.SHAPE_STROKE_STYLE],lineDash:this.graph.getDefaultStyle(Wh.SHAPE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(Wh.SHAPE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(Wh.LINE_CAP),lineJoin:this.graph.getDefaultStyle(Wh.LINE_JOIN)}}},w(Ts,ys),xa.CreateLineInteraction=Ts,ms.prototype={destroy:function(t){O(this,ms,"destroy",arguments),t.cursor="",this.start=null},doDraw:function(t){if(this.start&&this.currentPoint){var i,e;this.graph.interactionProperties&&(i=this.graph.interactionProperties.uiClass,e=this.graph.interactionProperties.edgeType),i=i||this.graph.edgeUIClass||xa.EdgeUI,e=e||this.graph.edgeType;var n=i.drawReferenceLine||xa.EdgeUI.drawReferenceLine,r=this.graph.getUI(this.start);r&&r.bodyBounds&&(r=r.bodyBounds.center,t.beginPath(),n(t,r,this.currentPoint,e),this.styleDraw(t))}},canLinkFrom:function(t,i){return t instanceof Fh&&i.canLinkFrom(t)},canLinkTo:function(t,i){return t instanceof Fh&&i.canLinkTo(t,this.start)},startdrag:function(t,i){var e=t.getData();this.canLinkFrom(e,i)&&(t.responded=!0,this.start=e,i.cursor="crosshair",this.addDrawable())},ondrag:function(t,i){this.start&&(xa.stopEvent(t),this.currentPoint=i.toLogical(t),this.invalidate())},enddrag:function(t,i){if(this.start){this.invalidate();var e=t.getData();this.canLinkTo(e,i)&&i.createEdgeByInteraction(this.start,e,t),this.destroy(i)}},getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(Wh.EDGE_WIDTH),strokeStyle:this.graph.getDefaultStyle(Wh.EDGE_COLOR),lineDash:this.graph.getDefaultStyle(Wh.EDGE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(Wh.EDGE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(Wh.LINE_CAP),lineJoin:this.graph.getDefaultStyle(Wh.LINE_JOIN)}}},w(ms,ds),xa.CreateSimpleEdgeInteraction=ms,ho.LABEL_EDITOR_SUBMIT_WHEN_LOST_FOCUS=!1,Ls.prototype={html:null,createHTML:function(){var t=i.createElement("textarea");t.className="Q-LabelEditor",t.style.position="absolute",t.style.textAlign="center",t.style.border="solid #08E 1px",t.style.padding="5px",t.style.boxShadow="0px 0px 10px rgba(40, 85, 184, 0.75)",t.style.display="none",t.style.overflow="hidden";var e=this;return t.oninput=function(t){e.onValueChange(t)},t.onkeydown=function(t){return 27==t.keyCode?void e.cancelEdit():void 0},t.onkeypress=function(i){if(13==i.keyCode||10==i.keyCode){if(i.preventDefault(),i.altKey||i.ctrlKey||i.shiftKey)return As(t,"\n"),void e.onValueChange(i);e.stopEdit()}},i.body.appendChild(t),t},setText:function(t,i){this.html.value=t||"",i&&(this.html.style.fontSize=i),bs(this.html),this.onSizeChange(this.html)},onSizeChange:function(t){var i=(t.offsetWidth,t.offsetHeight,Os(t));return t.style.width=i.width+30+"px",t.style.height=i.height+10+"px",i},onValueChange:function(t){{var i=t.target;this.onSizeChange(i)}i.style.left=i.x-i.offsetWidth/2+"px"},onClickOnWindow:function(t){t.target!=this.html&&(ho.LABEL_EDITOR_SUBMIT_WHEN_LOST_FOCUS?this.stopEdit():this.cancelEdit())},startEdit:function(i,e,n,r,s){this.html||(this.html=this.createHTML()),this.stopEditWhenClickOnWindow||(this.stopEditWhenClickOnWindow=function(t){this.onClickOnWindow(t)}.bind(this)),t.addEventListener("mousedown",this.stopEditWhenClickOnWindow,!0),this.callback=s,this.html.x=i,this.html.y=e,this.html.style.display="block",xs(this.html,i,e),this.setText(n,r||10),xs(this.html,i,e)},isEditing:function(){return"none"!=this.html.style.display},cancelEdit:function(){this.stopEdit(!0)},stopEdit:function(i){if(this.isEditing()){t.removeEventListener("mousedown",this.stopEditWhenClickOnWindow);var e=this.html.value;!i&&this.callback&&this.callback(e),this.html.style.display="none",this.html.value=null,this.callback=null}},destroy:function(){this.html&&i.body.removeChild(this.html)}},xa.LabelEditor=Ls;var gl=function(t){this.graph=t};gl.prototype={destroy:function(t){t.labelEditor&&(t.labelEditor.destroy(),delete t.labelEditor)},ondblclick:function(t,i){var e=t.getData();if(e){if(e.dblclickable!==!1){if(i.editable&&i.isEditable(e)){var n=i.hitTest(t);if(n instanceof sl&&n.editable!==!1){var r=i.labelEditor;r||(i.labelEditor=r=new Ls);var s=n.getBounds();return s=i.toCanvas(s.x+s.width/2,s.y+s.height/2),s=ws(s.x,s.y,i.html),void i.startLabelEdit(e,n,r,s)}}var o=e instanceof Yh,a=e instanceof Gh&&e.hasEdgeBundle();return e._3w&&(Oi(t)||!o&&!a)?void(i.currentSubNetwork=e):o?(e.expanded=!e.expanded,void this.graph.onInteractionEvent(new Ms(this.graph,Ms.GROUP_EXPANDED,t,e))):void(a&&this.graph.reverseExpanded(e)&&this.graph.onInteractionEvent(new Ms(this.graph,Ms.EDGE_BUNDLE,t,e)))}}else{if(i.currentSubNetwork)return void i.upSubNetwork();if(i.enableDoubleClickToOverview){var h=i.resetScale||1;Math.abs(i.scale-h)<1e-4?i.zoomToOverview():i.moveToCenter(h)}}}};var El=function(t){this.graph=t};El.prototype={onkeydown:function(t,i){if(i.editable){var e=t.keyCode;
if(8==e||46==e||127==e)return i.removeSelectionByInteraction(t),void F(t);if(Oi(t)){if(67==e);else if(86==e);else if(90==e);else if(89!=e)return;F(t)}}}},xa.EditInteraction=El;var pl=function(t){this.graph=t};pl.prototype={onkeydown:function(i,e){if(i.metaKey&&83==i.keyCode){var n=e.exportImage(e.scale,e.viewportBounds),r=t.open(),s=r.document;s.title="export image - "+n.width+" x "+n.height;var o=s.createElement("img");o.src=n.data,s.body.appendChild(o),F(i)}}};var yl=function(t){this.graph=t};yl.prototype={destroy:function(){delete this.draggingElements,delete this.currentDraggingElement},_1x:function(t){var i=new lo;return t.selectionModel.forEach(function(e){t.isMovable(e)&&t.isVisible(e)&&i.add(e)},this),i},onstart:function(t,i){this.currentDraggingElement&&this.destroy(i)},startdrag:function(t,i){if(!(t.responded||t.touches&&1!=t.touches.length)){var e=t.getData();if(!e||!i.isSelected(e)||!i.isMovable(e))return void this.destroy(i);t.responded=!0,this.currentDraggingElement=e,this.draggingElements=this._1x(i);var n=new Ms(i,Ms.ELEMENT_MOVE_START,t,this.currentDraggingElement,this.draggingElements.datas);return i.beforeInteractionEvent(n)===!1?void this.destroy(i):void i.onInteractionEvent(n)}},ondrag:function(t,i){if(this.currentDraggingElement){if(t.touches&&1!=t.touches.length)return void this.enddrag(t,i);j(t);var e=t.dx,n=t.dy,r=i.scale;e/=r,n/=r;var s=new Ms(i,Ms.ELEMENT_MOVING,t,this.currentDraggingElement,this.draggingElements.datas);i.moveElements(this.draggingElements.datas,e,n),i.onInteractionEvent(s)}},enddrag:function(t,i){if(this.currentDraggingElement){if(this.draggingElements&&this.draggingElements.length){if(t.shiftKey){var e,n=i.toLogical(t),r=n.x,s=n.y;i.forEachReverseVisibleUI(function(t){var i=t.data;if(!this.draggingElements.contains(i)&&t.uiBounds.intersectsPoint(r-t.x,s-t.y)&&t.hitTest(r,s,1)){if(i instanceof xa.Edge){if(!i.enableSubNetwork)return;for(var n=this.draggingElements.length;n-->0;){var o=this.draggingElements.get(n);if(o instanceof xa.Node&&o.linkedWith(i))return}return e=i,!1}return(i.enableSubNetwork||i._ht()&&i.expanded)&&(e=i),!1}},this),e&&this.draggingElements.forEach(function(t){for(var i=t.parent;i;){if(this.draggingElements.contains(i))return;i=i.parent}t.parent=e},this)}var o=new Ms(i,Ms.ELEMENT_MOVE_END,t,this.currentDraggingElement,this.draggingElements.datas);i.onInteractionEvent(o)}this.destroy(i)}},onpinch:function(t,i){this.currentDraggingElement&&this.enddrag(t,i)},step:1,onkeydown:function(t,i){if(Oi(t)){var e,n;if(37==t.keyCode?e=-1:39==t.keyCode?e=1:38==t.keyCode?n=-1:40==t.keyCode&&(n=1),e||n){var r=this._1x(i).datas;if(0!=r.length){F(t),e=e||0,n=n||0;var s=this.step/i.scale,o=new Ms(i,Ms.ELEMENT_MOVE_END,t,null,r);i.moveElements(r,e*s,n*s),i.onInteractionEvent(o)}}}}};var Tl=function(t){this.graph=t};Tl.prototype={onkeydown:function(t,i){Oi(t)||(37==t.keyCode?(this._5y(i,1,0),F(t)):39==t.keyCode?(this._5y(i,-1,0),F(t)):38==t.keyCode?(this._5y(i,0,1),F(t)):40==t.keyCode&&(this._5y(i,0,-1),F(t)))},_5y:function(t,i,e){t._91(i,e)},onstart:function(t,i){this._k7&&this.destroy(i)},_k7:!1,startdrag:function(t,i){if(!t.responded){t.responded=!0,this._k7=!0,i.cursor=ca;var e=new Ms(i,Ms.PAN_START,t);i.onInteractionEvent(e)}},ondrag:function(t,i){this._k7&&i.translate(t.dx||0,t.dy||0)},enddrag:function(t,i){if(this._k7){if(i.enableInertia!==!1){var e=t.vx,n=t.vy;(Math.abs(e)>.1||Math.abs(n)>.1)&&i._91(e,n)}this.destroy(i);var r=new Ms(i,Ms.PAN_END,t);i.onInteractionEvent(r)}},startpinch:function(t,i){i.pauseRendering(!0)},onpinch:function(t,i){this._k7=!0;var e=t.dScale;if(e){var n=i.globalToLocal(t.center);i.zoomAt(e,n.x,n.y,!1)}},endpinch:function(t,i){i.pauseRendering(!1)},destroy:function(t){this._k7=!1,t.cursor=null}},Ss.prototype={onDataPropertyChange:function(){this.graph.callLater(function(){this._jq()},this)},destroy:function(){this.graph.cursor=null,this.element&&delete this.element._editting,this._mousePressed=!1,delete this._8x,delete this._9j,delete this._lzanEdit,O(this,Ss,"destroy",arguments)},_8x:null,_5q:function(t){this._8x=t,this.invalidate()},isEndPointEditable:function(t,i){return this.graph.isEndPointEditable(t,i)},drawPoint:function(t,i,e){(!i.isEndPoint||this.isEndPointEditable(this.element,i.isFrom))&&(t.beginPath(),i.isControlPoint?t.rect(i.x-this.handlerSize/e,i.y-this.handlerSize/e,this.handlerSize/e*2,this.handlerSize/e*2):t.arc(i.x,i.y,this.handlerSize/e,0,2*Math.PI,!1),t.lineWidth=1/e,t.lineDash=[],t.strokeStyle="#888",t.fillStyle="rgba(255, 255, 0, 0.8)",t.stroke(),t.fill())},_gw:function(t,i,e,n){n?t.moveTo(i,e):t.lineTo(i,e)},doDraw:function(t,i){this.drawLine(t,i)},drawLine:function(t,i){if(this._8x&&this._8x.length){var e=this._8x;t.save();var n=this.element instanceof $h;n&&(t.translate(this.element.x,this.element.y),this.element.rotate&&t.rotate(this.element.rotate));var r,s=[];t.beginPath();var o=e.length;e.forEach(function(i,e){if(i.type!=Oa.SEGMENT_CLOSE)for(var n=!e||e==o-1,a=0,h=i.points;a+1<h.length;){var l=h[a],_=h[a+1],u={x:l,y:_,isControlPoint:this._7i(i,a)};n&&(u.isEndPoint=!0,u.isFrom=0==e),s.push(u),this._gw(t,u.x,u.y,null==r),r=u,a+=2}},this),t.lineWidth=1/i,t.lineDash=[2/i,3/i],t.strokeStyle="#555",t.stroke(),s.forEach(function(e,n){this.drawPoint(t,e,i,n)},this),t.restore()}},invalidate:function(){this.topCanvas.invalidate()},_3e:function(t){if(this.element!=t&&(this.element&&this.destroy(),t&&this.isEditable(t))){var i=this._5s(t,this.graph);i&&(this.setCurrentElement(t,!0),t._editting=!0,this._lzanEdit=!0,this._5q(i),this.addDrawable())}},_jq:function(){if(this.isShowing()&&this.element){var t=this._5s(this.element,this.graph);return t?void this._5q(t):void this.destroy(this.graph)}},_5s:function(t,i){if(i.isEditable(t)){var e=t.pathSegments||[];e instanceof lo&&(e=e.toDatas());var n=i.getUI(t);if(n instanceof xa.EdgeUI){var r=n.getEndPointBounds(i.getUI(t.fromAgent)),s=n.getEndPointBounds(i.getUI(t.toAgent)),o=r.center,a=s.center,h=n.getStyle(Wh.EDGE_FROM_OFFSET),l=n.getStyle(Wh.EDGE_TO_OFFSET);h&&(o.x+=h.x||0,o.y+=h.y||0),l&&(a.x+=l.x||0,a.y+=l.y||0),e.splice(0,0,new xa.PathSegment(Oa.SEGMENT_MOVE_TO,[o.x,o.y])),e.push(new xa.PathSegment(Oa.SEGMENT_MOVE_TO,[a.x,a.y]))}return e}},_hj:function(t,i){t-=this.element.x,i-=this.element.y;var e={x:t,y:i};return this.element.rotate&&Gr(e,-this.element.rotate),e},isPointAddable:function(){return!0},isPointRemovable:function(){return!0},onclick:function(t,i){if(i.editable&&t.altKey&&this.element){var e=this._gl(t,i);if(e&&e.isControlPoint&&this.isPointRemovable(this.element,e,i)!==!1){if(e.index>=0){this.element.removePathSegmentByIndex(e.index);var n=new Ms(i,Ms.POINT_REMOVE,t,this.element);n.point=e,i.onInteractionEvent(n)}}else if(this.element==t.getData()&&this.isPointAddable(this.element,i)!==!1){var r=i.toLogical(t),s=i.getUI(this.element);if(s.addPoint(r.x,r.y,this.handlerSize||2)!==!1){var n=new Ms(i,Ms.POINT_ADD,t,this.element);n.point=r,i.onInteractionEvent(n)}}}},isEditable:function(t){return this.graph.isEditable(t)&&(t instanceof $h||t instanceof Gh&&(!t.isLooped()||t.hasPathSegments()))},ondblclick:function(t,i){if(!i.editable)return void(this.element&&this.destroy(i));var e=t.getData();return!e||e==this.element||e._editting?void this.destroy(i):void this._3e(e)},onstart:function(t,i){if(this._mousePressed=!0,!i.editable)return void(this.element&&this.destroy(i));if(!t.responded){if(this.element&&this._gl(t,i))return void(t.responded=!0);var e=t.getData();return e&&i.isResizable(e)&&e instanceof $h?void(this.element&&e!=this.element&&this.destroy()):void this._3e(e)}},onrelease:function(){this._mousePressed=!1,this.element&&(this._lzanEdit=!0)},_9j:null,_gl:function(t,i){var e=i.toLogical(t);this.element instanceof $h&&(e=this._hj(e.x,e.y));var n,r=i.scale,s=this.handlerSize/r,o=this._8x,a=o.length,h=this.element instanceof xa.Edge;return o.forEach(function(t,r){for(var l=0,_=t.points;l+1<_.length;){var u=_[l],f=_[l+1],c=co(e.x,e.y,u,f);if(s>c){if(n={oldPoints:_.slice(0),segment:t,index:r,pointIndex:l},h&&(n.index-=1),h&&!Is(t)&&(0==r||r==o.length-1)){n.isEndPoint=!0;var d=0==r;n.isFrom=d;var v=d?xa.Styles.EDGE_FROM_OFFSET:xa.Styles.EDGE_TO_OFFSET,g=i.getStyle(this.element,v)||{};n.oldPoints=[g.x||0,g.y||0]}return this._7i(t,l)&&(n.isControlPoint=!0,r>0&&(n.prevSegment=o instanceof lo?o.getByIndex(r-1):o[r-1]),a>r+1&&(n.nextSegment=o instanceof lo?o.getByIndex(r+1):o[r+1],n.nextSegment.points&&(n.oldNextPoints=n.nextSegment.points.slice(0)))),!1}l+=2}},this),n&&n.isEndPoint&&!this.isEndPointEditable(this.element,n.isFrom)?void 0:n},_7i:function(t,i){return i==t.points.length-2},startdrag:function(t,i){if(this.element&&this._lzanEdit&&(this._9j=this._gl(t,i),this._9j)){this.removeDrawable(),t.responded=!0;var e=new Ms(i,Ms.POINT_MOVE_START,t,this.element);e.point=this._9j,i.onInteractionEvent(e)}},onkeyup:function(t,i){this._mousePressed&&16!=!t.keyCode&&this.element&&this._9j&&this._9j.delta&&this._lzs(this._9j.delta.x,this._9j.delta.y,i,t,!1)},onkeydown:function(t,i){O(this,Ss,"onkeydown",arguments),this._mousePressed&&this.element&&this._9j&&t.shiftKey&&this._9j.delta&&this._lzs(this._9j.delta.x,this._9j.delta.y,i,t,!0)},_lzs:function(t,i,e,n,r){var s=this._9j,o=this.element,a=s.oldPoints,h=s.segment;if(s.isEndPoint){var l=s.isFrom?xa.Styles.EDGE_FROM_OFFSET:xa.Styles.EDGE_TO_OFFSET,_={x:a[0]+t,y:a[1]+i};o.setStyle(l,_);var u=new Ms(e,Ms.POINT_MOVING,n,o);return u.point=s,void e.onInteractionEvent(u)}if(r&&s.isControlPoint){var f={x:a[a.length-2]+t,y:a[a.length-1]+i},c=s.prevSegment,d=s.nextSegment,v=20/e.scale,g=Number.MAX_VALUE,E=g,p=g,y=g;c&&(c=c.lastPoint,g=Math.abs(f.x-c.x),p=Math.abs(f.y-c.y)),d&&(d=d.lastPoint,E=Math.abs(f.x-d.x),y=Math.abs(f.y-d.y)),v>g&&E>g?t+=c.x-f.x:v>E&&g>E&&(t+=d.x-f.x),v>p&&y>p?i+=c.y-f.y:v>y&&p>y&&(i+=d.y-f.y)}if(s.isControlPoint&&Is(h)){for(var T=h.points.length-4;T<h.points.length;){var m=a[T]+t,w=a[T+1]+i;h.points[T]=m,h.points[T+1]=w,T+=2}if(s.nextSegment&&Is(s.nextSegment)){var x=s.oldNextPoints,m=x[0]+t,w=x[1]+i;s.nextSegment.points[0]=m,s.nextSegment.points[1]=w}}else{var T=s.pointIndex,m=a[T]+t,w=a[T+1]+i;h.points[T]=m,h.points[T+1]=w}o.firePathChange();var u=new Ms(e,Ms.POINT_MOVING,n,o);u.point=s,e.onInteractionEvent(u)},ondrag:function(t,i){if(this.element&&this._9j){var e=this._9j,n=this.element,r=t.totalDeltaX,s=t.totalDeltaY,o=i.scale;if(r/=o,s/=o,n.rotate){var a={x:r,y:s};Gr(a,-n.rotate),r=a.x,s=a.y}e.delta={x:r,y:s},this._lzs(r,s,i,t,t.shiftKey)}},enddrag:function(t,i){if(this.element&&this._9j){this.addDrawable(),this._jq();var e=new Ms(i,Ms.POINT_MOVE_END,t,this.element);e.point=this._9j,i.onInteractionEvent(e)}},onmousemove:function(t,i){this.element&&(i.cursor=t.altKey&&(this._gl(t,i)||this.element==t.getData())?"crosshair":null)}},w(Ss,fs),ho.SELECTION_RECTANGLE_STROKE=1,ho.SELECTION_RECTANGLE_STROKE_COLOR=q(3724541951),ho.SELECTION_RECTANGLE_FILL_COLOR=q(1430753245),Oa.RECTANGLE_SELECTION_MODE_INTERSECT="intersect",Oa.RECTANGLE_SELECTION_MODE_CONTAIN="contain",ho.RECTANGLE_SELECTION_MODE=Oa.RECTANGLE_SELECTION_MODE_INTERSECT;var ml=function(t){this.graph=t,this.topCanvas=t.topCanvas};ml.prototype={onstart:function(t,i){this._k7&&this.destroy(i)},startdrag:function(t,i){t.responded||(t.responded=!0,this._k7=i.toLogical(t),i.cursor="crosshair",this._$vId=this.topCanvas.addDrawable(this._$v,this).id)},ondrag:function(t,i){if(this._k7){j(t),this._end=i.toLogical(t),this.invalidate();var e=new Ms(i,Ms.SELECT_START,t,i.selectionModel);i.onInteractionEvent(e)}},enddrag:function(t,i){if(this._k7){this._feTimer&&(clearTimeout(this._feTimer),this._feTimer=null),this._fe(!0),this.destroy(i);var e=new Ms(i,Ms.SELECT_END,t,i.selectionModel);i.onInteractionEvent(e)}},onpinch:function(t,i){this._k7&&this.enddrag(t,i)},_$v:function(t,i){t.strokeStyle=ho.SELECTION_RECTANGLE_STROKE_COLOR,t.fillStyle=ho.SELECTION_RECTANGLE_FILL_COLOR,t.lineWidth=ho.SELECTION_RECTANGLE_STROKE/i;var e=this._k7.x,n=this._k7.y;t.rect(e,n,this._end.x-e,this._end.y-n),t.fill(),t.stroke()},invalidate:function(){return this.invalidateFlag?void this.topCanvas.invalidate():(this.invalidateFlag=!0,void(this._feTimer=setTimeout(this._fe.bind(this),100)))},_fe:function(t){if(this.invalidateFlag=!1,this._feTimer=null,!this._k7||qs&&!t)return void this.topCanvas.invalidate();var i=Math.min(this._k7.x,this._end.x),e=Math.min(this._k7.y,this._end.y),n=Math.abs(this._k7.x-this._end.x),r=Math.abs(this._k7.y-this._end.y);if(!n||!r)return void this.graph.selectionModel.clear();var s=[],o=this.graph.scale,a=this.graph.rectangleSelectionMode;if(this.graph.forEachVisibleUI(function(t){t._hh&&this.graph.isSelectable(t.$data)&&this.inRectangle(i,e,n,r,t,o,a)&&s.push(t.data)}.bind(this)),this.graph.selectionModel.set(s),this.topCanvas.invalidate(),!t){var h=new Ms(this.graph,Ms.SELECT_BETWEEN,null,this.graph.selectionModel);this.graph.onInteractionEvent(h)}},inRectangle:function(t,i,e,n,r,s,o){var a=r.getBounds();return ai(t,i,e,n,a.x,a.y,a.width,a.height)?!0:(o=o||ho.RECTANGLE_SELECTION_MODE,o==Oa.RECTANGLE_SELECTION_MODE_CONTAIN?!1:Fe(t,i,e,n,r,s))},destroy:function(t){this._k7=null,t.cursor=null,this._$vId&&(this.topCanvas.removeDrawable(this._$vId),delete this._$vId,this.topCanvas.invalidate())}};var wl=S({"super":ml,onstart:null,startdrag:null,ondrag:null,enddrag:null,accept:function(t,i,e){return e.enableRectangleSelectionByRightButton!==!1},oncontextmenu:function(t,i){i.popupmenu||j(t)},onstart2:function(){ml.prototype.onstart.apply(this,arguments)},startdrag2:function(t,i){t.responded||(i.popupmenu&&i.popupmenu.hide instanceof Function&&i.popupmenu.hide(),ml.prototype.startdrag.apply(this,arguments))},ondrag2:function(){ml.prototype.ondrag.apply(this,arguments)},enddrag2:function(){ml.prototype.enddrag.apply(this,arguments)}}),vl=Math.PI/4;Ds.prototype={_er:!1,_eq:!1,onDataPropertyChange:function(){this.graph.callLater(function(){this._9x()},this)},ondblclick:function(t,i){this.element&&this.destroy(i)},destroy:function(t){t.cursor=null,delete this._lzp,delete this._lxody,delete this._9j,delete this._lzanEdit,delete this._jp,delete this._rotatePoint,delete this._eq,delete this._er,delete this._insets,O(this,Ds,"destroy",arguments)},_lzp:null,_jp:null,_7w:function(t){this._lzp=t;{var i=this._lzp.x,e=this._lzp.y,n=this._lzp.width,r=this._lzp.height;this.element instanceof Yh&&this.element.expanded}if(this._eq){var s=[];s.push({x:i,y:e,p:yo.LEFT_TOP,cursor:"nwse-resize",rotate:5*vl}),s.push({x:i+n/2,y:e,p:yo.CENTER_TOP,cursor:"ns-resize",rotate:6*vl}),s.push({x:i+n,y:e,p:yo.RIGHT_TOP,cursor:"nesw-resize",rotate:7*vl}),s.push({x:i,y:e+r/2,p:yo.LEFT_MIDDLE,cursor:"ew-resize",rotate:4*vl}),s.push({x:i,y:e+r,p:yo.LEFT_BOTTOM,cursor:"nesw-resize",rotate:3*vl}),s.push({x:i+n,y:e+r/2,p:yo.RIGHT_MIDDLE,cursor:"ew-resize",rotate:0}),s.push({x:i+n/2,y:e+r,p:yo.CENTER_BOTTOM,cursor:"ns-resize",rotate:2*vl}),s.push({x:i+n,y:e+r,p:yo.RIGHT_BOTTOM,cursor:"nwse-resize",rotate:vl}),this._jp=s}this._rotatePoint=this._er?{x:i+n/2,y:e,cursor:da}:null,this.invalidate()},_en:function(t,i,e,n){t.beginPath();var r=(this.handlerSize-1)/n;t.rect(i-r,e-r,2*r,2*r),t.lineWidth=1/n,t.lineDash=[],t.strokeStyle="#888",t.fillStyle="rgba(255, 255, 255, 0.8)",t.stroke(),t.fill()},_51:function(t,i,e,n,r,s){r=r||this.handlerSize,s=s||"rgba(0, 255, 0, 1)",t.beginPath(),r/=n,t.arc(i,e,r,0,2*Math.PI,!1),t.lineWidth=1/n,t.lineDash=[],t.strokeStyle="#888",t.fillStyle=s,t.stroke(),t.fill()},_hj:function(t,i){t-=this.element.x,i-=this.element.y;var e={x:t,y:i};return this.element.rotate&&Gr(e,-this.element.rotate),e},doDraw:function(t,i){if(this._lzp){if(t.save(),t.translate(this.element.x,this.element.y),this.element.rotate&&t.rotate(this.element.rotate),this._rotatePoint){this._51(t,0,0,i,3,"#FF0");var e=this._rotatePoint.x,n=this._rotatePoint.y-this._rotateHandleLength/i;t.beginPath(),t.moveTo(e,this._rotatePoint.y),t.lineTo(e,n),t.lineWidth=1/i,t.strokeStyle="#555",t.stroke(),this._51(t,e,n,i)}if(this._jp){var r=this._lzp.x,s=this._lzp.y,o=this._lzp.width,a=this._lzp.height;t.beginPath(),t.rect(r,s,o,a),t.lineWidth=1/i,t.lineDash=[2/i,3/i],t.strokeStyle="#555",t.stroke(),d(this._jp,function(e){this._en(t,e.x,e.y,i)},this)}t.restore()}},_9x:function(){if(this.isShowing()&&this.element){var t=this.graph.getUI(this.element);this._lxody=t.body;var i=Cs(this._lxody,this._lxody._ja),e=Cs(this._lxody,this._lxody._7u);this._insets=new po(i.y-e.y,i.x-e.x,e.bottom-i.bottom,e.right-i.right),this._7w(e)}},_lxo:function(t,i){return i.isResizable(t)},_lxn:function(t,i){return!(t instanceof Yh&&t.expanded||!i.isRotatable(t))},_lzm:function(t,i){return t instanceof Fh&&i.isEditable(t)},onstart:function(t,i){if(!i.editable)return void(this.element&&this.destroy(i));if(!t.responded){var e=i.getUI(t),n=t.getData();if(n!=this.element){if(this.element){if(this._gl(t,i))return void(t.responded=!0);this.destroy(i)}if(n&&!n._editting&&this._lzm(n,i)){var r=this._lxo(n,i,e),s=this._lxn(n,i,e);(r||s)&&(this.setCurrentElement(n,!0),this.addDrawable(),this._eq=r,this._er=s,this._9x())}}}},onrelease:function(t,i){this.element&&(this._lzanEdit=!0,this.addDrawable(),i.callLater(function(){this._9x()},this))},_9j:null,_gl:function(t,i){var e=i.toLogical(t);e=this._hj(e.x,e.y);var n=i.scale,r=this.handlerSize/n;if(this._rotatePoint){var s=this._rotatePoint.x,o=this._rotatePoint.y-this._rotateHandleLength/n;if(co(e.x,e.y,s,o)<r)return this._rotatePoint}if(this._jp&&this._jp.length){var a;return d(this._jp,function(t){return co(e.x,e.y,t.x,t.y)<r?(a=t,!1):void 0},this),a}},onmousemove:function(t,i){if(this.element){var e=this._gl(t,i);if(!e)return void(i.cursor=null);if(e!=this._rotatePoint&&this.element.rotate){var n=e.rotate+this.element.rotate;return void(i.cursor=Rs(n))}i.cursor=e.cursor}},startdrag:function(t,i){if(this.element&&(this.removeDrawable(),this._lzanEdit&&(this._9j=this._gl(t,i),this._9j))){if(t.responded=!0,this._9j==this._rotatePoint){this._9j.start=i.toLogical(t),this._9j.rotate=this.element.rotate||0;var e=new Ms(i,Ms.ROTATE_START,t,this.element);return e.value=this.element.rotate,void i.onInteractionEvent(e)}var e=new Ms(i,Ms.RESIZE_START,t,this.element);e.point=this._9j,i.onInteractionEvent(e)}},_7h:function(t,i,e,n,r,s){var o=this._lzp,a=o.x,h=o.y,l=o.width,_=o.height;if(s){var u=n!=l;u?r=n*_/l:n=r*l/_}var f=t.path.segments,c=n/l,d=r/_,v=-a*c+i,g=-h*d+e;f.forEach(function(t){if(t.type!=Oa.SEGMENT_CLOSE){var n=t.points;if(n&&n.length)for(var r=0,s=n.length;s>r;r+=2){var o=n[r],l=n[r+1];n[r]=(o-a)*c+i-v,n[r+1]=(l-h)*d+e-g}}}),this._lzp.set(i-v,e-g,n,r),t.setLocation(t.x+v,t.y+g),t.firePathChange()},_lw4:function(t,i,e,n,r){this._lzp.set(i,e,n,r),t.minSize={x:i,y:e,width:n,height:r}},_4n:function(t,i,e,n,r){if(this.element instanceof Yh&&this.element.expanded)return this._lw4(this.element,t,i,e,n,r);if(this.element instanceof $h)return this._7h(this.element,t,i,e,n,r);var s=this._lxody instanceof sl;if(!s&&r){var o=this._lzp,a=this._lxody.originalBounds,h=e!=o.width;h?n=e*a.height/a.width:e=n*a.width/a.height}var l=this.element.anchorPosition,_=new go(e-this._insets.left-this._insets.right,n-this._insets.top-this._insets.bottom);if(_.width<1&&(e=this._insets.left+this._insets.right+1,_.width=1),_.height<1&&(n=this._insets.top+this._insets.bottom+1,_.height=1),s?this.element.setStyle(Wh.LABEL_SIZE,_):this.element.size=_,l){var u=ui(l,e,n),f=u.x+t-(this._lxody.offsetX||0),c=u.y+i-(this._lxody.offsetY||0);if(this._lzp.set(t-f,i-c,e,n),this.element.rotate){var u=Gr({x:f,y:c},this.element.rotate);f=u.x,c=u.y}this.element.x+=f,this.element.y+=c}else{var f=this._lzp.x*e/this._lzp.width-t,c=this._lzp.y*n/this._lzp.height-i;if(this._lzp.set(t+f,i+c,e,n),this.element.rotate){var u=Gr({x:f,y:c},this.element.rotate);f=u.x,c=u.y}this.element.x-=f,this.element.y-=c}},ondrag:function(t,i){if(this.element&&this._9j){if(this._9j==this._rotatePoint){var e=i.toLogical(t),n=ge(e.x,e.y,this.element.x,this.element.y,this._9j.start.x,this._9j.start.y,!0);n+=this._9j.rotate||0,t.shiftKey&&(n=Math.round(n/Math.PI*4)*Math.PI/4);var r=this.element.rotate;this.element.rotate=n%(2*Math.PI);var s=new Ms(i,Ms.ROTATING,t,this.element);return s.oldValue=r,s.value=this.element.rotate,void i.onInteractionEvent(s)}var o=t.dx,a=t.dy,h=i.scale;if(o/=h,a/=h,this.element.rotate){var e={x:o,y:a};Gr(e,-this.element.rotate),o=e.x,a=e.y}var l=this._9j.p,_=this._lzp,u=_.x,f=_.y,c=_.width,d=_.height;l.horizontalPosition==To?o>=c?(u+=c,c=o-c||1):(u+=o,c-=o):l.horizontalPosition==wo&&(-o>=c?(c=-o-c||1,u-=c):c+=o),l.verticalPosition==xo?a>=d?(f+=d,d=a-d||1):(f+=a,d-=a):l.verticalPosition==Ao&&(-a>=d?(d=-a-d||1,f-=d):d+=a),this._4n(u,f,c,d,t.shiftKey);var s=new Ms(i,Ms.RESIZING,t,this.element);s.point=this._9j,i.onInteractionEvent(s)}},enddrag:function(t,i){if(this.element&&this._9j){if(this._9j==this._rotatePoint){var e=new Ms(i,Ms.ROTATE_END,t,this.element);return e.value=this.element.rotate,void i.onInteractionEvent(e)}var e=new Ms(i,Ms.RESIZE_END,t,this.element);e.point=this._9j,i.onInteractionEvent(e)}}},w(Ds,fs),xa.ResizeInteraction=Ds;var xl=function(t){this.graph=t};xl.prototype={onstart2:function(t,i){this.onstart(t,i)},onclick:function(t,i){if(!Oi(t)){var e=t.getData();if(e&&i.isSelectable(e)&&(!i.isSelected(e)||1!=i.selectionModel.length)){i.setSelection(e);var n=new Ms(i,Ms.SELECT,t,i.selectionModel);i.onInteractionEvent(n)}}},onstart:function(t,i){if(!t.responded){var e=t.getData();if(e&&!i.isSelectable(e)&&(e=null),e&&Oi(t)){i.reverseSelect(e);var n=new Ms(i,Ms.SELECT,t,i.selectionModel);return void i.onInteractionEvent(n)}if(!e||!i.selectionModel.isSelected(e)){e?(i.setSelection(e),i.sendToTop(e)):i.setSelection(null);var n=new Ms(i,Ms.SELECT,t,i.selectionModel);i.onInteractionEvent(n)}}},onkeydown:function(t,i){return 27==t.keyCode?void i.unSelectAll():void(Oi(t)&&65==t.keyCode&&(i.selectAll(),F(t)))}},ho.TOOLTIP_DURATION=3e3,ho.TOOLTIP_DELAY=1e3,Ps.CLASS_NAME="Q-Tooltip",Ps.CURSOR_OFFSET_X=0,Ps.CURSOR_OFFSET_Y=15,yi("."+Ps.CLASS_NAME,{"user-select":"none","background-color":"#FFFFCA",overflow:"hidden","box-shadow":"0 5px 10px rgba(136, 136, 136, 0.5)",color:"#000","pointer-events":"none",border:"1px solid #D9D9D9",padding:"2px 4px",display:"block",position:"absolute"}),Ps.getInstance=function(){var t=Ps.instance;return t||(t=Ps.instance=new Ps),t},Ps.show=function(t,i,e){Ps.getInstance().show(t,i,e)},Ps.hide=function(){Ps.getInstance().hide()},Ps.prototype={getTooltipElement:function(){var t=this._l5;return t||(t=i.createElement("div"),t.className=Ps.CLASS_NAME,this._l5=t,i.body.appendChild(t)),t},update:function(t,i){if(this.isShowing()){var e="text"==i;t&&!e&&(t=t.replace(/\n/g,"<br>"));var n=this.getTooltipElement();e?n.textContent=t||"":n.innerHTML=t||"",Ns(n,this._info.x+Ps.CURSOR_OFFSET_X,this._info.y+Ps.CURSOR_OFFSET_Y)}},setTooltip:function(t,i){if(!t||!t.content)return this._info=null,this._l5&&(this._l5.style.display="none"),void(this._lwa=Date.now());this._lwa=null,this._info=t;var e=this.getTooltipElement();e.style.display="",this.update(this._info.content,this._info.type),isNaN(i)&&(i=ho.TOOLTIP_DURATION),i&&this.startTimer(this.setTooltip.bind(this,!1),i)},_lwa:null,_k6:null,stopTimer:function(){this._k6&&(clearTimeout(this._k6),this._k6=null)},startTimer:function(t,i){this.stopTimer(),this._k6=setTimeout(function(t){this._k6=null,t()}.bind(this,t),i)},show:function(t,i,e){return this.isShowing()||this._lwa&&Date.now()-this._lwa<1e3?void this.setTooltip(t,e):(isNaN(i)&&(i=ho.TOOLTIP_DELAY),void(i?this.startTimer(this.setTooltip.bind(this,t,e),i):this.setTooltip(t,e)))},isShowing:function(){return this._l5&&"none"!==this._l5.style.display},hide:function(){this.stopTimer(),this.isShowing()&&this.setTooltip(!1)}};var Ol=function(t){this.graph=t};Ol.prototype={onstart:function(t,i){this.destroy(i)},_hu:null,onmousemove:function(t,i){if(i.enableTooltip){var e=t.getData(),n=e?i.getTooltip(e,t):null;return n?void Ps.show({target:e,content:n,type:e.tooltipType,x:t.pageX,y:t.pageY},i.tooltipDelay,i.tooltipDuration):void Ps.hide()}},destroy:function(){Ps.hide()}};var Al=function(t){this.graph=t};Al.prototype={destroy:function(){this.delayAction&&(this.delayAction=null)},onmousewheel:function(t,i){if(i.enableWheelZoom!==!1&&t.delta){if(xa.stopEvent(t),i.delayedRendering){var e=this.delayAction;e||(e=this.delayAction=new ks(function(){i.pauseRendering(!1)})),i.pauseRendering(!0),e.action(100)}i.zoomByMouseEvent(t,t.delta,!1)}}};var bl=function(t){this.graph=t};bl.prototype={onclick:function(t,i){i.zoomByMouseEvent(t,!Oi(t))}};var Ll=function(t){this.graph=t};Ll.prototype={onclick:function(t,i){i.zoomByMouseEvent(t,Oi(t))}},w(Ms,So),Ms.ELEMENT_MOVE_START="element.move.start",Ms.ELEMENT_MOVING="element.moving",Ms.ELEMENT_MOVE_END="element.move.end",Ms.ELEMENT_CREATED="element.created",Ms.ELEMENT_REMOVED="element.removed",Ms.POINT_MOVE_START="point.move.start",Ms.POINT_MOVING="point.moving",Ms.POINT_MOVE_END="point.move.end",Ms.POINT_ADD="point.add",Ms.POINT_REMOVE="point.remove",Ms.RESIZE_START="resize.start",Ms.RESIZING="resizing",Ms.RESIZE_END="resize.end",Ms.ROTATE_START="rotate.start",Ms.ROTATING="rotating",Ms.ROTATE_END="rotate.end",Ms.PAN_START="pan.start",Ms.PAN_END="pan.end",Ms.GROUP_EXPANDED="group.expanded",Ms.EDGE_BUNDLE="edge.bundle",Ms.SELECT="select",Ms.SELECT_START="select.start",Ms.SELECT_BETWEEN="select.between",Ms.SELECT_END="select.end",Ms.LONG_CLICK="long.click",Bs.prototype={_97:function(t){if(this._interactionSupport)switch(t.kind){case zo.KIND_REMOVE:this._interactionSupport._onElementRemoved(t.data);break;case zo.KIND_CLEAR:this._interactionSupport._onElementClear(t.data)}},destroy:function(){delete this._k1,delete this._4m,this._interactionSupport&&(this._interactionSupport._hk(),delete this._interactionSupport)},_k1:null,_4m:null,defaultMode:null,_gi:function(t,i,e){this._4m[t]=new cs(i,e),t==this.currentMode&&this._interactionSupport._lmInteraction(i)},addCustomInteraction:function(t){this._interactionSupport._lhCustomInteractionListener(t)},removeCustomInteraction:function(t){this._interactionSupport._j1CustomInteractionListener(t)},_lj:function(t){var i=this._4m[t];return i?i:Sl[t]}},Z(Bs.prototype,{defaultCursor:{get:function(){return this.currentInteractionMode?this.currentInteractionMode.defaultCursor:void 0}},currentMode:{get:function(){return this._lzurrentMode},set:function(t){if(this._lzurrentMode!=t){{this._lzurrentMode}this._interactionSupport||(this._interactionSupport=new la(this._k1)),this._lzurrentMode=t,this.currentInteractionMode=this._lj(this._lzurrentMode),this._k1.cursor=this.defaultCursor,this._interactionSupport._lmInteraction(this.currentInteractionMode?this.currentInteractionMode.getInteractionInstances(this._k1):[])}}}});var Sl={};ho.registerInteractions=function(t,i,e){var n=new cs(i,e);Sl[t]=n},Oa.INTERACTION_MODE_VIEW="view",Oa.INTERACTION_MODE_DEFAULT="default",Oa.INTERACTION_MODE_SELECTION="selection",Oa.INTERACTION_MODE_ZOOMIN="zoomin",Oa.INTERACTION_MODE_ZOOMOUT="zoomout",Oa.INTERACTION_MODE_CREATE_SIMPLE_EDGE="create.simple.edge",Oa.INTERACTION_MODE_CREATE_EDGE="create.edge",Oa.INTERACTION_MODE_CREATE_SHAPE="create.shape",Oa.INTERACTION_MODE_CREATE_LINE="create.line",ho.registerInteractions(Oa.INTERACTION_MODE_VIEW,[xl,Tl,Al,pl,gl,Ol,wl]),ho.registerInteractions(Oa.INTERACTION_MODE_CREATE_SIMPLE_EDGE,[El,ms,xl,Tl,Al,pl,Ol]),ho.registerInteractions(Oa.INTERACTION_MODE_CREATE_EDGE,[El,Ss,xl,gs,Tl,Al,pl,Ol]),ho.registerInteractions(Oa.INTERACTION_MODE_CREATE_SHAPE,[El,ys,xl,Tl,Al,pl,Ol]),ho.registerInteractions(Oa.INTERACTION_MODE_CREATE_LINE,[Ts,xl,Tl,Al,pl,Ol]),ho.registerInteractions(Oa.INTERACTION_MODE_DEFAULT,[El,Ds,Ss,xl,yl,Tl,Al,pl,gl,Ol,wl]),ho.registerInteractions(Oa.INTERACTION_MODE_SELECTION,[El,Ds,Ss,xl,yl,ml,Tl,Al,pl,gl,Ol]),ho.registerInteractions(Oa.INTERACTION_MODE_ZOOMIN,[Al,pl,bl],_a),ho.registerInteractions(Oa.INTERACTION_MODE_ZOOMOUT,[Al,pl,Ll],ua),xa.PanInteraction=Tl,xa.SelectionInteraction=xl,xa.MoveInteraction=yl,xa.WheelZoomInteraction=Al,xa.DoubleClickInteraction=gl,xa.ExportInteraction=pl,xa.TooltipInteraction=Ol,xa.RectangleSelectionInteraction=ml,xa.RectangleSelectionInteractionByRightButton=wl,xa.PointsInteraction=Ss;var Il=function(t){this.graph=t};xa.Layouter=Il,Il.prototype={getNodeBounds:function(t){return this.graph.getUIBounds(t)},isLayoutable:function(t){return this.graph.isVisible(t)&&t.layoutable!==!1},getLayoutResult:function(){},updateLocations:function(t,i,e,n,r){if(i===!0){if(this.animate||(this.animate=new l_),e&&(this.animate.duration=e),n&&(this.animate.animationType=n),this.animate.locations=t,r){var s=r,o=this;r=function(){s.call(o,t)}}return void this.animate.start(r)}for(var a in t){var h=t[a],l=h.node;l.setLocation(h.x,h.y)}r&&r.call(this,t)},_ge:function(t){var i,e,n,r=null;t&&(i=t.byAnimate,r=t.callback,e=t.duration,n=t.animationType);var s=this.getLayoutResult(t);return s?(this.updateLocations(s,i,e,n,r),s):!1},doLayout:function(t,i){return this.graph&&i!==!0?void this.graph.callLater(function(){this._ge(t)},this):this._ge(t)}};var Dl=110,Cl=120,Rl=130,Pl=210,Nl=220,kl=230,Ml=111,Bl=112,zl=121,Gl=122,Fl=211,$l=212,jl=221,Yl=222;Oa.DIRECTION_RIGHT=Dl,Oa.DIRECTION_LEFT=Cl,Oa.DIRECTION_CENTER=Rl,Oa.DIRECTION_BOTTOM=Pl,Oa.DIRECTION_TOP=Nl,Oa.DIRECTION_MIDDLE=kl,Oa.DIRECTION_RIGHT_TOP=Ml,Oa.DIRECTION_RIGHT_BOTTOM=Bl,Oa.DIRECTION_LEFT_TOP=zl,Oa.DIRECTION_LEFT_BOTTOM=Gl,Oa.DIRECTION_BOTTOM_LEFT=Fl,Oa.DIRECTION_BOTTOM_RIGHT=$l,Oa.DIRECTION_TOP_LEFT=jl,Oa.DIRECTION_TOP_RIGHT=Yl;var Hl="even",Ul="two.side",Wl="even.h",Vl="even.v";Oa.LAYOUT_TYPE_EVEN=Hl,Oa.LAYOUT_TYPE_EVEN_HORIZONTAL=Wl,Oa.LAYOUT_TYPE_EVEN_VERTICAL=Vl,Oa.LAYOUT_TYPE_TWO_SIDE=Ul,xa.isHorizontalDirection=zs;var Xl=function(t){this.graph=t};Xl.prototype={hGap:50,vGap:50,parentChildrenDirection:Pl,layoutType:Hl,defaultSize:{width:50,height:60},getNodeSize:function(t){if(this.graph._7y._lwo){var i=this.graph.getUI(t);if(i)return i._fl}return t.image&&t.image.bounds?{width:t.image.bounds.width,height:t.image.bounds.height}:this.defaultSize},_lxw:function(t,i){var e=t.id;if(!(e in this._9u)&&this.isLayoutable(t)){var n,r=this.getNodeSize(t);n=r instanceof Eo?[-r.x,-r.y]:[r.width/2,r.height/2];var s=(t.parentChildrenDirection,i?this._9u[i.id]:this._lwf);this._9u[e]=new ql(this.getHGap(t),this.getVGap(t),this.getLayoutType(t),t.parentChildrenDirection,s,t,r.width,r.height,n)}},getHGap:function(t){return t&&M(t.hGap)?t.hGap:this.hGap},getVGap:function(t){return t&&M(t.vGap)?t.vGap:this.vGap},getLayoutType:function(t){return t&&t.layoutType?t.layoutType:this.layoutType},_9u:null,_lwf:null,_kc:function(){this._9u=null,this._lwf=null},getLayoutResult:function(t){var i,e,n,r,s=this.graph;t instanceof Object&&(i=t.x,e=t.y,s=t.root||this.graph,n=t.bounds,r=t.undirected),this._9u={},this._lwf=new ql,this._lwf._lm(this.hGap,this.vGap,this.parentChildrenDirection,this.layoutType);var o={},a=f_(s,this._lxw,this,!1,r);return a&&(this._lwf._ge(i||0,e||0,o),n&&n.set(this._lwf.x,this._lwf.y,this._lwf.width,this._lwf.height)),this._kc(),o},doLayout:function(t,i){if(M(t)){var e=t,n=0;M(i)&&(n=i),t={x:e,y:n},i=!0}return O(this,Xl,"doLayout",[t,i])}},w(Xl,Il);var ql=function(t,i,e,n,r,s,o,a,h){this._kw=t||0,this._kx=i||0,this.layoutType=e,this.parentChildrenDirection=n,this.parentBounds=r,r&&r._gb(this),this.node=s,this._f3=o,this._d3=a,this._lwnchorLocation=h};ql.prototype={_lm:function(t,i,e,n){this._kw=t,this._kx=i,this.parentChildrenDirection=e,this.layoutType=n},_88:function(){this._fy=[]},_kw:0,_kx:0,_fy:null,_f3:0,_d3:0,layoutType:null,parentChildrenDirection:null,_gb:function(t){this._fy||(this._fy=[]),this._fy.push(t)},_lzy:function(t,i,e,n){var r=new Eo;return e(this._fy,function(e){e._3c(t,i),r.add(e),n?t+=e.width+this._kw:i+=e.height+this._kx},this),r},_86:function(t,i,e,n,r){var s,o=n?this._kw:this._kx,a=n?this._kx:this._kw,h=n?"width":"height",l=n?"height":"width",_=n?"_f3":"_d3",u=n?"_d3":"_f3",f=n?"hostDX":"hostDY",c=n?"hostDY":"hostDX",v=new Eo,g=0,E=0,p=[],y=0,T=0;e(this._fy,function(e){var r=T>=E;e._inheritedParentChildrenDirection=r?n?Cl:Nl:n?Dl:Pl,e._3c(t,i),r?(p.push(e),g=Math.max(g,e[h]),E+=e[l]+a):(s||(s=[]),s.push(e),y=Math.max(y,e[h]),T+=e[l]+a)
},this),E-=a,T-=a;var m=Math.max(E,T),w=o,x=0;this.node&&(r&&(w+=this[_]+o,m>this[u]?this[c]=(m-this[u])/2:x=(this[u]-m)/2),this[f]=g+w/2-this[_]/2);var O=0,A=x;return d(p,function(t){n?t.offset(g-t[h],A):t.offset(A,g-t[h]),A+=a+t[l],v.add(t)},this),s?(A=x,O=g+w,d(s,function(t){n?t.offset(O,A):t.offset(A,O),A+=a+t[l],v.add(t)},this),v):v},offset:function(t,i){this.x+=t,this.y+=i,this.nodeX+=t,this.nodeY+=i,this._79(t,i)},_lxf:function(t,i){return 2*this.cx-t-i-t},_lxd:function(t,i){return 2*this.cy-t-i-t},_kz:function(t){if(this._fy&&0!=this._fy.length){if(t)return this.node&&(this.nodeX+=this._lxf(this.nodeX,this._f3)),void d(this._fy,function(t){t.offset(this._lxf(t.x,t.width),0)},this);this.node&&(this.nodeY+=this._lxd(this.nodeY,this._d3)),d(this._fy,function(t){t.offset(0,this._lxd(t.y,t.height))},this)}},_79:function(t,i){this._fy&&d(this._fy,function(e){e.offset(t,i)},this)},_3c:function(t,i){return this.x=t||0,this.y=i||0,this._fy&&0!=this._fy.length?void this._1i(this.x,this.y,this.layoutType):void(this.node&&(this.width=this._f3,this.height=this._d3,this.nodeX=this.x,this.nodeY=this.y))},_7b:function(t){if(this.node){var i=this._lwnchorLocation,e=i[0],n=i[1];t[this.node.id]={node:this.node,x:this.nodeX+e,y:this.nodeY+n,left:this.nodeX,top:this.nodeY,width:this._f3,height:this._d3}}this._fy&&d(this._fy,function(i){i._7b(t)},this)},_ge:function(t,i,e){this._3c(t,i),this._7b(e)},_1i:function(t,i,n){var r,s=t,o=i;!this.parentChildrenDirection&&this.parentBounds&&(this.parentChildrenDirection=this._inheritedParentChildrenDirection||this.parentBounds.parentChildrenDirection);var a=this.parentChildrenDirection,h=zs(a);if(this.node){r=a==Rl||a==kl;var l=Gs(a);r||(h?t+=this._f3+this._kw:i+=this._d3+this._kx)}var _,u=this.node&&this.node.layoutReverse?g:d;if(n==Ul)_=this._86(t,i,u,!h,r);else{var f;f=n==Hl?!h:n==Wl,_=this._lzy(t,i,u,f,r)}var c=0,v=0;if(_&&!_.isEmpty()&&(c=_.width,v=_.height,this.add(_)),this.node){if(this.nodeX=s,this.nodeY=o,this.hostDX!==e||this.hostDY!==e)this.nodeX+=this.hostDX||0,this.nodeY+=this.hostDY||0;else{var E;E=a==Pl||a==Nl||a==Cl||a==Dl?1:a==$l||a==Yl||a==Gl||a==Bl?0:2,h?(1==E?this.nodeY+=v/2-this._d3/2:2==E&&(this.nodeY+=v-this._d3),o>this.nodeY&&this.offset(0,o-this.nodeY)):(1==E?this.nodeX+=c/2-this._f3/2:2==E&&(this.nodeX+=c-this._f3),s>this.nodeX&&this.offset(s-this.nodeX,0))}this.addRect(this.nodeX,this.nodeY,this._f3,this._d3),l&&this._kz(h)}},node:null,uiBounds:null},w(ql,Eo),$s.prototype={layoutDatas:null,isMovable:function(t){return!this.currentMovingNodes[t.id]},_7f:!1,_33:function(){this._7f=!0,this.graph._1p.addListener(this._93,this),this.graph._16.addListener(this._1r,this)},_1g:function(){this._7f=!1,this.graph._1p.removeListener(this._93,this),this.graph._16.removeListener(this._1r,this)},invalidateFlag:!0,invalidateLayoutDatas:function(){this.invalidateFlag=!0},resetLayoutDatas:function(){return this.invalidateFlag=!1,this.layoutDatas=Fs.call(this)},_1r:function(t){Ms.ELEMENT_MOVE_START==t.kind?(this.currentMovingNodes={},t.datas.forEach(function(t){this.currentMovingNodes[t.id]=t},this)):Ms.ELEMENT_MOVE_END==t.kind&&(this.currentMovingNodes={})},_93:function(){this.invalidateLayoutDatas()},isRunning:function(){return this.timer&&this.timer._el()},getLayoutResult:function(){this.stop(),this.resetLayoutDatas();for(var t=this.getMaxIterations(this.layoutDatas.nodeCount||0,this.layoutDatas.edgeCount||0),i=0;t>i&&this.step(!1)!==!1;i++);var e=this.layoutDatas.nodes;return this.onstop(),e},_lc:function(){return!1},step:function(t){if(t===!1)return this._lc(this.timeStep);(this.invalidateFlag||!this.layoutDatas)&&this.resetLayoutDatas();var i=this._lc(t),e=this.layoutDatas.nodes;for(var n in e){var r=e[n],s=r.node;this.isMovable(s)?s.setLocation(r.x,r.y):(r.x=s.x,r.y=s.y,r.vx=0,r.vy=0)}return i},onstop:function(){delete this.layoutDatas},start:function(t){if(this.isRunning())return!1;this._7f||this._33(),this._ixr||(this._ixr=function(t){return this.step(t)}.bind(this)),this.invalidateLayoutDatas(),this.timer=new Ta(this._ixr);var i=this;return this.timer._k7(function(){i.onstop(),t&&t()}),!0},stop:function(){this.timer&&(this.timer._kv(),this.onstop())},getMaxIterations:function(t){return Math.min(1e3,3*t+10)},minEnergyFunction:function(t,i){return 10+Math.pow(t+i,1.4)},resetGraph:function(){this._7f||this._33(),this.resetLayoutDatas()},destroy:function(){this.stop(),this._1g()}},w($s,Il);var Kl=function(t,i,e,n){this.graph=t,M(i)&&(this.radius=i),M(e)&&(this.gap=e),M(n)&&(this.startAngle=n)};xa.BalloonLayouter=Kl;var Zl="proportional",Jl="regular",Ql="uniform",t_="variable";Oa.ANGLE_SPACING_PROPORTIONAL=Zl,Oa.ANGLE_SPACING_REGULAR=Jl,Oa.RADIUS_MODE_UNIFORM=Ql,Oa.RADIUS_MODE_VARIABLE=t_,Kl.prototype={angleSpacing:Zl,radiusMode:t_,gap:4,radius:50,startAngle:0,_9u:null,_lwf:null,_kc:function(){this._9u=null,this._lwf=null},getLayoutResult:function(t){var i,e=0,n=0,r=this.graph;t instanceof Object&&(e=t.cx||0,n=t.cy||0,r=t.root||this.graph,i=t.bounds),this._9u={},this._lwf=new n_(this);var s={},o=c_(r,this._lxw,this);return o&&(this._lwf._fy&&1==this._lwf._fy.length&&(this._lwf=this._lwf._fy[0]),this._lwf._dl(!0),this._lwf._5e(e,n,this.startAngle,s,i)),this._kc(),s},_lxw:function(t,i){if(this.isLayoutable(t)){var e=i?this._9u[i.id]:this._lwf;this._9u[t.id]=new n_(this,t,e)}},defaultSize:40,getRadius:function(){return this.radius},getNodeSize:function(t){if(this.graph._7y._lwo){var i=this.graph.getUI(t);if(i)return(i._fl.width+i._fl.height)/2}return this.defaultSize},getGap:function(){return this.gap},_2n:function(t,i,e){return this.getNodeSize(t,i,e)+this.getGap(t,i,e)}};var i_=function(t){var i,e=this._fy.length,n=0,r=0;if(d(this._fy,function(t){var e=t._dl();1>e&&(e=1),r+=e,e>n&&(n=e,i=t)},this),e>1){var s=0,o={},a=r/e/3;r=0,d(this._fy,function(t){var i=t._l8;a>i&&(i=a),o[t.id]=i,r+=i},this);var h=Rh/r;d(this._fy,function(i,e){var n=o[i.id],r=n*h;0===e&&(s=t?-r/2:-r),i._kk=s+r/2,i._km=r,s+=r},this)}return[n,i._km]},e_=function(t){var i=this._8u,e=2*Math.PI/i,n=0,r=t?0:i>1?-e/2:0;return d(this._fy,function(t){t._kk=r%Rh,r+=e,t._km=e;var i=t._dl();i>n&&(n=i)},this),[n,e]},n_=function(t,i,e){this.layouter=t,i&&(this._lb=i,this.id=i.id),e&&(e._gb(this),e._l7=!1,this._ki=e._ki+1)},Rh=2*Math.PI;n_.prototype={_km:0,_kk:0,_j3:0,_ee:0,_lzh:0,_ki:0,_l7:!0,_l8:0,_g3:0,_fy:null,_lb:null,_gb:function(t){this._fy||(this._fy=[]),this._fy.push(t),t.parent=this},_hb:function(t){if(this._kk=(this._kk+t)%Rh,this._fy){var i=this._fy.length;if(1==i)return void this._fy[0]._hb(this._kk);t=this._kk+Math.PI,d(this._fy,function(i){i._hb(t)},this)}},_8u:0,_7g:function(t){if(this._lb&&(this._g3=this.layouter._2n(this._lb,this._ki,this._l7)/2),!this._fy)return null;this._g3;return this._8u=this._fy.length,this._8u<=2||this.layouter.angleSpacing==Jl?e_.call(this,t):i_.call(this,t)},_dl:function(t){var i=this._7g(t);if(!i)return this._l8=this._g3;var e=i[0],n=i[1],r=this.layouter.getRadius(this._lb,this._ki);if(r<this._g3&&(r=this._g3),this._ee=r,this._g3+e>r&&(r=this._g3+e),e&&this._8u>1&&n<Math.PI){var s=e/Math.sin(n/2);s>r&&(r=s)}return this._j3=r,this._l8=r+e,this._lb&&this._fy&&this.layouter.radiusMode==t_&&d(this._fy,function(t){var i=t._l8;1==t._8u&&(i/=2);var e=this._g3+i,n=t._km;if(n&&n<Math.PI){var r=Math.sin(n/2),s=i/r;s>i&&(i=s)}e>i&&(i=e),t._lzh=i},this),(!this._lb||t)&&this._hb(0),this._l8},_5e:function(t,i,e,n,r){if(this._lb&&(n[this._lb.id]={x:t,y:i,node:this._lb},r&&r.addRect(t-this._g3/2,i-this._g3/2,this._g3,this._g3)),this._fy){if(!this._lb&&1==this._fy.length)return void this._fy[0]._5e(t,i,e,n,r);e=e||0;var s=this._j3,o=this._ee;d(this._fy,function(a){var h=s;a._lzh&&(h=Math.max(o,a._lzh));var l=a._kk+e,_=t+h*Math.cos(l),u=i+h*Math.sin(l);a._5e(_,u,e,n,r)},this)}}},w(Kl,Il);var r_=function(){x(this,r_,arguments)};w(r_,js);var s_=function(t,i){this.node1=t,this.node2=i,t==i?(this.isLooped=!0,this._kd=t._jy):this._kd=new lo,this._8e=[],this._gg=ho.EDGE_BUNDLE_EXPANDED};ho.EDGE_BUNDLE_EXPANDED=!0,s_.prototype={node1:null,node2:null,_kd:null,_gg:ho.EDGE_BUNDLE_EXPANDED,_8e:null,_gc:null,agentEdge:null,_lwt:function(t,i,e){this._kd.forEach(function(n){return e&&n.$from!=e&&n.fromAgent!=e?void 0:t.call(i,n)})},_5z:0,_5n:0,_ik:function(t,i){return this._kd.add(t)===!1?!1:(i==this.node1?this._5z++:this._5n++,this._lwo?void this._12(t):void(this._lwo=!0))},_lz8:function(t,i){return this._kd.remove(t)===!1?!1:(i==this.node1?this._5z--:this._5n--,this._12(t),void this._kd.forEach(function(t){t._edgeBundleInvalidateFlag=!0,t.__4s=!0},this))},_12:function(t){this._lzvBindableFlag=!0,this._66=!0,t._edgeBundleInvalidateFlag=!0,t.__4s=!0},_lzv:function(){this._66||(this._66=!0,this._kd.forEach(function(t){t._edgeBundleInvalidateFlag=!0}))},isEmpty:function(){return this._kd.isEmpty()},isPositiveOrder:function(t){return this.node1==t.$from||this.node1==t.fromAgent},canBind:function(t){return t&&this._66&&this.validate(t),this._kd.length>1&&this._8e.length>1},_ih:function(t){return this._8e.indexOf(t)},getYOffset:function(t){return this._gc[t.id]},_4g:function(t){if(!this.canBind())return void(this._gc={});var i={},e=this._8e.length;if(!(2>e)){var n=0,r=this._8e[0];i[r.id]=0;for(var s=1;e>s;s++){r=this._8e[s];var o=t.getStyle(r,Wh.EDGE_BUNDLE_GAP)||al[Wh.EDGE_BUNDLE_GAP];n+=o,i[r.id]=n}if(!this.isLooped&&n)for(var a=n/2,s=0;e>s;s++)r=this._8e[s],i[r.id]-=a;this._gc=i}},_lwh:function(t){return this._gg==t?!1:(this._gg=t,this._lzv(),!0)},reverseExpanded:function(){return this._lwh(!this._gg)},_17:function(){this._lzvBindableFlag=!1,this._8e.length=0;var t;this._kd.forEach(function(i){if(i.isBundleEnabled()){if(!this.isPositiveOrder(i))return t||(t=[]),void t.push(i);this._8e.push(i)}},this),t&&(this._8e=t.concat(this._8e))},_e6:function(t){return t==this.agentEdge||!this.canBind()||this._gg},validate:function(t){this._66=!1,this._kd.forEach(function(t){t._edgeBundleInvalidateFlag=!1}),this._lzvBindableFlag&&this._17();var i=this._gg,e=this.canBind(),n=!e||i;d(this._8e,function(t){t._$n=!0,t._hhInBundle=n,n&&(t.__4s=!0)},this),n?this._lw7(null,t):(this._lw7(this._8e[0],t),this.agentEdge._hhInBundle=!0,this.agentEdge.__4s=!0),n&&this._4g(t)},_lw7:function(t,i){if(t!=this.agentEdge){var e=this.agentEdge;return this.agentEdge=t,i&&i._49(new Io(this,"agentEdge",t,e)),!0}}},Z(s_.prototype,{bindableEdges:{get:function(){return this._8e}},edges:{get:function(){return this._kd._j7}},length:{get:function(){return this._kd?this._kd.length:1}},expanded:{get:function(){return this._gg},set:function(t){return this._gg==t?!1:(this._gg=t,void this._lzv())}}});var o_=function(){function t(t,i){this.node=t,this.body=i}function i(){this.stack=[],this.popIdx=0}var e=-1e6,n=.8;i.prototype={isEmpty:function(){return 0===this.popIdx},push:function(i,e){var n=this.stack[this.popIdx];n?(n.node=i,n.body=e):this.stack[this.popIdx]=new t(i,e),++this.popIdx},pop:function(){return this.popIdx>0?this.stack[--this.popIdx]:void 0},reset:function(){this.popIdx=0}};var r=[],s=new i,o=function(){this.body=null,this.quads=[],this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.isInternal=!1},a=[],h=0,l=function(){var t;return a[h]?(t=a[h],t.quads[0]=null,t.quads[1]=null,t.quads[2]=null,t.quads[3]=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0,t.isInternal=!1):(t=new o,a[h]=t),++h,t},_=l(),u=function(t,i){var e=Math.abs(t.x-i.x),n=Math.abs(t.y-i.y);return 1e-8>e&&1e-8>n},f=function(t){for(s.reset(),s.push(_,t);!s.isEmpty();){var i=s.pop(),e=i.node,n=i.body;if(e.isInternal){var r=n.x,o=n.y;e.mass=e.mass+n.mass,e.massX=e.massX+n.mass*r,e.massY=e.massY+n.mass*o;var a=0,h=e.left,f=(e.right+h)/2,c=e.top,d=(e.bottom+c)/2;if(r>f){a+=1;var v=h;h=f,f+=f-v}if(o>d){a+=2;var g=c;c=d,d+=d-g}var E=e.quads[a];E||(E=l(),E.left=h,E.top=c,E.right=f,E.bottom=d,e.quads[a]=E),s.push(E,n)}else if(e.body){var p=e.body;if(e.body=null,e.isInternal=!0,u(p,n)){if(e.right-e.left<1e-8)return;do{var y=Math.random(),T=(e.right-e.left)*y,m=(e.bottom-e.top)*y;p.x=e.left+T,p.y=e.top+m}while(u(p,n))}s.push(e,p),s.push(e,n)}else e.body=n}},c=function(t){var i,s,o,a,h=r,l=1,u=0,f=1;for(h[0]=_;l;){var c=h[u],d=c.body;l-=1,u+=1,d&&d!==t?(s=d.x-t.x,o=d.y-t.y,a=Math.sqrt(s*s+o*o),0===a&&(s=(Math.random()-.5)/50,o=(Math.random()-.5)/50,a=Math.sqrt(s*s+o*o)),i=e*d.mass*t.mass/(a*a),-1e3>i&&(i=-1e3),i/=a,t.fx=t.fx+i*s,t.fy=t.fy+i*o):(c.mass||(c.mass=1),s=c.massX/c.mass-t.x,o=c.massY/c.mass-t.y,a=Math.sqrt(s*s+o*o),0===a&&(s=(Math.random()-.5)/50,o=(Math.random()-.5)/50,a=Math.sqrt(s*s+o*o)),(c.right-c.left)/a<n?(i=e*c.mass*t.mass/(a*a),-1e3>i&&(i=-1e3),i/=a,t.fx=t.fx+i*s,t.fy=t.fy+i*o):(c.quads[0]&&(h[f]=c.quads[0],l+=1,f+=1),c.quads[1]&&(h[f]=c.quads[1],l+=1,f+=1),c.quads[2]&&(h[f]=c.quads[2],l+=1,f+=1),c.quads[3]&&(h[f]=c.quads[3],l+=1,f+=1)))}},d=function(t,i){e=i;var n,r=Number.MAX_VALUE,s=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE,u=t,c=u.length;for(n=c;n--;){var d=u[n].x,v=u[n].y;r>d&&(r=d),d>o&&(o=d),s>v&&(s=v),v>a&&(a=v)}var g=o-r,E=a-s;for(g>E?a=s+g:o=r+E,h=0,_=l(),_.left=r,_.right=o,_.top=s,_.bottom=a,n=c;n--;)f(u[n],_)};return{init:d,update:c}},a_=function(t){t.fx-=t.x*this.attractive,t.fy-=t.y*this.attractive},h_=function(t){if(0!=t.k){var i=this._lzj,e=t.from,n=t.to,r=n.x-e.x,s=n.y-e.y,o=r*r+s*s,a=Math.sqrt(o)||.1,h=(a-i)*t.k*this.elastic;h/=a;var l=h*r,_=h*s;n.fx-=l,n.fy-=_,e.fx+=l,e.fy+=_}};js.prototype={appendNodeInfo:function(t,i){i.mass=t.layoutMass||1,i.fx=0,i.fy=0,i.vx=0,i.vy=0},appendEdgeInfo:function(t,i){i.k=t.layoutElasticity||1},setMass:function(t,i){t.layoutMass=i,this.layoutDatas&&this.layoutDatas.nodes&&(t=this.layoutDatas.nodes[t.id],t&&(t.mass=i))},setElasticity:function(t,i){t.layoutElasticity=i,this.layoutDatas&&this.layoutDatas.edges&&(t=this.layoutDatas.edges[t.id],t&&(t.k=i))},_lzj:50,_hr:.5,timeStep:.05,repulsion:50,attractive:.1,elastic:3,_ld:1e3,_jo:function(t){return this._ld+.3*(t-this._ld)},_lc:function(t,i){var e=(Date.now(),this.layoutDatas.nodes);for(var n in e){var r=e[n];i&&(r.x+=Math.random()-.5,r.y+=Math.random()-.5),a_.call(this,r)}var s=this.layoutDatas.groups;if(s)for(var n in s){var o=s[n],a=o.children,h=0,l=0;a.forEach(function(t){h+=t.x,l+=t.y}),h/=a.length,l/=a.length;var _=10*this.attractive;a.forEach(function(t){t.fx-=(t.x-h)*_,t.fy-=(t.y-l)*_})}var u=this._nbodyForce;u||(u=this._nbodyForce=o_()),u.init(this.layoutDatas.nodesArray,-this.repulsion*this.repulsion*this.repulsion);for(var n in e)u.update(e[n]);if(this.elastic){var f=this.layoutDatas.edges;for(var n in f)h_.call(this,f[n])}return this._la(t)},_la:function(t){var i=this.layoutDatas.minEnergy,e=(this.layoutDatas.currentEnergy,this.layoutDatas.nodes),t=this.timeStep,n=0,r=this._hr;for(var s in e){var o=e[s],a=o.fx/o.mass,h=o.fy/o.mass,l=o.vx+=a*t,_=o.vy+=h*t;o.x+=l*t,o.y+=_*t,i>n&&(n+=2*(l*l+_*_)),o.fx=0,o.fy=0,o.vx*=r,o.vy*=r}return this.layoutDatas.currentEnergy=n,n>=i}},w(js,$s),xa.SpringLayouter=js;var l_=function(t){this.locations=t};l_.prototype={oldLocations:null,_du:null,duration:700,animationType:ya.easeOutStrong,_7p:function(t){if(this._du=t,this.oldLocations={},t)for(var i in t){var e=t[i],n=e.node;this.oldLocations[i]={x:n.x,y:n.y}}},setLocation:function(t,i,e){t.setLocation(i,e)},forEach:function(t,i){for(var e in this.locations){var n=this.oldLocations[e],r=this.locations[e];t.call(i,n,r)}},_iz:function(t){this.forEach(function(i,e){var n=e.node,r=i.x+(e.x-i.x)*t,s=i.y+(e.y-i.y)*t;this.setLocation(n,r,s)},this)},stop:function(){this._lwnimate&&this._lwnimate._kv()},start:function(t){this._lwnimate?(this._lwnimate._kv(),this._lwnimate._i4=this.duration,this._lwnimate._deType=this.animationType,this._lwnimate._onfinish=this._onfinish):this._lwnimate=new ma(this._iz,this,this.duration,this.animationType),this._lwnimate._k7(t)}},Z(l_.prototype,{locations:{get:function(){return this._du},set:function(t){this._du!=t&&this._7p(t)}}});var __=function(t){function i(i){var e=!1;return i.forEachInEdge(function(i){return t.contains(i)&&!i.isLooped()?(e=!0,!1):void 0}),e}function e(i){var e=!1;return i.forEachOutEdge(function(i){return t.contains(i)&&!i.isLooped()?(e=!0,!1):void 0}),e}var n,r=new lo;return t.forEach(function(t){t instanceof Fh&&(i(t)?!n&&e(t)&&(n=t):r.add(t))}),r.isEmpty()&&n&&r.add(n),r},u_=function(t,i,e,n,r,s){if(i instanceof Go)return t(i,e,n,r,s),i;if(i instanceof hl){var o=new lo;i._k1Model.forEach(function(t){return i.isVisible(t)?t._ht()&&t._gg&&t.hasChildren()?void(t.$location&&(t.$location.invalidateFlag=!1)):void o.add(t):void 0}),i=o}else if(Array.isArray(i))i=new lo(i);else if(!(i instanceof lo))throw new Error("roots error");return i=__(i,n),i.forEach(function(i){t(i,e,n,r,s)}),i},f_=function(t,i,e,n,r){return u_(d_,t,i,e,n,r)},c_=function(t,i,e,n,r){return u_(v_,t,i,e,n,r)};sr.prototype.forEachByTopoDepthFirstSearch=function(t,i,e,n){f_(this,t,i,e,n)},sr.prototype.forEachByTopoBreadthFirstSearch=function(t,i,e,n){t instanceof Object&&1==arguments.length&&(i=t.scope),c_(this,t,i,e,n)},xa.forEachByTopoDepthFirstSearch=f_,xa.forEachByTopoBreadthFirstSearch=c_;var d_=function(t,i,e,n,r){function s(t,i,e,n,r,o,a,h){t._marker=o,n||i.call(e,t,h,a),Ys(t,function(h){s(h,i,e,n,r,o,a+1,t)},h,r,o,e),n&&i.call(e,t,h,a)}s(t,i,e,n,r,{},0)},v_=function(t,i,e,n,r){function s(t,i,e,n,r,o,a){var h,l=t.length;t.forEach(function(t,s){var _=t.v;_._marker=o,n||i.call(e,_,t._from,a,s,l),Ys(_,function(t){h||(h=[]),t._marker=o,h.push({v:t,_from:_})},_,r,o,e)}),h&&s(h,i,e,n,r,o,a+1),n&&t.forEach(function(t,n){i.call(e,t.v,t._from,a,n,l)})}s([{v:t}],i,e,n,r,{},0)};xa.toColor=q,xa.log=ti,xa.error=ei,xa.trace=ii,xa.isIE=Vs,xa.isOpera=Ws,xa.isWebkit=Ks,xa.isGecko=Zs,xa.isFirefox=Js,xa.isSafari=to,xa.isChrome=Qs,xa.isMac=io,xa.DefaultStyles=al,xa.Defaults=ho,xa.Styles=Wh,xa.Consts=Oa,xa.Graphs=_h,xa.Graph=hl,xa.BaseUI=Hh,xa.ElementUI=nl,xa.NodeUI=dr,xa.EdgeUI=cr,xa.LabelUI=sl,xa.ImageUI=rl,xa.Shapes=jh,xa.Path=ah,xa.Gradient=Ha,xa.InteractionEvent=Ms,xa.Element=zh,xa.Node=Fh,xa.Edge=Gh,xa.GraphModel=sr,xa.EdgeBundle=s_,xa.TreeLayouter=Xl,xa.name="Qunee for HTML5";xa.version="2.7.6 alpha3",xa.about="Qunee - Diagramming Components for HTML5/Canvas",xa.copyright="Copyright  2019 Qunee.com",xa.css=gi;return xa.IDrawable=ll,ti=function(){},xa.publishDate="14/6/2019",xa},window,document,undefined);
